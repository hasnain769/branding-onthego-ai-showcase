module.exports=[43449,a=>{"use strict";let b,c,d,e,f,g,h,i;function j(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function k(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function l(a){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function m(a){var b=function(a,b){if("object"!=l(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=l(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(a,"string");return"symbol"==l(b)?b:b+""}function n(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,m(d.key),d)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function p(a,b){if(b&&("object"==l(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(a,b){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function s(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&r(a,b)}function t(a,b,c){return(b=m(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function v(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){u(f,d,e,g,h,"next",a)}function h(a){u(f,d,e,g,h,"throw",a)}g(void 0)})}}function w(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function x(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return w(a,b);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?w(a,b):void 0}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y,z,A,B,C,D,E,F,G,H={exports:{}},I=function(){if(G)return H.exports;G=1;var a,b="object"==typeof Reflect?Reflect:null,c=b&&"function"==typeof b.apply?b.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};a=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var d=Number.isNaN||function(a){return a!=a};function e(){e.init.call(this)}H.exports=e,H.exports.once=function(a,b){return new Promise(function(c,d){function e(c){a.removeListener(b,f),d(c)}function f(){"function"==typeof a.removeListener&&a.removeListener("error",e),c([].slice.call(arguments))}o(a,b,f,{once:!0}),"error"!==b&&"function"==typeof a.on&&o(a,"error",e,{once:!0})})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var f=10;function g(a){if("function"!=typeof a)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function h(a){return void 0===a._maxListeners?e.defaultMaxListeners:a._maxListeners}function i(a,b,c,d){var e,f,i;if(g(c),void 0===(f=a._events)?(f=a._events=Object.create(null),a._eventsCount=0):(void 0!==f.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),f=a._events),i=f[b]),void 0===i)i=f[b]=c,++a._eventsCount;else if("function"==typeof i?i=f[b]=d?[c,i]:[i,c]:d?i.unshift(c):i.push(c),(e=h(a))>0&&i.length>e&&!i.warned){i.warned=!0;var j=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=a,j.type=b,j.count=i.length,console&&console.warn&&console.warn(j)}return a}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(a,b,c){var d={fired:!1,wrapFn:void 0,target:a,type:b,listener:c},e=j.bind(d);return e.listener=c,d.wrapFn=e,e}function l(a,b,c){var d=a._events;if(void 0===d)return[];var e=d[b];return void 0===e?[]:"function"==typeof e?c?[e.listener||e]:[e]:c?function(a){for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}(e):n(e,e.length)}function m(a){var b=this._events;if(void 0!==b){var c=b[a];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function n(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a[d];return c}function o(a,b,c,d){if("function"==typeof a.on)d.once?a.once(b,c):a.on(b,c);else{if("function"!=typeof a.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(b,function e(f){d.once&&a.removeEventListener(b,e),c(f)})}}return Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(a){if("number"!=typeof a||a<0||d(a))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");f=a}}),e.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||d(a))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},e.prototype.getMaxListeners=function(){return h(this)},e.prototype.emit=function(a){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);var e="error"===a,f=this._events;if(void 0!==f)e=e&&void 0===f.error;else if(!e)return!1;if(e){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,h=Error("Unhandled error."+(g?" ("+g.message+")":""));throw h.context=g,h}var i=f[a];if(void 0===i)return!1;if("function"==typeof i)c(i,this,b);else{var j=i.length,k=n(i,j);for(d=0;d<j;++d)c(k[d],this,b)}return!0},e.prototype.addListener=function(a,b){return i(this,a,b,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(a,b){return i(this,a,b,!0)},e.prototype.once=function(a,b){return g(b),this.on(a,k(this,a,b)),this},e.prototype.prependOnceListener=function(a,b){return g(b),this.prependListener(a,k(this,a,b)),this},e.prototype.removeListener=function(a,b){var c,d,e,f,h;if(g(b),void 0===(d=this._events)||void 0===(c=d[a]))return this;if(c===b||c.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length-1;f>=0;f--)if(c[f]===b||c[f].listener===b){h=c[f].listener,e=f;break}if(e<0)return this;0===e?c.shift():function(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}(c,e),1===c.length&&(d[a]=c[0]),void 0!==d.removeListener&&this.emit("removeListener",a,h||b)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(a){var b,c,d;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[a]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[a]),this;if(0==arguments.length){var e,f=Object.keys(c);for(d=0;d<f.length;++d)"removeListener"!==(e=f[d])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=c[a]))this.removeListener(a,b);else if(void 0!==b)for(d=b.length-1;d>=0;d--)this.removeListener(a,b[d]);return this},e.prototype.listeners=function(a){return l(this,a,!0)},e.prototype.rawListeners=function(a){return l(this,a,!1)},e.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):m.call(a,b)},e.prototype.listenerCount=m,e.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]},H.exports}(),J=I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I,K=Object.prototype.hasOwnProperty;function L(a,b,c){for(c of a.keys())if(M(c,b))return c}function M(a,b){var c,d,e;if(a===b)return!0;if(a&&b&&(c=a.constructor)===b.constructor){if(c===Date)return a.getTime()===b.getTime();if(c===RegExp)return a.toString()===b.toString();if(c===Array){if((d=a.length)===b.length)for(;d--&&M(a[d],b[d]););return -1===d}if(c===Set){if(a.size!==b.size)return!1;for(d of a)if((e=d)&&"object"==typeof e&&!(e=L(b,e))||!b.has(e))return!1;return!0}if(c===Map){if(a.size!==b.size)return!1;for(d of a)if((e=d[0])&&"object"==typeof e&&!(e=L(b,e))||!M(d[1],b.get(e)))return!1;return!0}if(c===ArrayBuffer)a=new Uint8Array(a),b=new Uint8Array(b);else if(c===DataView){if((d=a.byteLength)===b.byteLength)for(;d--&&a.getInt8(d)===b.getInt8(d););return -1===d}if(ArrayBuffer.isView(a)){if((d=a.byteLength)===b.byteLength)for(;d--&&a[d]===b[d];);return -1===d}if(!c||"object"==typeof a){for(c in d=0,a)if(K.call(a,c)&&++d&&!K.call(b,c)||!(c in b)||!M(a[c],b[c]))return!1;return Object.keys(b).length===d}}return a!=a&&b!=b}let N={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},O={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},P={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Q={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},R={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class S{static getFirstMatch(a,b){let c=b.match(a);return c&&c.length>0&&c[1]||""}static getSecondMatch(a,b){let c=b.match(a);return c&&c.length>1&&c[2]||""}static matchAndReturnConst(a,b,c){if(a.test(b))return c}static getWindowsVersionName(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),10===b[0])switch(b[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(a){let b=a.split(".").splice(0,2).map(a=>parseInt(a,10)||0);if(b.push(0),!(1===b[0]&&b[1]<5))return 1===b[0]&&b[1]<6?"Cupcake":1===b[0]&&b[1]>=6?"Donut":2===b[0]&&b[1]<2?"Eclair":2===b[0]&&2===b[1]?"Froyo":2===b[0]&&b[1]>2?"Gingerbread":3===b[0]?"Honeycomb":4===b[0]&&b[1]<1?"Ice Cream Sandwich":4===b[0]&&b[1]<4?"Jelly Bean":4===b[0]&&b[1]>=4?"KitKat":5===b[0]?"Lollipop":6===b[0]?"Marshmallow":7===b[0]?"Nougat":8===b[0]?"Oreo":9===b[0]?"Pie":void 0}static getVersionPrecision(a){return a.split(".").length}static compareVersions(a,b,c=!1){let d=S.getVersionPrecision(a),e=S.getVersionPrecision(b),f=Math.max(d,e),g=0,h=S.map([a,b],a=>{let b=f-S.getVersionPrecision(a),c=a+Array(b+1).join(".0");return S.map(c.split("."),a=>Array(20-a.length).join("0")+a).reverse()});for(c&&(g=f-Math.min(d,e)),f-=1;f>=g;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===g)return 0;f-=1}else if(h[0][f]<h[1][f])return -1}}static map(a,b){let c,d=[];if(Array.prototype.map)return Array.prototype.map.call(a,b);for(c=0;c<a.length;c+=1)d.push(b(a[c]));return d}static find(a,b){let c,d;if(Array.prototype.find)return Array.prototype.find.call(a,b);for(c=0,d=a.length;c<d;c+=1){let d=a[c];if(b(d,c))return d}}static assign(a,...b){return Object.assign(a,...b)}static getBrowserAlias(a){return N[a]}static getBrowserTypeByAlias(a){return O[a]||""}}let T=/version\/(\d+(\.?_?\d+)+)/i,U=[{test:[/googlebot/i],describe(a){let b={name:"Googlebot"},c=S.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/opera/i],describe(a){let b={name:"Opera"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opr\/|opios/i],describe(a){let b={name:"Opera"},c=S.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/SamsungBrowser/i],describe(a){let b={name:"Samsung Internet for Android"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Whale/i],describe(a){let b={name:"NAVER Whale Browser"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MZBrowser/i],describe(a){let b={name:"MZ Browser"},c=S.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/focus/i],describe(a){let b={name:"Focus"},c=S.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/swing/i],describe(a){let b={name:"Swing"},c=S.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/coast/i],describe(a){let b={name:"Opera Coast"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(a){let b={name:"Opera Touch"},c=S.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/yabrowser/i],describe(a){let b={name:"Yandex Browser"},c=S.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/ucbrowser/i],describe(a){let b={name:"UC Browser"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/Maxthon|mxios/i],describe(a){let b={name:"Maxthon"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/epiphany/i],describe(a){let b={name:"Epiphany"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/puffin/i],describe(a){let b={name:"Puffin"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sleipnir/i],describe(a){let b={name:"Sleipnir"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/k-meleon/i],describe(a){let b={name:"K-Meleon"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/micromessenger/i],describe(a){let b={name:"WeChat"},c=S.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/qqbrowser/i],describe(a){let b={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},c=S.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/msie|trident/i],describe(a){let b={name:"Internet Explorer"},c=S.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/\sedg\//i],describe(a){let b={name:"Microsoft Edge"},c=S.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/edg([ea]|ios)/i],describe(a){let b={name:"Microsoft Edge"},c=S.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/vivaldi/i],describe(a){let b={name:"Vivaldi"},c=S.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/seamonkey/i],describe(a){let b={name:"SeaMonkey"},c=S.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/sailfish/i],describe(a){let b={name:"Sailfish"},c=S.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return c&&(b.version=c),b}},{test:[/silk/i],describe(a){let b={name:"Amazon Silk"},c=S.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/phantom/i],describe(a){let b={name:"PhantomJS"},c=S.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/slimerjs/i],describe(a){let b={name:"SlimerJS"},c=S.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b={name:"BlackBerry"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(web|hpw)[o0]s/i],describe(a){let b={name:"WebOS Browser"},c=S.getFirstMatch(T,a)||S.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/bada/i],describe(a){let b={name:"Bada"},c=S.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/tizen/i],describe(a){let b={name:"Tizen"},c=S.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/qupzilla/i],describe(a){let b={name:"QupZilla"},c=S.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/firefox|iceweasel|fxios/i],describe(a){let b={name:"Firefox"},c=S.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/electron/i],describe(a){let b={name:"Electron"},c=S.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/MiuiBrowser/i],describe(a){let b={name:"Miui"},c=S.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/chromium/i],describe(a){let b={name:"Chromium"},c=S.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/chrome|crios|crmo/i],describe(a){let b={name:"Chrome"},c=S.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/GSA/i],describe(a){let b={name:"Google Search"},c=S.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b={name:"Android Browser"},c=S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/playstation 4/i],describe(a){let b={name:"PlayStation 4"},c=S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/safari|applewebkit/i],describe(a){let b={name:"Safari"},c=S.getFirstMatch(T,a);return c&&(b.version=c),b}},{test:[/.*/i],describe(a){let b=-1!==a.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:S.getFirstMatch(b,a),version:S.getSecondMatch(b,a)}}}];var V=[{test:[/Roku\/DVP/],describe(a){let b=S.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:Q.Roku,version:b}}},{test:[/windows phone/i],describe(a){let b=S.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:Q.WindowsPhone,version:b}}},{test:[/windows /i],describe(a){let b=S.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),c=S.getWindowsVersionName(b);return{name:Q.Windows,version:b,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(a){let b={name:Q.iOS},c=S.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return c&&(b.version=c),b}},{test:[/macintosh/i],describe(a){let b=S.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),c=S.getMacOSVersionName(b),d={name:Q.MacOS,version:b};return c&&(d.versionName=c),d}},{test:[/(ipod|iphone|ipad)/i],describe(a){let b=S.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:Q.iOS,version:b}}},{test(a){let b=!a.test(/like android/i),c=a.test(/android/i);return b&&c},describe(a){let b=S.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),c=S.getAndroidVersionName(b),d={name:Q.Android,version:b};return c&&(d.versionName=c),d}},{test:[/(web|hpw)[o0]s/i],describe(a){let b=S.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),c={name:Q.WebOS};return b&&b.length&&(c.version=b),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){let b=S.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||S.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||S.getFirstMatch(/\bbb(\d+)/i,a);return{name:Q.BlackBerry,version:b}}},{test:[/bada/i],describe(a){let b=S.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:Q.Bada,version:b}}},{test:[/tizen/i],describe(a){let b=S.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:Q.Tizen,version:b}}},{test:[/linux/i],describe:()=>({name:Q.Linux})},{test:[/CrOS/],describe:()=>({name:Q.ChromeOS})},{test:[/PlayStation 4/],describe(a){let b=S.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:Q.PlayStation4,version:b}}}],W=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(a){let b=S.getFirstMatch(/(can-l01)/i,a)&&"Nova",c={type:P.mobile,vendor:"Huawei"};return b&&(c.model=b),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:P.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:P.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:P.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:P.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:P.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:P.tablet})},{test(a){let b=a.test(/ipod|iphone/i),c=a.test(/like (ipod|iphone)/i);return b&&!c},describe(a){let b=S.getFirstMatch(/(ipod|iphone)/i,a);return{type:P.mobile,vendor:"Apple",model:b}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:P.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:P.mobile})},{test:a=>"blackberry"===a.getBrowserName(!0),describe:()=>({type:P.mobile,vendor:"BlackBerry"})},{test:a=>"bada"===a.getBrowserName(!0),describe:()=>({type:P.mobile})},{test:a=>"windows phone"===a.getBrowserName(),describe:()=>({type:P.mobile,vendor:"Microsoft"})},{test(a){let b=Number(String(a.getOSVersion()).split(".")[0]);return"android"===a.getOSName(!0)&&b>=3},describe:()=>({type:P.tablet})},{test:a=>"android"===a.getOSName(!0),describe:()=>({type:P.mobile})},{test:a=>"macos"===a.getOSName(!0),describe:()=>({type:P.desktop,vendor:"Apple"})},{test:a=>"windows"===a.getOSName(!0),describe:()=>({type:P.desktop})},{test:a=>"linux"===a.getOSName(!0),describe:()=>({type:P.desktop})},{test:a=>"playstation 4"===a.getOSName(!0),describe:()=>({type:P.tv})},{test:a=>"roku"===a.getOSName(!0),describe:()=>({type:P.tv})}],X=[{test:a=>"microsoft edge"===a.getBrowserName(!0),describe(a){if(/\sedg\//i.test(a))return{name:R.Blink};let b=S.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:R.EdgeHTML,version:b}}},{test:[/trident/i],describe(a){let b={name:R.Trident},c=S.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:a=>a.test(/presto/i),describe(a){let b={name:R.Presto},c=S.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test(a){let b=a.test(/gecko/i),c=a.test(/like gecko/i);return b&&!c},describe(a){let b={name:R.Gecko},c=S.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:R.Blink})},{test:[/(apple)?webkit/i],describe(a){let b={name:R.WebKit},c=S.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return c&&(b.version=c),b}}];class Y{constructor(a,b=!1){if(null==a||""===a)throw Error("UserAgent parameter can't be empty");this._ua=a,this.parsedResult={},!0!==b&&this.parse()}getUA(){return this._ua}test(a){return a.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let a=S.find(U,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.browser=a.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(a){return a?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let a=S.find(V,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.os=a.describe(this.getUA())),this.parsedResult.os}getOSName(a){let{name:b}=this.getOS();return a?String(b).toLowerCase()||"":b||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(a=!1){let{type:b}=this.getPlatform();return a?String(b).toLowerCase()||"":b||""}parsePlatform(){this.parsedResult.platform={};let a=S.find(W,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.platform=a.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(a){return a?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let a=S.find(X,a=>{if("function"==typeof a.test)return a.test(this);if(a.test instanceof Array)return a.test.some(a=>this.test(a));throw Error("Browser's test function is not valid")});return a&&(this.parsedResult.engine=a.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return S.assign({},this.parsedResult)}satisfies(a){let b={},c=0,d={},e=0;if(Object.keys(a).forEach(f=>{let g=a[f];"string"==typeof g?(d[f]=g,e+=1):"object"==typeof g&&(b[f]=g,c+=1)}),c>0){let a=Object.keys(b),c=S.find(a,a=>this.isOS(a));if(c){let a=this.satisfies(b[c]);if(void 0!==a)return a}let d=S.find(a,a=>this.isPlatform(a));if(d){let a=this.satisfies(b[d]);if(void 0!==a)return a}}if(e>0){let a=Object.keys(d),b=S.find(a,a=>this.isBrowser(a,!0));if(void 0!==b)return this.compareVersion(d[b])}}isBrowser(a,b=!1){let c=this.getBrowserName().toLowerCase(),d=a.toLowerCase(),e=S.getBrowserTypeByAlias(d);return b&&e&&(d=e.toLowerCase()),d===c}compareVersion(a){let b=[0],c=a,d=!1,e=this.getBrowserVersion();if("string"==typeof e)return">"===a[0]||"<"===a[0]?(c=a.substr(1),"="===a[1]?(d=!0,c=a.substr(2)):b=[],">"===a[0]?b.push(1):b.push(-1)):"="===a[0]?c=a.substr(1):"~"===a[0]&&(d=!0,c=a.substr(1)),b.indexOf(S.compareVersions(e,c,d))>-1}isOS(a){return this.getOSName(!0)===String(a).toLowerCase()}isPlatform(a){return this.getPlatformType(!0)===String(a).toLowerCase()}isEngine(a){return this.getEngineName(!0)===String(a).toLowerCase()}is(a,b=!1){return this.isBrowser(a,b)||this.isOS(a)||this.isPlatform(a)}some(a=[]){return a.some(a=>this.is(a))}}class Z{static getParser(a,b=!1){if("string"!=typeof a)throw Error("UserAgent should be a string");return new Y(a,b)}static parse(a){return new Y(a).getResult()}static get BROWSER_MAP(){return O}static get ENGINE_MAP(){return R}static get OS_MAP(){return Q}static get PLATFORMS_MAP(){return P}}function $(){return Date.now()+Math.random().toString()}function _(){throw Error("Method must be implemented in subclass")}function aa(a,b){return null!=b&&b.proxyUrl?b.proxyUrl+("/"===b.proxyUrl.slice(-1)?"":"/")+a.substring(8):a}function ab(a){return null!=a&&a.callObjectBundleUrlOverride?a.callObjectBundleUrlOverride:aa("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),a)}function ac(a){try{new URL(a)}catch(a){return!1}return!0}let ad="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ae="8.55.0",af=globalThis;function ag(a,b,c){let d=c||af,e=d.__SENTRY__=d.__SENTRY__||{},f=e[ae]=e[ae]||{};return f[a]||(f[a]=b())}let ah="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ai=["debug","info","warn","error","log","assert","trace"],aj={};function ak(a){if(!("console"in af))return a();let b=af.console,c={},d=Object.keys(aj);d.forEach(a=>{let d=aj[a];c[a]=b[a],b[a]=d});try{return a()}finally{d.forEach(a=>{b[a]=c[a]})}}let al=ag("logger",function(){let a=!1,b={enable:()=>{a=!0},disable:()=>{a=!1},isEnabled:()=>a};return ah?ai.forEach(c=>{b[c]=(...b)=>{a&&ak(()=>{af.console[c](`Sentry Logger [${c}]:`,...b)})}}):ai.forEach(a=>{b[a]=()=>{}}),b}),am=/\(error: (.*)\)/,an=/captureMessage|captureException/;function ao(a){return a[a.length-1]||{}}let ap="<anonymous>";function aq(a){try{return a&&"function"==typeof a&&a.name||ap}catch(a){return ap}}function ar(a){let b=a.exception;if(b){let a=[];try{return b.values.forEach(b=>{b.stacktrace.frames&&a.push(...b.stacktrace.frames)}),a}catch(a){return}}}let as={},at={};function au(a,b){as[a]=as[a]||[],as[a].push(b)}function av(a,b){if(!at[a]){at[a]=!0;try{b()}catch(b){ah&&al.error(`Error while instrumenting ${a}`,b)}}}function aw(a,b){let c=a&&as[a];if(c)for(let d of c)try{d(b)}catch(b){ah&&al.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${aq(d)}
Error:`,b)}}let ax=null;function ay(){ax=af.onerror,af.onerror=function(a,b,c,d,e){return aw("error",{column:d,error:e,line:c,msg:a,url:b}),!!ax&&ax.apply(this,arguments)},af.onerror.__SENTRY_INSTRUMENTED__=!0}let az=null;function aA(){az=af.onunhandledrejection,af.onunhandledrejection=function(a){return aw("unhandledrejection",a),!az||az.apply(this,arguments)},af.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function aB(){return aC(af),af}function aC(a){let b=a.__SENTRY__=a.__SENTRY__||{};return b.version=b.version||ae,b[ae]=b[ae]||{}}let aD=Object.prototype.toString;function aE(a){switch(aD.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return aO(a,Error)}}function aF(a,b){return aD.call(a)===`[object ${b}]`}function aG(a){return aF(a,"ErrorEvent")}function aH(a){return aF(a,"DOMError")}function aI(a){return aF(a,"String")}function aJ(a){return"object"==typeof a&&null!==a&&"__sentry_template_string__"in a&&"__sentry_template_values__"in a}function aK(a){return null===a||aJ(a)||"object"!=typeof a&&"function"!=typeof a}function aL(a){return aF(a,"Object")}function aM(a){return"undefined"!=typeof Event&&aO(a,Event)}function aN(a){return!!(a&&a.then&&"function"==typeof a.then)}function aO(a,b){try{return a instanceof b}catch(a){return!1}}function aP(a){return!("object"!=typeof a||null===a||!a.__isVue&&!a._isVue)}function aQ(a,b={}){if(!a)return"<unknown>";try{let c,d=a,e=[],f=0,g=0,h=Array.isArray(b)?b:b.keyAttrs,i=!Array.isArray(b)&&b.maxStringLength||80;for(;d&&f++<5&&(c=function(a,b){let c=[];if(!a||!a.tagName)return"";if(af.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}c.push(a.tagName.toLowerCase());let d=b&&b.length?b.filter(b=>a.getAttribute(b)).map(b=>[b,a.getAttribute(b)]):null;if(d&&d.length)d.forEach(a=>{c.push(`[${a[0]}="${a[1]}"]`)});else{a.id&&c.push(`#${a.id}`);let b=a.className;if(b&&aI(b))for(let a of b.split(/\s+/))c.push(`.${a}`)}for(let b of["aria-label","type","name","title","alt"]){let d=a.getAttribute(b);d&&c.push(`[${b}="${d}"]`)}return c.join("")}(d,h),!("html"===c||f>1&&g+3*e.length+c.length>=i));)e.push(c),g+=c.length,d=d.parentNode;return e.reverse().join(" > ")}catch(a){return"<unknown>"}}function aR(a,b=0){return"string"!=typeof a||0===b||a.length<=b?a:`${a.slice(0,b)}...`}function aS(a,b){if(!Array.isArray(a))return"";let c=[];for(let b=0;b<a.length;b++){let d=a[b];try{aP(d)?c.push("[VueViewModel]"):c.push(String(d))}catch(a){c.push("[value cannot be serialized]")}}return c.join(b)}function aT(a,b=[],c=!1){return b.some(b=>(function(a,b,c=!1){return!!aI(a)&&(aF(b,"RegExp")?b.test(a):!!aI(b)&&(c?a===b:a.includes(b)))})(a,b,c))}function aU(a,b,c){if(!(b in a))return;let d=a[b],e=c(d);"function"==typeof e&&aW(e,d);try{a[b]=e}catch(c){ah&&al.log(`Failed to replace method "${b}" in object`,a)}}function aV(a,b,c){try{Object.defineProperty(a,b,{value:c,writable:!0,configurable:!0})}catch(c){ah&&al.log(`Failed to add non-enumerable property "${b}" to object`,a)}}function aW(a,b){try{let c=b.prototype||{};a.prototype=b.prototype=c,aV(a,"__sentry_original__",b)}catch(a){}}function aX(a){return a.__sentry_original__}function aY(a){if(aE(a))return{message:a.message,name:a.name,stack:a.stack,...a$(a)};if(aM(a)){let b={type:a.type,target:aZ(a.target),currentTarget:aZ(a.currentTarget),...a$(a)};return"undefined"!=typeof CustomEvent&&aO(a,CustomEvent)&&(b.detail=a.detail),b}return a}function aZ(a){try{return"undefined"!=typeof Element&&aO(a,Element)?aQ(a):Object.prototype.toString.call(a)}catch(a){return"<unknown>"}}function a$(a){if("object"==typeof a&&null!==a){let b={};for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}return{}}function a_(a){return function a(b,c){if(function(a){if(!aL(a))return!1;try{let b=Object.getPrototypeOf(a).constructor.name;return!b||"Object"===b}catch(a){return!0}}(b)){let d=c.get(b);if(void 0!==d)return d;let e={};for(let d of(c.set(b,e),Object.getOwnPropertyNames(b)))void 0!==b[d]&&(e[d]=a(b[d],c));return e}if(Array.isArray(b)){let d=c.get(b);if(void 0!==d)return d;let e=[];return c.set(b,e),b.forEach(b=>{e.push(a(b,c))}),e}return b}(a,new Map)}function a0(){return Date.now()/1e3}let a1=function(){let{performance:a}=af;if(!a||!a.now)return a0;let b=Date.now()-a.now(),c=null==a.timeOrigin?b:a.timeOrigin;return()=>(c+a.now())/1e3}();function a2(){let a=af.crypto||af.msCrypto,b=()=>16*Math.random();try{if(a&&a.randomUUID)return a.randomUUID().replace(/-/g,"");a&&a.getRandomValues&&(b=()=>{let b=new Uint8Array(1);return a.getRandomValues(b),b[0]})}catch(a){}return"10000000100040008000100000000000".replace(/[018]/g,a=>(a^(15&b())>>a/4).toString(16))}function a3(a){return a.exception&&a.exception.values?a.exception.values[0]:void 0}function a4(a){let{message:b,event_id:c}=a;if(b)return b;let d=a3(a);return d?d.type&&d.value?`${d.type}: ${d.value}`:d.type||d.value||c||"<unknown>":c||"<unknown>"}function a5(a,b,c){let d=a.exception=a.exception||{},e=d.values=d.values||[],f=e[0]=e[0]||{};f.value||(f.value=b||""),f.type||(f.type=c||"Error")}function a6(a,b){let c=a3(a);if(!c)return;let d=c.mechanism;if(c.mechanism={type:"generic",handled:!0,...d,...b},b&&"data"in b){let a={...d&&d.data,...b.data};c.mechanism.data=a}}function a7(a){if(function(a){try{return a.__sentry_captured__}catch(a){}}(a))return!0;try{aV(a,"__sentry_captured__",!0)}catch(a){}return!1}function a8(a){return new ba(b=>{b(a)})}function a9(a){return new ba((b,c)=>{c(a)})}(()=>{let{performance:a}=af;if(!a||!a.now)return;let b=a.now(),c=Date.now(),d=a.timeOrigin?Math.abs(a.timeOrigin+b-c):36e5,e=a.timing&&a.timing.navigationStart,f="number"==typeof e?Math.abs(e+b-c):36e5;(d<36e5||f<36e5)&&d<=f&&a.timeOrigin})(),(y=F||(F={}))[y.PENDING=0]="PENDING",y[y.RESOLVED=1]="RESOLVED",y[y.REJECTED=2]="REJECTED";class ba{constructor(a){ba.prototype.__init.call(this),ba.prototype.__init2.call(this),ba.prototype.__init3.call(this),ba.prototype.__init4.call(this),this._state=F.PENDING,this._handlers=[];try{a(this._resolve,this._reject)}catch(a){this._reject(a)}}then(a,b){return new ba((c,d)=>{this._handlers.push([!1,b=>{if(a)try{c(a(b))}catch(a){d(a)}else c(b)},a=>{if(b)try{c(b(a))}catch(a){d(a)}else d(a)}]),this._executeHandlers()})}catch(a){return this.then(a=>a,a)}finally(a){return new ba((b,c)=>{let d,e;return this.then(b=>{e=!1,d=b,a&&a()},b=>{e=!0,d=b,a&&a()}).then(()=>{e?c(d):b(d)})})}__init(){this._resolve=a=>{this._setResult(F.RESOLVED,a)}}__init2(){this._reject=a=>{this._setResult(F.REJECTED,a)}}__init3(){this._setResult=(a,b)=>{this._state===F.PENDING&&(aN(b)?b.then(this._resolve,this._reject):(this._state=a,this._value=b,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===F.PENDING)return;let a=this._handlers.slice();this._handlers=[],a.forEach(a=>{a[0]||(this._state===F.RESOLVED&&a[1](this._value),this._state===F.REJECTED&&a[2](this._value),a[0]=!0)})}}}function bb(a,b={}){if(b.user&&(!a.ipAddress&&b.user.ip_address&&(a.ipAddress=b.user.ip_address),a.did||b.did||(a.did=b.user.id||b.user.email||b.user.username)),a.timestamp=b.timestamp||a1(),b.abnormal_mechanism&&(a.abnormal_mechanism=b.abnormal_mechanism),b.ignoreDuration&&(a.ignoreDuration=b.ignoreDuration),b.sid&&(a.sid=32===b.sid.length?b.sid:a2()),void 0!==b.init&&(a.init=b.init),!a.did&&b.did&&(a.did=`${b.did}`),"number"==typeof b.started&&(a.started=b.started),a.ignoreDuration)a.duration=void 0;else if("number"==typeof b.duration)a.duration=b.duration;else{let b=a.timestamp-a.started;a.duration=b>=0?b:0}b.release&&(a.release=b.release),b.environment&&(a.environment=b.environment),!a.ipAddress&&b.ipAddress&&(a.ipAddress=b.ipAddress),!a.userAgent&&b.userAgent&&(a.userAgent=b.userAgent),"number"==typeof b.errors&&(a.errors=b.errors),b.status&&(a.status=b.status)}function bc(){return a2().substring(16)}function bd(a,b,c=2){if(!b||"object"!=typeof b||c<=0)return b;if(a&&b&&0===Object.keys(b).length)return a;let d={...a};for(let a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=bd(d[a],b[a],c-1));return d}let be="_sentrySpan";function bf(a,b){b?aV(a,be,b):delete a[be]}class bg{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:a2(),spanId:bc()}}clone(){let a=new bg;return a._breadcrumbs=[...this._breadcrumbs],a._tags={...this._tags},a._extra={...this._extra},a._contexts={...this._contexts},this._contexts.flags&&(a._contexts.flags={values:[...this._contexts.flags.values]}),a._user=this._user,a._level=this._level,a._session=this._session,a._transactionName=this._transactionName,a._fingerprint=this._fingerprint,a._eventProcessors=[...this._eventProcessors],a._requestSession=this._requestSession,a._attachments=[...this._attachments],a._sdkProcessingMetadata={...this._sdkProcessingMetadata},a._propagationContext={...this._propagationContext},a._client=this._client,a._lastEventId=this._lastEventId,bf(a,this[be]),a}setClient(a){this._client=a}setLastEventId(a){this._lastEventId=a}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(a){this._scopeListeners.push(a)}addEventProcessor(a){return this._eventProcessors.push(a),this}setUser(a){return this._user=a||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&bb(this._session,{user:a}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(a){return this._requestSession=a,this}setTags(a){return this._tags={...this._tags,...a},this._notifyScopeListeners(),this}setTag(a,b){return this._tags={...this._tags,[a]:b},this._notifyScopeListeners(),this}setExtras(a){return this._extra={...this._extra,...a},this._notifyScopeListeners(),this}setExtra(a,b){return this._extra={...this._extra,[a]:b},this._notifyScopeListeners(),this}setFingerprint(a){return this._fingerprint=a,this._notifyScopeListeners(),this}setLevel(a){return this._level=a,this._notifyScopeListeners(),this}setTransactionName(a){return this._transactionName=a,this._notifyScopeListeners(),this}setContext(a,b){return null===b?delete this._contexts[a]:this._contexts[a]=b,this._notifyScopeListeners(),this}setSession(a){return a?this._session=a:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(a){if(!a)return this;let b="function"==typeof a?a(this):a,[c,d]=b instanceof bh?[b.getScopeData(),b.getRequestSession()]:aL(b)?[a,a.requestSession]:[],{tags:e,extra:f,user:g,contexts:h,level:i,fingerprint:j=[],propagationContext:k}=c||{};return this._tags={...this._tags,...e},this._extra={...this._extra,...f},this._contexts={...this._contexts,...h},g&&Object.keys(g).length&&(this._user=g),i&&(this._level=i),j.length&&(this._fingerprint=j),k&&(this._propagationContext=k),d&&(this._requestSession=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bf(this,void 0),this._attachments=[],this.setPropagationContext({traceId:a2()}),this._notifyScopeListeners(),this}addBreadcrumb(a,b){let c="number"==typeof b?b:100;if(c<=0)return this;let d={timestamp:a0(),...a};return this._breadcrumbs.push(d),this._breadcrumbs.length>c&&(this._breadcrumbs=this._breadcrumbs.slice(-c),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(a){return this._attachments.push(a),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[be]}}setSDKProcessingMetadata(a){return this._sdkProcessingMetadata=bd(this._sdkProcessingMetadata,a,2),this}setPropagationContext(a){return this._propagationContext={spanId:bc(),...a},this}getPropagationContext(){return this._propagationContext}captureException(a,b){let c=b&&b.event_id?b.event_id:a2();if(!this._client)return al.warn("No client configured on scope - will not capture exception!"),c;let d=Error("Sentry syntheticException");return this._client.captureException(a,{originalException:a,syntheticException:d,...b,event_id:c},this),c}captureMessage(a,b,c){let d=c&&c.event_id?c.event_id:a2();if(!this._client)return al.warn("No client configured on scope - will not capture message!"),d;let e=Error(a);return this._client.captureMessage(a,b,{originalException:a,syntheticException:e,...c,event_id:d},this),d}captureEvent(a,b){let c=b&&b.event_id?b.event_id:a2();return this._client?this._client.captureEvent(a,{...b,event_id:c},this):al.warn("No client configured on scope - will not capture event!"),c}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(a=>{a(this)}),this._notifyingListeners=!1)}}let bh=bg;class bi{constructor(a,b){let c,d;c=a||new bh,d=b||new bh,this._stack=[{scope:c}],this._isolationScope=d}withScope(a){let b,c=this._pushScope();try{b=a(c)}catch(a){throw this._popScope(),a}return aN(b)?b.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),b)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let a=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:a}),a}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function bj(){let a=aC(aB());return a.stack=a.stack||new bi(ag("defaultCurrentScope",()=>new bh),ag("defaultIsolationScope",()=>new bh))}function bk(a){return bj().withScope(a)}function bl(a,b){let c=bj();return c.withScope(()=>(c.getStackTop().scope=a,b(a)))}function bm(a){return bj().withScope(()=>a(bj().getIsolationScope()))}function bn(a){let b=aC(a);return b.acs?b.acs:{withIsolationScope:bm,withScope:bk,withSetScope:bl,withSetIsolationScope:(a,b)=>bm(b),getCurrentScope:()=>bj().getScope(),getIsolationScope:()=>bj().getIsolationScope()}}function bo(){return bn(aB()).getCurrentScope()}function bp(){return bn(aB()).getIsolationScope()}function bq(){return bo().getClient()}let br=/^sentry-/;function bs(a){return a.split(",").map(a=>a.split("=").map(a=>decodeURIComponent(a.trim()))).reduce((a,[b,c])=>(b&&c&&(a[b]=c),a),{})}let bt=!1;function bu(a){return"number"==typeof a?bv(a):Array.isArray(a)?a[0]+a[1]/1e9:a instanceof Date?bv(a.getTime()):a1()}function bv(a){return a>0x2540be3ff?a/1e3:a}function bw(a){if("function"==typeof a.getSpanJSON)return a.getSpanJSON();try{let{spanId:b,traceId:c}=a.spanContext();if(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status){let{attributes:d,startTime:e,name:f,endTime:g,parentSpanId:h,status:i}=a;return a_({span_id:b,trace_id:c,data:d,description:f,parent_span_id:h,start_timestamp:bu(e),timestamp:bu(g)||void 0,status:function(a){if(a&&0!==a.code)return 1===a.code?"ok":a.message||"unknown_error"}(i),op:d["sentry.op"],origin:d["sentry.origin"],_metrics_summary:function(a){let b=a._sentryMetrics;if(!b)return;let c={};for(let[,[a,d]]of b)(c[a]||(c[a]=[])).push(a_(d));return c}(a)})}return{span_id:b,trace_id:c}}catch(a){return{}}}function bx(a){return a._sentryRootSpan||a}let by="production";function bz(a,b){let c=b.getOptions(),{publicKey:d}=b.getDsn()||{},e=a_({environment:c.environment||by,release:c.release,public_key:d,trace_id:a});return b.emit("createDsc",e),e}let bA=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function bB(a,b=!1){let{host:c,path:d,pass:e,port:f,projectId:g,protocol:h,publicKey:i}=a;return`${h}://${i}${b&&e?`:${e}`:""}@${c}${f?`:${f}`:""}/${d?`${d}/`:d}${g}`}function bC(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function bD(b,c=100,d=1/0){try{return function b(c,d,e=1/0,f=1/0,g=function(){let a="function"==typeof WeakSet,b=a?new WeakSet:[];return[function(c){if(a)return!!b.has(c)||(b.add(c),!1);for(let a=0;a<b.length;a++)if(b[a]===c)return!0;return b.push(c),!1},function(c){if(a)b.delete(c);else for(let a=0;a<b.length;a++)if(b[a]===c){b.splice(a,1);break}}]}()){let[h,i]=g;if(null==d||["boolean","string"].includes(typeof d)||"number"==typeof d&&Number.isFinite(d))return d;let j=function(b,c){try{let d;if("domain"===b&&c&&"object"==typeof c&&c._events)return"[Domain]";if("domainEmitter"===b)return"[DomainEmitter]";if(c===a.g)return"[Global]";if("undefined"!=typeof document&&c===document)return"[Document]";if(aP(c))return"[VueViewModel]";if(aL(c)&&"nativeEvent"in c&&"preventDefault"in c&&"stopPropagation"in c)return"[SyntheticEvent]";if("number"==typeof c&&!Number.isFinite(c))return`[${c}]`;if("function"==typeof c)return`[Function: ${aq(c)}]`;if("symbol"==typeof c)return`[${String(c)}]`;if("bigint"==typeof c)return`[BigInt: ${String(c)}]`;let e=(d=Object.getPrototypeOf(c))?d.constructor.name:"null prototype";return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(a){return`**non-serializable** (${a})`}}(c,d);if(!j.startsWith("[object "))return j;if(d.__sentry_skip_normalization__)return d;let k="number"==typeof d.__sentry_override_normalization_depth__?d.__sentry_override_normalization_depth__:e;if(0===k)return j.replace("object ","");if(h(d))return"[Circular ~]";if(d&&"function"==typeof d.toJSON)try{return b("",d.toJSON(),k-1,f,g)}catch(a){}let l=Array.isArray(d)?[]:{},m=0,n=aY(d);for(let a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;if(m>=f){l[a]="[MaxProperties ~]";break}let c=n[a];l[a]=b(a,c,k-1,f,g),m++}return i(d),l}("",b,c,d)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}function bE(a,b=[]){return[a,b]}function bF(a,b){for(let c of a[1])if(b(c,c[0].type))return!0;return!1}function bG(a){return af.__SENTRY__&&af.__SENTRY__.encodePolyfill?af.__SENTRY__.encodePolyfill(a):(new TextEncoder).encode(a)}let bH={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function bI(a){if(!a||!a.sdk)return;let{name:b,version:c}=a.sdk;return{name:b,version:c}}function bJ(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,sdkProcessingMetadata:h,breadcrumbs:i,fingerprint:j,eventProcessors:k,attachments:l,propagationContext:m,transactionName:n,span:o}=b;bK(a,"extra",c),bK(a,"tags",d),bK(a,"user",e),bK(a,"contexts",f),a.sdkProcessingMetadata=bd(a.sdkProcessingMetadata,h,2),g&&(a.level=g),n&&(a.transactionName=n),o&&(a.span=o),i.length&&(a.breadcrumbs=[...a.breadcrumbs,...i]),j.length&&(a.fingerprint=[...a.fingerprint,...j]),k.length&&(a.eventProcessors=[...a.eventProcessors,...k]),l.length&&(a.attachments=[...a.attachments,...l]),a.propagationContext={...a.propagationContext,...m}}function bK(a,b,c){a[b]=bd(a[b],c,1)}let bL=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function bM(a,b){return bo().captureEvent(a,b)}function bN(a){var b;let c,d,e=bq(),f=bp(),g=bo(),{release:h,environment:i=by}=e&&e.getOptions()||{},{userAgent:j}=af.navigator||{},k=(b={release:h,environment:i,user:g.getUser()||f.getUser(),...j&&{userAgent:j},...a},c=a1(),d={sid:a2(),init:!0,timestamp:c,started:c,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var a;return a=d,a_({sid:`${a.sid}`,init:a.init,started:new Date(1e3*a.started).toISOString(),timestamp:new Date(1e3*a.timestamp).toISOString(),status:a.status,errors:a.errors,did:"number"==typeof a.did||"string"==typeof a.did?`${a.did}`:void 0,duration:a.duration,abnormal_mechanism:a.abnormal_mechanism,attrs:{release:a.release,environment:a.environment,ip_address:a.ipAddress,user_agent:a.userAgent}})}},b&&bb(d,b),d),l=f.getSession();return l&&"ok"===l.status&&bb(l,{status:"exited"}),bO(),f.setSession(k),g.setSession(k),k}function bO(){let a,b=bp(),c=bo(),d=c.getSession()||b.getSession();d&&(a={},"ok"===d.status&&(a={status:"exited"}),bb(d,a)),bP(),b.setSession(),c.setSession()}function bP(){let a=bp(),b=bo(),c=bq(),d=b.getSession()||a.getSession();d&&c&&c.captureSession(d)}function bQ(a=!1){a?bO():bP()}let bR=[];function bS(a,b){for(let c of b)c&&c.afterAllSetup&&c.afterAllSetup(a)}function bT(a,b,c){if(c[b.name])ad&&al.log(`Integration skipped because it was already installed: ${b.name}`);else{if(c[b.name]=b,-1===bR.indexOf(b.name)&&"function"==typeof b.setupOnce&&(b.setupOnce(),bR.push(b.name)),b.setup&&"function"==typeof b.setup&&b.setup(a),"function"==typeof b.preprocessEvent){let c=b.preprocessEvent.bind(b);a.on("preprocessEvent",(b,d)=>c(b,d,a))}if("function"==typeof b.processEvent){let c=b.processEvent.bind(b),d=Object.assign((b,d)=>c(b,d,a),{id:b.name});a.addEventProcessor(d)}ad&&al.log(`Integration installed: ${b.name}`)}}class bU extends Error{constructor(a,b="warn"){super(a),this.message=a,this.logLevel=b}}let bV="Not capturing exception because it's already been captured.";class bW{constructor(a){if(this._options=a,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],a.dsn?this._dsn=function(a){let b="string"==typeof a?function(a){let b=bA.exec(a);if(!b)return void ak(()=>{console.error(`Invalid Sentry Dsn: ${a}`)});let[c,d,e="",f="",g="",h=""]=b.slice(1),i="",j=h,k=j.split("/");if(k.length>1&&(i=k.slice(0,-1).join("/"),j=k.pop()),j){let a=j.match(/^\d+/);a&&(j=a[0])}return bC({host:f,pass:e,path:i,projectId:j,port:g,protocol:c,publicKey:d})}(a):bC(a);if(b&&function(a){if(!ah)return!0;let{port:b,projectId:c,protocol:d}=a;return!(["protocol","publicKey","host","projectId"].find(b=>!a[b]&&(al.error(`Invalid Sentry Dsn: ${b} missing`),!0))||(c.match(/^\d+$/)?"http"===d||"https"===d?b&&isNaN(parseInt(b,10))&&(al.error(`Invalid Sentry Dsn: Invalid port ${b}`),1):(al.error(`Invalid Sentry Dsn: Invalid protocol ${d}`),1):(al.error(`Invalid Sentry Dsn: Invalid projectId ${c}`),1)))}(b))return b}(a.dsn):ad&&al.warn("No DSN provided, client will not send events."),this._dsn){const b=function(a,b,c){let d,e,f;return b||`${d=a.protocol?`${a.protocol}:`:"",e=a.port?`:${a.port}`:"",`${d}//${a.host}${e}${a.path?`/${a.path}`:""}/api/`}${a.projectId}/envelope/?${f={sentry_version:"7"},a.publicKey&&(f.sentry_key=a.publicKey),c&&(f.sentry_client=`${c.name}/${c.version}`),new URLSearchParams(f).toString()}`}(this._dsn,a.tunnel,a._metadata?a._metadata.sdk:void 0);this._transport=a.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...a.transportOptions,url:b})}const b=["enableTracing","tracesSampleRate","tracesSampler"].find(b=>b in a&&null==a[b]);b&&ak(()=>{console.warn(`[Sentry] Deprecation warning: \`${b}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(a,b,c){let d=a2();if(a7(a))return ad&&al.log(bV),d;let e={event_id:d,...b};return this._process(this.eventFromException(a,e).then(a=>this._captureEvent(a,e,c))),e.event_id}captureMessage(a,b,c,d){let e={event_id:a2(),...c},f=aJ(a)?a:String(a),g=aK(a)?this.eventFromMessage(f,b,e):this.eventFromException(a,e);return this._process(g.then(a=>this._captureEvent(a,e,d))),e.event_id}captureEvent(a,b,c){let d=a2();if(b&&b.originalException&&a7(b.originalException))return ad&&al.log(bV),d;let e={event_id:d,...b},f=(a.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(a,e,f||c)),e.event_id}captureSession(a){"string"!=typeof a.release?ad&&al.warn("Discarded session because of missing or non-string release"):(this.sendSession(a),bb(a,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(a){let b=this._transport;return b?(this.emit("flush"),this._isClientDoneProcessing(a).then(c=>b.flush(a).then(a=>c&&a))):a8(!0)}close(a){return this.flush(a).then(a=>(this.getOptions().enabled=!1,this.emit("close"),a))}getEventProcessors(){return this._eventProcessors}addEventProcessor(a){this._eventProcessors.push(a)}init(){(this._isEnabled()||this._options.integrations.some(({name:a})=>a.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(a){return this._integrations[a]}addIntegration(a){let b=this._integrations[a.name];bT(this,a,this._integrations),b||bS(this,[a])}sendEvent(a,b={}){var c,d,e,f;let g,h,i,j;this.emit("beforeSendEvent",a,b);let k=(c=this._dsn,d=this._options._metadata,e=this._options.tunnel,g=bI(d),h=a.type&&"replay_event"!==a.type?a.type:"event",(f=d&&d.sdk)&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||f.name,a.sdk.version=a.sdk.version||f.version,a.sdk.integrations=[...a.sdk.integrations||[],...f.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...f.packages||[]]),i=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext,j={event_id:a.event_id,sent_at:(new Date).toISOString(),...g&&{sdk:g},...!!e&&c&&{dsn:bB(c)},...i&&{trace:a_({...i})}},delete a.sdkProcessingMetadata,bE(j,[[{type:h},a]]));for(let a of b.attachments||[])k=function(a,b){let[c,d]=a;return[c,[...d,b]]}(k,function(a){let b="string"==typeof a.data?bG(a.data):a.data;return[a_({type:"attachment",length:b.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),b]}(a));let l=this.sendEnvelope(k);l&&l.then(b=>this.emit("afterSendEvent",a,b),null)}sendSession(a){var b,c,d;let e,f=(b=this._dsn,c=this._options._metadata,d=this._options.tunnel,e=bI(c),bE({sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!d&&b&&{dsn:bB(b)}},["aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()]]));this.sendEnvelope(f)}recordDroppedEvent(a,b,c){if(this._options.sendClientReports){let d="number"==typeof c?c:1,e=`${a}:${b}`;ad&&al.log(`Recording outcome: "${e}"${d>1?` (${d} times)`:""}`),this._outcomes[e]=(this._outcomes[e]||0)+d}}on(a,b){let c=this._hooks[a]=this._hooks[a]||[];return c.push(b),()=>{let a=c.indexOf(b);a>-1&&c.splice(a,1)}}emit(a,...b){let c=this._hooks[a];c&&c.forEach(a=>a(...b))}sendEnvelope(a){return this.emit("beforeEnvelope",a),this._isEnabled()&&this._transport?this._transport.send(a).then(null,a=>(ad&&al.error("Error while sending envelope:",a),a)):(ad&&al.error("Transport disabled"),a8({}))}_setupIntegrations(){var a;let b,{integrations:c}=this._options;this._integrations=(a=this,b={},c.forEach(c=>{c&&bT(a,c,b)}),b),bS(this,c)}_updateSessionFromEvent(a,b){let c="fatal"===b.level,d=!1,e=b.exception&&b.exception.values;if(e)for(let a of(d=!0,e)){let b=a.mechanism;if(b&&!1===b.handled){c=!0;break}}let f="ok"===a.status;(f&&0===a.errors||f&&c)&&(bb(a,{...c&&{status:"crashed"},errors:a.errors||Number(d||c)}),this.captureSession(a))}_isClientDoneProcessing(a){return new ba(b=>{let c=0,d=setInterval(()=>{0==this._numProcessing?(clearInterval(d),b(!0)):(c+=1,a&&c>=a&&(clearInterval(d),b(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(a,e,f=bo(),g=bp()){let h=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",a,e),a.type||g.setLastEventId(a.event_id||e.event_id),(function(a,e,f,g,h,i){let{normalizeDepth:j=3,normalizeMaxBreadth:k=1e3}=a,l={...e,event_id:e.event_id||f.event_id||a2(),timestamp:e.timestamp||a0()},m=f.integrations||a.integrations.map(a=>a.name);!function(a,b){let{environment:c,release:d,dist:e,maxValueLength:f=250}=b;a.environment=a.environment||c||by,!a.release&&d&&(a.release=d),!a.dist&&e&&(a.dist=e),a.message&&(a.message=aR(a.message,f));let g=a.exception&&a.exception.values&&a.exception.values[0];g&&g.value&&(g.value=aR(g.value,f));let h=a.request;h&&h.url&&(h.url=aR(h.url,f))}(l,a),m.length>0&&(l.sdk=l.sdk||{},l.sdk.integrations=[...l.sdk.integrations||[],...m]),h&&h.emit("applyFrameMetadata",e),void 0===e.type&&function(a,e){let f=function(a){let e=af._sentryDebugIds;if(!e)return{};let f=Object.keys(e);return d&&f.length===c||(c=f.length,d=f.reduce((c,d)=>{b||(b={});let f=b[d];if(f)c[f[0]]=f[1];else{let f=a(d);for(let a=f.length-1;a>=0;a--){let g=f[a],h=g&&g.filename,i=e[d];if(h&&i){c[h]=i,b[d]=[h,i];break}}}return c},{})),d}(e);try{a.exception.values.forEach(a=>{a.stacktrace.frames.forEach(a=>{f&&a.filename&&(a.debug_id=f[a.filename])})})}catch(a){}}(l,a.stackParser);let n=function(a,b){if(!b)return a;let c=a?a.clone():new bh;return c.update(b),c}(g,f.captureContext);f.mechanism&&a6(l,f.mechanism);let o=h?h.getEventProcessors():[],p=ag("globalScope",()=>new bh).getScopeData();i&&bJ(p,i.getScopeData()),n&&bJ(p,n.getScopeData());let q=[...f.attachments||[],...p.attachments];return q.length&&(f.attachments=q),function(a,b){let c,d,{fingerprint:e,span:f,breadcrumbs:g,sdkProcessingMetadata:h}=b;!function(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,transactionName:h}=b,i=a_(c);i&&Object.keys(i).length&&(a.extra={...i,...a.extra});let j=a_(d);j&&Object.keys(j).length&&(a.tags={...j,...a.tags});let k=a_(e);k&&Object.keys(k).length&&(a.user={...k,...a.user});let l=a_(f);l&&Object.keys(l).length&&(a.contexts={...l,...a.contexts}),g&&(a.level=g),h&&"transaction"!==a.type&&(a.transaction=h)}(a,b),f&&(a.contexts={trace:function(a){let{spanId:b,traceId:c,isRemote:d}=a.spanContext();return a_({parent_span_id:d?b:bw(a).parent_span_id,span_id:d?bc():b,trace_id:c})}(f),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:function(a){let b=bq();if(!b)return{};let c=bx(a),d=c._frozenDsc;if(d)return d;let e=c.spanContext().traceState,f=e&&e.get("sentry.dsc"),g=f&&function(a){let b=function(a){if(a&&(aI(a)||Array.isArray(a)))return Array.isArray(a)?a.reduce((a,b)=>(Object.entries(bs(b)).forEach(([b,c])=>{a[b]=c}),a),{}):bs(a)}(a);if(!b)return;let c=Object.entries(b).reduce((a,[b,c])=>(b.match(br)&&(a[b.slice(7)]=c),a),{});return Object.keys(c).length>0?c:void 0}(f);if(g)return g;let h=bz(a.spanContext().traceId,b),i=bw(c),j=i.data||{},k=j["sentry.sample_rate"];null!=k&&(h.sample_rate=`${k}`);let l=j["sentry.source"],m=i.description;return"url"!==l&&m&&(h.transaction=m),function(a){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let b=bq(),c=b&&b.getOptions();return!!c&&(c.enableTracing||"tracesSampleRate"in c||"tracesSampler"in c)}()&&(h.sampled=String(function(a){let{traceFlags:b}=a.spanContext();return 1===b}(c))),b.emit("createDsc",h,c),h}(f),...a.sdkProcessingMetadata},(c=bw(bx(f)).description)&&!a.transaction&&"transaction"===a.type&&(a.transaction=c)),a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],e&&(a.fingerprint=a.fingerprint.concat(e)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint,d=[...a.breadcrumbs||[],...g],a.breadcrumbs=d.length?d:void 0,a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...h}}(l,p),(function a(b,c,d,e=0){return new ba((f,g)=>{let h=b[e];if(null===c||"function"!=typeof h)f(c);else{let i=h({...c},d);ad&&h.id&&null===i&&al.log(`Event processor "${h.id}" dropped event`),aN(i)?i.then(c=>a(b,c,d,e+1).then(f)).then(null,g):a(b,i,d,e+1).then(f).then(null,g)}})})([...o,...p.eventProcessors],l,f).then(a=>(a&&function(a){let b={};try{a.exception.values.forEach(a=>{a.stacktrace.frames.forEach(a=>{a.debug_id&&(a.abs_path?b[a.abs_path]=a.debug_id:a.filename&&(b[a.filename]=a.debug_id),delete a.debug_id)})})}catch(a){}if(0===Object.keys(b).length)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];let c=a.debug_meta.images;Object.entries(b).forEach(([a,b])=>{c.push({type:"sourcemap",code_file:a,debug_id:b})})}(a),"number"==typeof j&&j>0?function(a,b,c){if(!a)return null;let d={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(a=>({...a,...a.data&&{data:bD(a.data,b,c)}}))},...a.user&&{user:bD(a.user,b,c)},...a.contexts&&{contexts:bD(a.contexts,b,c)},...a.extra&&{extra:bD(a.extra,b,c)}};return a.contexts&&a.contexts.trace&&d.contexts&&(d.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(d.contexts.trace.data=bD(a.contexts.trace.data,b,c))),a.spans&&(d.spans=a.spans.map(a=>({...a,...a.data&&{data:bD(a.data,b,c)}}))),a.contexts&&a.contexts.flags&&d.contexts&&(d.contexts.flags=bD(a.contexts.flags,3,c)),d}(a,j,k):a))})(h,a,e,f,this,g).then(a=>{let b;return null===a?a:(a.contexts={trace:function(a){let{traceId:b,spanId:c,parentSpanId:d}=a.getPropagationContext();return a_({trace_id:b,span_id:c,parent_span_id:d})}(f),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:(b=f.getPropagationContext()).dsc||bz(b.traceId,this),...a.sdkProcessingMetadata},a)})}_captureEvent(a,b={},c){return this._processEvent(a,b,c).then(a=>a.event_id,a=>{ad&&(a instanceof bU&&"log"===a.logLevel?al.log(a.message):al.warn(a))})}_processEvent(a,b,c){let d=this.getOptions(),{sampleRate:e}=d,f=bY(a),g=bX(a),h=a.type||"error",i=`before send for type \`${h}\``,j=void 0===e?void 0:function(a){if("boolean"==typeof a)return Number(a);let b="string"==typeof a?parseFloat(a):a;if(!("number"!=typeof b||isNaN(b)||b<0||b>1))return b;ad&&al.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`)}(e);if(g&&"number"==typeof j&&Math.random()>j)return this.recordDroppedEvent("sample_rate","error",a),a9(new bU(`Discarding event because it's not included in the random sample (sampling rate = ${e})`,"log"));let k="replay_event"===h?"replay":h,l=(a.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(a,b,c,l).then(c=>{if(null===c)throw this.recordDroppedEvent("event_processor",k,a),new bU("An event processor returned `null`, will not send event.","log");if(b.data&&!0===b.data.__sentry__)return c;var e=function(a,b,c,d){let{beforeSend:e,beforeSendTransaction:f,beforeSendSpan:g}=b;if(bX(c)&&e)return e(c,d);if(bY(c)){if(c.spans&&g){let b=[];for(let d of c.spans){let c=g(d);c?b.push(c):(bt||(ak(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),bt=!0),a.recordDroppedEvent("before_send","span"))}c.spans=b}if(f){if(c.spans){let a=c.spans.length;c.sdkProcessingMetadata={...c.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return f(c,d)}}return c}(this,d,c,b);let f=`${i} must return \`null\` or a valid event.`;if(aN(e))return e.then(a=>{if(!aL(a)&&null!==a)throw new bU(f);return a},a=>{throw new bU(`${i} rejected with ${a}`)});if(!aL(e)&&null!==e)throw new bU(f);return e}).then(d=>{if(null===d){if(this.recordDroppedEvent("before_send",k,a),f){let b=1+(a.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new bU(`${i} returned \`null\`, will not send event.`,"log")}let e=c&&c.getSession();if(!f&&e&&this._updateSessionFromEvent(e,d),f){let a=(d.sdkProcessingMetadata&&d.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(d.spans?d.spans.length:0);a>0&&this.recordDroppedEvent("before_send","span",a)}let g=d.transaction_info;return f&&g&&d.transaction!==a.transaction&&(d.transaction_info={...g,source:"custom"}),this.sendEvent(d,b),d}).then(null,a=>{if(a instanceof bU)throw a;throw this.captureException(a,{data:{__sentry__:!0},originalException:a}),new bU(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${a}`)})}_process(a){this._numProcessing++,a.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){let a=this._outcomes;return this._outcomes={},Object.entries(a).map(([a,b])=>{let[c,d]=a.split(":");return{reason:c,category:d,quantity:b}})}_flushOutcomes(){var a,b;ad&&al.log("Flushing outcomes...");let c=this._clearOutcomes();if(0===c.length)return void(ad&&al.log("No outcomes to send"));if(!this._dsn)return void(ad&&al.log("No dsn provided, will not send outcomes"));ad&&al.log("Sending outcomes:",c);let d=bE((a=this._options.tunnel&&bB(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:b||a0(),discarded_events:c}]]);this.sendEnvelope(d)}}function bX(a){return void 0===a.type}function bY(a){return"transaction"===a.type}function bZ(a,b){if("event"===b||"transaction"===b)return Array.isArray(a)?a[1]:void 0}function b$(a,b){let c=bq(),d=bp();if(!c)return;let{beforeBreadcrumb:e=null,maxBreadcrumbs:f=100}=c.getOptions();if(f<=0)return;let g={timestamp:a0(),...a},h=e?ak(()=>e(g,b)):g;null!==h&&(c.emit&&c.emit("beforeAddBreadcrumb",h,b),d.addBreadcrumb(h,f))}let b_=new WeakMap,b0=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/];function b1(a){try{let b;try{b=a.exception.values[0].stacktrace.frames}catch(a){}return b?function(a=[]){for(let b=a.length-1;b>=0;b--){let c=a[b];if(c&&"<anonymous>"!==c.filename&&"[native code]"!==c.filename)return c.filename||null}return null}(b):null}catch(b){return ad&&al.error(`Cannot extract url for event ${a4(a)}`),null}}function b2(a,b){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,..."AggregateError"===a.type&&{is_exception_group:!0},exception_id:b}}function b3(a,b,c,d){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,type:"chained",source:b,exception_id:c,parent_id:d}}function b4(a){if(!a)return{};let b=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!b)return{};let c=b[6]||"",d=b[8]||"";return{host:b[4],path:b[5],protocol:b[2],search:c,hash:d,relative:b[5]+c+d}}function b5(){"console"in af&&ai.forEach(function(a){a in af.console&&aU(af.console,a,function(b){return aj[a]=b,function(...b){aw("console",{args:b,level:a});let c=aj[a];c&&c.apply(af.console,b)}})})}function b6(a,b){let c=ar(a),d=ar(b);if(!c&&!d)return!0;if(c&&!d||!c&&d||d.length!==c.length)return!1;for(let a=0;a<d.length;a++){let b=d[a],e=c[a];if(b.filename!==e.filename||b.lineno!==e.lineno||b.colno!==e.colno||b.function!==e.function)return!1}return!0}function b7(a,b){let c=a.fingerprint,d=b.fingerprint;if(!c&&!d)return!0;if(c&&!d||!c&&d)return!1;try{return c.join("")===d.join("")}catch(a){return!1}}function b8(a){return a.exception&&a.exception.values&&a.exception.values[0]}function b9(a){return void 0===a?void 0:a>=400&&a<500?"warning":a>=500?"error":void 0}function ca(a){return a&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}function cb(a,b){return!!a&&"object"==typeof a&&!!a[b]}function cc(a){return"string"==typeof a?a:a?cb(a,"url")?a.url:a.toString?a.toString():"":""}let cd=0;function ce(a,b={}){if("function"!=typeof a)return a;try{let b=a.__sentry_wrapped__;if(b)return"function"==typeof b?b:a;if(aX(a))return a}catch(b){return a}let c=function(...c){try{let d=c.map(a=>ce(a,b));return a.apply(this,d)}catch(a){throw cd++,setTimeout(()=>{cd--}),function(...a){let b=bn(aB());if(2===a.length){let[c,d]=a;return c?b.withSetScope(c,d):b.withScope(d)}b.withScope(a[0])}(d=>{var e;d.addEventProcessor(a=>(b.mechanism&&(a5(a,void 0,void 0),a6(a,b.mechanism)),a.extra={...a.extra,arguments:c},a)),bo().captureException(a,function(a){if(a)return a instanceof bh||"function"==typeof a||Object.keys(a).some(a=>bL.includes(a))?{captureContext:a}:a}(e))}),a}};try{for(let b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])}catch(a){}aW(c,a),aV(a,"__sentry_wrapped__",c);try{Object.getOwnPropertyDescriptor(c,"name").configurable&&Object.defineProperty(c,"name",{get:()=>a.name})}catch(a){}return c}let cf="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function cg(a,b){var c,d;let e,f,g=ci(a,b),h={type:!(e=(c=b)&&c.name)&&ck(c)?c.message&&Array.isArray(c.message)&&2==c.message.length?c.message[0]:"WebAssembly.Exception":e,value:(f=(d=b)&&d.message)?f.error&&"string"==typeof f.error.message?f.error.message:ck(d)&&Array.isArray(d.message)&&2==d.message.length?d.message[1]:f:"No error message"};return g.length&&(h.stacktrace={frames:g}),void 0===h.type&&""===h.value&&(h.value="Unrecoverable error caught"),h}function ch(a,b){return{exception:{values:[cg(a,b)]}}}function ci(a,b){let c=b.stacktrace||b.stack||"",d=b&&cj.test(b.message)?1:0,e="number"==typeof b.framesToPop?b.framesToPop:0;try{return a(c,d,e)}catch(a){}return[]}let cj=/Minified React error #\d+;/i;function ck(a){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&a instanceof WebAssembly.Exception}function cl(a,b,c,d,e){let f;if(aG(b)&&b.error)return ch(a,b.error);if(aH(b)||aF(b,"DOMException")){if("stack"in b)f=ch(a,b);else{let e=b.name||(aH(b)?"DOMError":"DOMException"),g=b.message?`${e}: ${b.message}`:e;a5(f=cm(a,g,c,d),g)}return"code"in b&&(f.tags={...f.tags,"DOMException.code":`${b.code}`}),f}return aE(b)?ch(a,b):(aL(b)||aM(b)?a6(f=function(a,b,c,d){let e=bq(),f=e&&e.getOptions().normalizeDepth,g=function(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b)){let c=a[b];if(c instanceof Error)return c}}(b),h={__serialized__:function a(b,c=3,d=102400){let e=bD(b,c);return~-encodeURI(JSON.stringify(e)).split(/%..|./).length>d?a(b,c-1,d):e}(b,f)};if(g)return{exception:{values:[cg(a,g)]},extra:h};let i={exception:{values:[{type:aM(b)?b.constructor.name:d?"UnhandledRejection":"Error",value:function(a,{isUnhandledRejection:b}){let c=function(a,b=40){let c=Object.keys(aY(a));c.sort();let d=c[0];if(!d)return"[object has no keys]";if(d.length>=b)return aR(d,b);for(let a=c.length;a>0;a--){let d=c.slice(0,a).join(", ");if(!(d.length>b))return a===c.length?d:aR(d,b)}return""}(a),d=b?"promise rejection":"exception";return aG(a)?`Event \`ErrorEvent\` captured as ${d} with message \`${a.message}\``:aM(a)?`Event \`${function(a){try{let b=Object.getPrototypeOf(a);return b?b.constructor.name:void 0}catch(a){}}(a)}\` (type=${a.type}) captured as ${d}`:`Object captured as ${d} with keys: ${c}`}(b,{isUnhandledRejection:d})}]},extra:h};if(c){let b=ci(a,c);b.length&&(i.exception.values[0].stacktrace={frames:b})}return i}(a,b,c,e),{synthetic:!0}):(a5(f=cm(a,b,c,d),`${b}`,void 0),a6(f,{synthetic:!0})),f)}function cm(a,b,c,d){let e={};if(d&&c){let d=ci(a,c);d.length&&(e.exception={values:[{value:b,stacktrace:{frames:d}}]}),a6(e,{synthetic:!0})}if(aJ(b)){let{__sentry_template_string__:a,__sentry_template_values__:c}=b;return e.logentry={message:a,params:c},e}return e.message=b,e}class cn extends bW{constructor(a){const b={parentSpanIsAlwaysRootSpan:!0,...a};!function(a,b,c=[b],d="npm"){let e=a._metadata||{};e.sdk||(e.sdk={name:`sentry.javascript.${b}`,packages:c.map(a=>({name:`${d}:@sentry/${a}`,version:ae})),version:ae}),a._metadata=e}(b,"browser",["browser"],af.SENTRY_SDK_SOURCE||"npm"),super(b),b.sendClientReports&&af.document&&af.document.addEventListener("visibilitychange",()=>{"hidden"===af.document.visibilityState&&this._flushOutcomes()})}eventFromException(a,b){var c,d;let e;return c=this._options.stackParser,d=this._options.attachStacktrace,a6(e=cl(c,a,b&&b.syntheticException||void 0,d)),e.level="error",b&&b.event_id&&(e.event_id=b.event_id),a8(e)}eventFromMessage(a,b="info",c){return function(a,b,c="info",d,e){let f=cm(a,b,d&&d.syntheticException||void 0,e);return f.level=c,d&&d.event_id&&(f.event_id=d.event_id),a8(f)}(this._options.stackParser,a,b,c,this._options.attachStacktrace)}captureUserFeedback(a){if(!this._isEnabled())return void(cf&&al.warn("SDK not enabled, will not capture user feedback."));let b=function(a,{metadata:b,tunnel:c,dsn:d}){return bE({event_id:a.event_id,sent_at:(new Date).toISOString(),...b&&b.sdk&&{sdk:{name:b.sdk.name,version:b.sdk.version}},...!!c&&!!d&&{dsn:bB(d)}},[[{type:"user_report"},a]])}(a,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(b)}_prepareEvent(a,b,c){return a.platform=a.platform||"javascript",super._prepareEvent(a,b,c)}}let co="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function cp(){if(!af.document)return;let a=aw.bind(null,"dom"),b=cq(a,!0);af.document.addEventListener("click",b,!1),af.document.addEventListener("keypress",b,!1),["EventTarget","Node"].forEach(b=>{let c=af[b],d=c&&c.prototype;d&&d.hasOwnProperty&&d.hasOwnProperty("addEventListener")&&(aU(d,"addEventListener",function(b){return function(c,d,e){if("click"===c||"keypress"==c)try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[c]=d[c]||{refCount:0};if(!f.handler){let d=cq(a);f.handler=d,b.call(this,c,d,e)}f.refCount++}catch(a){}return b.call(this,c,d,e)}}),aU(d,"removeEventListener",function(a){return function(b,c,d){if("click"===b||"keypress"==b)try{let c=this.__sentry_instrumentation_handlers__||{},e=c[b];e&&(e.refCount--,e.refCount<=0&&(a.call(this,b,e.handler,d),e.handler=void 0,delete c[b]),0===Object.keys(c).length&&delete this.__sentry_instrumentation_handlers__)}catch(a){}return a.call(this,b,c,d)}}))})}function cq(a,b=!1){return c=>{var d;if(!c||c._sentryCaptured)return;let e=function(a){try{return a.target}catch(a){return null}}(c);if(d=c.type,"keypress"===d&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable))return;aV(c,"_sentryCaptured",!0),e&&!e._sentryId&&aV(e,"_sentryId",a2());let i="keypress"===c.type?"input":c.type;!function(a){if(a.type!==g)return!1;try{if(!a.target||a.target._sentryId!==h)return!1}catch(a){}return!0}(c)&&(a({event:c,name:i,global:b}),g=c.type,h=e?e._sentryId:void 0),clearTimeout(f),f=af.setTimeout(()=>{h=void 0,g=void 0},1e3)}}function cr(a){let b="history";au(b,a),av(b,cs)}function cs(){let a,b,c;if(b=(a=af.chrome)&&a.app&&a.app.runtime,c="history"in af&&!!af.history.pushState&&!!af.history.replaceState,b||!c)return;let d=af.onpopstate;function e(a){return function(...b){let c=b.length>2?b[2]:void 0;if(c){let a=i,b=String(c);i=b,aw("history",{from:a,to:b})}return a.apply(this,b)}}af.onpopstate=function(...a){let b=af.location.href,c=i;if(i=b,aw("history",{from:c,to:b}),d)try{return d.apply(this,a)}catch(a){}},aU(af.history,"pushState",e),aU(af.history,"replaceState",e)}let ct={},cu="__sentry_xhr_v3__";function cv(){if(!af.XMLHttpRequest)return;let a=XMLHttpRequest.prototype;a.open=new Proxy(a.open,{apply(a,b,c){let d=Error(),e=1e3*a1(),f=aI(c[0])?c[0].toUpperCase():void 0,g=function(a){if(aI(a))return a;try{return a.toString()}catch(a){}}(c[1]);if(!f||!g)return a.apply(b,c);b[cu]={method:f,url:g,request_headers:{}},"POST"===f&&g.match(/sentry_key/)&&(b.__sentry_own_request__=!0);let h=()=>{let a=b[cu];if(a&&4===b.readyState){try{a.status_code=b.status}catch(a){}aw("xhr",{endTimestamp:1e3*a1(),startTimestamp:e,xhr:b,virtualError:d})}};return"onreadystatechange"in b&&"function"==typeof b.onreadystatechange?b.onreadystatechange=new Proxy(b.onreadystatechange,{apply:(a,b,c)=>(h(),a.apply(b,c))}):b.addEventListener("readystatechange",h),b.setRequestHeader=new Proxy(b.setRequestHeader,{apply(a,b,c){let[d,e]=c,f=b[cu];return f&&aI(d)&&aI(e)&&(f.request_headers[d.toLowerCase()]=e),a.apply(b,c)}}),a.apply(b,c)}}),a.send=new Proxy(a.send,{apply(a,b,c){let d=b[cu];return d&&(void 0!==c[0]&&(d.body=c[0]),aw("xhr",{startTimestamp:1e3*a1(),xhr:b})),a.apply(b,c)}})}function cw(a,b=function(a){let b=ct[a];if(b)return b;let c=af[a];if(ca(c))return ct[a]=c.bind(af);let d=af.document;if(d&&"function"==typeof d.createElement)try{let b=d.createElement("iframe");b.hidden=!0,d.head.appendChild(b);let e=b.contentWindow;e&&e[a]&&(c=e[a]),d.head.removeChild(b)}catch(b){co&&al.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,b)}return c?ct[a]=c.bind(af):c}("fetch")){let c=0,d=0;return function(a,b,c=function(a){let b=[];function c(a){return b.splice(b.indexOf(a),1)[0]||Promise.resolve(void 0)}return{$:b,add:function(d){if(!(void 0===a||b.length<a))return a9(new bU("Not adding Promise because buffer limit was reached."));let e=d();return -1===b.indexOf(e)&&b.push(e),e.then(()=>c(e)).then(null,()=>c(e).then(null,()=>{})),e},drain:function(a){return new ba((c,d)=>{let e=b.length;if(!e)return c(!0);let f=setTimeout(()=>{a&&a>0&&c(!1)},a);b.forEach(a=>{a8(a).then(()=>{--e||(clearTimeout(f),c(!0))},d)})})}}}(a.bufferSize||64)){let d={};return{send:function(e){let f=[];if(bF(e,(b,c)=>{let e=bH[c];if(function(a,b,c=Date.now()){return(a[b]||a.all||0)>c}(d,e)){let d=bZ(b,c);a.recordDroppedEvent("ratelimit_backoff",e,d)}else f.push(b)}),0===f.length)return a8({});let g=bE(e[0],f),h=b=>{bF(g,(c,d)=>{let e=bZ(c,d);a.recordDroppedEvent(b,bH[d],e)})};return c.add(()=>b({body:function(a){let[b,c]=a,d=JSON.stringify(b);function e(a){"string"==typeof d?d="string"==typeof a?d+a:[bG(d),a]:d.push("string"==typeof a?bG(a):a)}for(let a of c){let[b,c]=a;if(e(`
${JSON.stringify(b)}
`),"string"==typeof c||c instanceof Uint8Array)e(c);else{let a;try{a=JSON.stringify(c)}catch(b){a=JSON.stringify(bD(c))}e(a)}}return"string"==typeof d?d:function(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}(d)}(g)}).then(a=>(void 0!==a.statusCode&&(a.statusCode<200||a.statusCode>=300)&&ad&&al.warn(`Sentry responded with status code ${a.statusCode} to sent event.`),d=function(a,{statusCode:b,headers:c},d=Date.now()){let e={...a},f=c&&c["x-sentry-rate-limits"],g=c&&c["retry-after"];if(f)for(let a of f.trim().split(",")){let[b,c,,,f]=a.split(":",5),g=parseInt(b,10),h=1e3*(isNaN(g)?60:g);if(c)for(let a of c.split(";"))"metric_bucket"===a&&f&&!f.split(";").includes("custom")||(e[a]=d+h);else e.all=d+h}else g?e.all=d+function(a,b=Date.now()){let c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;let d=Date.parse(`${a}`);return isNaN(d)?6e4:d-b}(g,d):429===b&&(e.all=d+6e4);return e}(d,a),a),a=>{throw h("network_error"),a})).then(a=>a,a=>{if(a instanceof bU)return ad&&al.error("Skipped sending event because buffer is full."),h("queue_overflow"),a8({});throw a})},flush:a=>c.drain(a)}}(a,function(e){let f=e.body.length;c+=f,d++;let g={body:e.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:c<=6e4&&d<15,...a.fetchOptions};if(!b)return ct.fetch=void 0,a9("No fetch implementation available");try{return b(a.url,g).then(a=>(c-=f,d--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return ct.fetch=void 0,c-=f,d--,a9(a)}})}function cx(a,b,c,d){let e={filename:a,function:"<anonymous>"===b?"?":b,in_app:!0};return void 0!==c&&(e.lineno=c),void 0!==d&&(e.colno=d),e}let cy=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cz=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cA=/\((\S*)(?::(\d+))(?::(\d+))\)/,cB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,cD=function(...a){let b=a.sort((a,b)=>a[0]-b[0]).map(a=>a[1]);return(a,c=0,d=0)=>{let e=[],f=a.split("\n");for(let a=c;a<f.length;a++){let c=f[a];if(c.length>1024)continue;let g=am.test(c)?c.replace(am,"$1"):c;if(!g.match(/\S*Error: /)){for(let a of b){let b=a(g);if(b){e.push(b);break}}if(e.length>=50+d)break}}var g=e.slice(d);if(!g.length)return[];let h=Array.from(g);return/sentryWrapped/.test(ao(h).function||"")&&h.pop(),h.reverse(),an.test(ao(h).function||"")&&(h.pop(),an.test(ao(h).function||"")&&h.pop()),h.slice(0,50).map(a=>({...a,filename:a.filename||ao(h).filename,function:a.function||"?"}))}}([30,a=>{let b=cy.exec(a);if(b){let[,a,c,d]=b;return cx(a,"?",+c,+d)}let c=cz.exec(a);if(c){if(c[2]&&0===c[2].indexOf("eval")){let a=cA.exec(c[2]);a&&(c[2]=a[1],c[3]=a[2],c[4]=a[3])}let[a,b]=cE(c[1]||"?",c[2]);return cx(b,a,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}}],[50,a=>{let b=cB.exec(a);if(b){if(b[3]&&b[3].indexOf(" > eval")>-1){let a=cC.exec(b[3]);a&&(b[1]=b[1]||"eval",b[3]=a[1],b[4]=a[2],b[5]="")}let a=b[3],c=b[1]||"?";return[c,a]=cE(c,a),cx(a,c,b[4]?+b[4]:void 0,b[5]?+b[5]:void 0)}}]),cE=(a,b)=>{let c=-1!==a.indexOf("safari-extension"),d=-1!==a.indexOf("safari-web-extension");return c||d?[-1!==a.indexOf("@")?a.split("@")[0]:"?",c?`safari-extension:${b}`:`safari-web-extension:${b}`]:[a,b]},cF=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];function cG(a){return function(...b){let c=b[0];return b[0]=ce(c,{mechanism:{data:{function:aq(a)},handled:!1,type:"instrument"}}),a.apply(this,b)}}function cH(a){return function(b){return a.apply(this,[ce(b,{mechanism:{data:{function:"requestAnimationFrame",handler:aq(a)},handled:!1,type:"instrument"}})])}}function cI(a){return function(...b){let c=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in c&&"function"==typeof c[a]&&aU(c,a,function(b){let c={mechanism:{data:{function:a,handler:aq(b)},handled:!1,type:"instrument"}},d=aX(b);return d&&(c.mechanism.data.handler=aq(d)),ce(b,c)})}),a.apply(this,b)}}function cJ(a){let b=af[a],c=b&&b.prototype;c&&c.hasOwnProperty&&c.hasOwnProperty("addEventListener")&&(aU(c,"addEventListener",function(b){return function(c,d,e){try{"function"==typeof d.handleEvent&&(d.handleEvent=ce(d.handleEvent,{mechanism:{data:{function:"handleEvent",handler:aq(d),target:a},handled:!1,type:"instrument"}}))}catch(a){}return b.apply(this,[c,ce(d,{mechanism:{data:{function:"addEventListener",handler:aq(d),target:a},handled:!1,type:"instrument"}}),e])}}),aU(c,"removeEventListener",function(a){return function(b,c,d){try{let e=c.__sentry_wrapped__;e&&a.call(this,b,e,d)}catch(a){}return a.call(this,b,c,d)}}))}function cK(a){cf&&al.log(`Global Handler attached: ${a}`)}function cL(){let a=bq();return a&&a.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var cM="loading",cN="loaded",cO="joining-meeting",cP="joined-meeting",cQ="left-meeting",cR="error",cS="playable",cT="unknown",cU="full",cV="base",cW="no-room",cX="end-of-life",cY="connection-error",cZ="iframe-ready-for-launch-config",c$="iframe-launch-config",c_="theme-updated",c0="loading",c1="load-attempt-failed",c2="loaded",c3="started-camera",c4="camera-error",c5="joining-meeting",c6="joined-meeting",c7="left-meeting",c8="participant-joined",c9="participant-updated",da="participant-left",db="participant-counts-updated",dc="access-state-updated",dd="meeting-session-summary-updated",de="meeting-session-state-updated",df="waiting-participant-added",dg="waiting-participant-updated",dh="waiting-participant-removed",di="track-started",dj="track-stopped",dk="transcription-started",dl="transcription-stopped",dm="transcription-error",dn="recording-started",dp="recording-stopped",dq="recording-stats",dr="recording-error",ds="recording-upload-completed",dt="recording-data",du="app-message",dv="transcription-message",dw="remote-media-player-started",dx="remote-media-player-updated",dy="remote-media-player-stopped",dz="local-screen-share-started",dA="local-screen-share-stopped",dB="local-screen-share-canceled",dC="active-speaker-change",dD="active-speaker-mode-change",dE="network-quality-change",dF="network-connection",dG="cpu-load-change",dH="face-counts-updated",dI="fullscreen",dJ="exited-fullscreen",dK="live-streaming-started",dL="live-streaming-updated",dM="live-streaming-stopped",dN="live-streaming-error",dO="lang-updated",dP="receive-settings-updated",dQ="input-settings-updated",dR="nonfatal-error",dS="error",dT="iframe-call-message",dU="local-screen-start",dV="daily-method-update-live-streaming-endpoints",dW="transmit-log",dX="daily-custom-track",dY={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},dZ={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},d$={PLAY:"play",PAUSE:"pause"},d_=["jpg","png","jpeg"],d0="sip-call-transfer";function d1(){return!d2(),""}function d2(){return"undefined"!=typeof navigator&&navigator.product&&"ReactNative"===navigator.product}function d3(){if(d2()||!document)return!1;var a=document.createElement("iframe");return!!a.requestFullscreen||!!a.webkitRequestFullscreen}var d4="none",d5=function(){try{var a,b=document.createElement("canvas"),c=!1;(a=b.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(c=!0,a=b.getContext("webgl2"));var d=null!=a;return b.remove(),d?c?"software":"hardware":d4}catch(a){return d4}}();function d6(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!d2()&&d5!==d4&&(a?!ea()&&["Chrome","Firefox"].includes(eb()):function(){if(ea())return!1;var a=eb();if("Safari"===a){var b=ee();if(b.major<15||15===b.major&&b.minor<4)return!1}return"Chrome"===a?ed().major>=77:"Firefox"===a?ef().major>=97:["Chrome","Firefox","Safari"].includes(a)}())}function d7(){if(d2()||d9()||"undefined"==typeof AudioWorkletNode)return!1;switch(eb()){case"Chrome":case"Firefox":return!0;case"Safari":var a=ec();return a.major>17||17===a.major&&a.minor>=4}return!1}function d8(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&"undefined"!=typeof MediaStreamTrack&&!function(){if(eb(),!d1())return!0}()}function d9(){return d1().match(/Linux; Android/)}function ea(){var a=d1(),b=a.match(/Mac/)&&(!d2(),!1);return!!(a.match(/Mobi/)||a.match(/Android/)||b)||!!d1().match(/DailyAnd\//)||void 0}function eb(){}function ec(){switch(eb()){case"Chrome":return ed();case"Safari":return ee();case"Firefox":return ef();case"Edge":return{major:0,minor:0}}}function ed(){return{major:0,minor:0,build:0,patch:0,opera:!1}}function ee(){return{major:0,minor:0,point:0}}function ef(){return{major:0,minor:0}}var eg=o(function a(){k(this,a)},[{key:"addListenerForMessagesFromCallMachine",value:function(a,b,c){_()}},{key:"addListenerForMessagesFromDailyJs",value:function(a,b,c){_()}},{key:"sendMessageToCallMachine",value:function(a,b,c,d){_()}},{key:"sendMessageToDailyJs",value:function(a,b){_()}},{key:"removeListener",value:function(a){_()}}]);function eh(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ei(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?eh(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):eh(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ej(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ej=function(){return!!a})()}var ek=function(){function a(){var b,c,d;return k(this,a),c=q(c=a),(b=p(this,ej()?Reflect.construct(c,d||[],q(this).constructor):c.apply(this,d)))._wrappedListeners={},b._messageCallbacks={},b}return s(a,eg),o(a,[{key:"addListenerForMessagesFromCallMachine",value:function(a,b,c){var d=this,e=function(e){if(e.data&&"iframe-call-message"===e.data.what&&(!e.data.callClientId||e.data.callClientId===b)&&(!e.data.from||"module"!==e.data.from)){var f=ei({},e.data);if(delete f.from,f.callbackStamp&&d._messageCallbacks[f.callbackStamp]){var g=f.callbackStamp;d._messageCallbacks[g].call(c,f),delete d._messageCallbacks[g]}delete f.what,delete f.callbackStamp,a.call(c,f)}};this._wrappedListeners[a]=e,window.addEventListener("message",e)}},{key:"addListenerForMessagesFromDailyJs",value:function(a,b,c){var d=function(d){var e;if(!(!d.data||d.data.what!==dT||!d.data.action||d.data.from&&"module"!==d.data.from||d.data.callClientId&&b&&d.data.callClientId!==b||null!=d&&null!=(e=d.data)&&e.callFrameId)){var f=d.data;a.call(c,f)}};this._wrappedListeners[a]=d,window.addEventListener("message",d)}},{key:"sendMessageToCallMachine",value:function(a,b,c,d){if(!c)throw Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var e=ei({},a);if(e.what=dT,e.from="module",e.callClientId=c,b){var f=$();this._messageCallbacks[f]=b,e.callbackStamp=f}var g=d?d.contentWindow:window,h=this._callMachineTargetOrigin(d);h&&g.postMessage(e,h)}},{key:"sendMessageToDailyJs",value:function(a,b){a.what=dT,a.callClientId=b,a.from="embedded",window.postMessage(a,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(a){var b=this._wrappedListeners[a];b&&(window.removeEventListener("message",b),delete this._wrappedListeners[a])}},{key:"forwardPackagedMessageToCallMachine",value:function(a,b,c){var d=ei({},a);d.callClientId=c;var e=b?b.contentWindow:window,f=this._callMachineTargetOrigin(b);f&&e.postMessage(d,f)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(a,b){var c=function(c){!c.data||"iframe-call-message"!==c.data.what||c.data.callClientId&&c.data.callClientId!==b||c.data.from&&"module"===c.data.from||a(c.data)};return this._wrappedListeners[a]=c,window.addEventListener("message",c),a}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(a){var b=this._wrappedListeners[a];b&&(window.removeEventListener("message",b),delete this._wrappedListeners[a])}},{key:"_callMachineTargetOrigin",value:function(a){return a?a.src?new URL(a.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return"file:"===window.location.protocol?"*":window.location.origin}}])}();function el(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function em(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(em=function(){return!!a})()}var en=function(){function b(){var c,d,e;return k(this,b),d=q(d=b),c=p(this,em()?Reflect.construct(d,e||[],q(this).constructor):d.apply(this,e)),a.g.callMachineToDailyJsEmitter=a.g.callMachineToDailyJsEmitter||new I.EventEmitter,a.g.dailyJsToCallMachineEmitter=a.g.dailyJsToCallMachineEmitter||new I.EventEmitter,c._wrappedListeners={},c._messageCallbacks={},c}return s(b,eg),o(b,[{key:"addListenerForMessagesFromCallMachine",value:function(b,c,d){this._addListener(b,a.g.callMachineToDailyJsEmitter,c,d,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(b,c,d){this._addListener(b,a.g.dailyJsToCallMachineEmitter,c,d,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(b,c,d){this._sendMessage(b,a.g.dailyJsToCallMachineEmitter,d,c,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(b,c){this._sendMessage(b,a.g.callMachineToDailyJsEmitter,c,null,"sending message to daily-js")}},{key:"removeListener",value:function(b){var c=this._wrappedListeners[b];c&&(a.g.callMachineToDailyJsEmitter.removeListener("message",c),a.g.dailyJsToCallMachineEmitter.removeListener("message",c),delete this._wrappedListeners[b])}},{key:"_addListener",value:function(a,b,c,d,e){var f=this,g=function(b){if(b.callClientId===c){if(b.callbackStamp&&f._messageCallbacks[b.callbackStamp]){var e=b.callbackStamp;f._messageCallbacks[e].call(d,b),delete f._messageCallbacks[e]}a.call(d,b)}};this._wrappedListeners[a]=g,b.addListener("message",g)}},{key:"_sendMessage",value:function(a,b,c,d,e){var f=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?el(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):el(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);if(f.callClientId=c,d){var g=$();this._messageCallbacks[g]=d,f.callbackStamp=g}b.emit("message",f)}}])}(),eo="replace",ep="shallow-merge",eq=[eo,ep],er=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.data,d=b.mergeStrategy,e=void 0===d?eo:d;k(this,a),a._validateMergeStrategy(e),a._validateData(c,e),this.mergeStrategy=e,this.data=c}return o(a,[{key:"isNoOp",value:function(){return a.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(a,b){return 0===Object.keys(a).length&&b===ep}},{key:"_validateMergeStrategy",value:function(a){if(!eq.includes(a))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(eq,"]"))}},{key:"_validateData",value:function(a,b){if(!function(a){if(null==a||"object"!==l(a))return!1;var b=Object.getPrototypeOf(a);return null==b||b===Object.prototype}(a))throw Error("Meeting session data must be a plain (map-like) object");try{if(c=JSON.stringify(a),b===eo){var c,d=JSON.parse(c);M(d,a)||console.warn("The meeting session data provided will be modified when serialized.",d,a)}else if(b===ep){for(var e in a)if(Object.hasOwnProperty.call(a,e)&&void 0!==a[e]){var f=JSON.parse(JSON.stringify(a[e]));M(a[e],f)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",f,a[e])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(c.length>102400)throw Error("Meeting session data is too large (".concat(c.length," characters). Maximum size suppported is ").concat(102400,"."))}}])}();function es(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(es=function(){return!!a})()}function et(a){var b="function"==typeof Map?new Map:void 0;return(et=function(a){if(null===a||!function(a){try{return -1!==Function.toString.call(a).indexOf("[native code]")}catch(b){return"function"==typeof a}}(a))return a;if("function"!=typeof a)throw TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}function c(){return function(a,b,c){if(es())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,b);var e=new(a.bind.apply(a,d));return c&&r(e,c.prototype),e}(a,arguments,q(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r(c,a)})(a)}function eu(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(eu=function(){return!!a})()}function ev(a){var b,c=null==(b=window._daily)?void 0:b.pendings;if(c){var d=c.indexOf(a);-1!==d&&c.splice(d,1)}}var ew=o(function a(b){k(this,a),this._currentLoad=null,this._callClientId=b},[{key:"load",value:function(){var a,b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;this.loaded?(window._daily.instances[this._callClientId].callMachine.reset(),d(!0)):(a=this._callClientId,window._daily.pendings.push(a),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new ex(c,function(){d(!1)},function(a,c){c||ev(b._callClientId),e(a,c)}),this._currentLoad.start())}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),ev(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),ex=o(function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;k(this,a),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d},[{key:"start",value:function(){var a=this;if(!this._currentAttempt){var b=function(c){a._currentAttempt.cancelled||(a._attemptsRemaining--,a._failureCallback(c,a._attemptsRemaining>0),a._attemptsRemaining<=0||setTimeout(function(){a._currentAttempt.cancelled||(a._currentAttempt=new ez(a._dailyConfig,a._successCallback,b),a._currentAttempt.start())},3e3))};this._currentAttempt=new ez(this._dailyConfig,this._successCallback,b),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),ey=function(){function a(){var b,c;return k(this,a),c=arguments,b=q(b=a),p(this,eu()?Reflect.construct(b,c||[],q(this).constructor):b.apply(this,c))}return s(a,et(Error)),o(a)}(),ez=o(function a(b,c,d){k(this,a),this._loadAttemptImpl=d2()||!b.avoidEval?new eA(b,c,d):new eB(b,c,d)},[{key:"start",value:(z=v(function*(){return this._loadAttemptImpl.start()}),function(){return z.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),eA=o(function a(b,c,d){k(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache="undefined"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d},[{key:"start",value:(D=v(function*(){var a=ab(this._dailyConfig);(yield this._tryLoadFromIOSCache(a))||this._loadFromNetwork(a)}),function(){return D.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(C=v(function*(a){if(!this._iosCache)return!1;try{var b=yield this._iosCache.get(a);return!!this.cancelled||!!b&&(b.code?(Function('"use strict";'+b.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=b.refetchHeaders,!1))}catch(a){return!1}}),function(a){return C.apply(this,arguments)})},{key:"_loadFromNetwork",value:(B=v(function*(a){var b=this;this._networkTimeout=setTimeout(function(){b._networkTimedOut=!0,b._failureCallback({msg:"Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(a),type:"timeout"})},2e4);try{var c=this._refetchHeaders?{headers:this._refetchHeaders}:{},d=yield fetch(a,c);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new ey;var e=yield this._getBundleCodeFromResponse(a,d);if(this.cancelled)throw new ey;Function('"use strict";'+e)(),this._iosCache&&this._iosCache.set(a,e,d.headers),this.succeeded=!0,this._successCallback()}catch(b){if(clearTimeout(this._networkTimeout),b instanceof ey||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(b),type:b.message})}}),function(a){return B.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(A=v(function*(a,b){if(b.ok)return yield b.text();if(this._iosCache&&304===b.status)return(yield this._iosCache.renew(a,b.headers)).code;throw Error("Received ".concat(b.status," response"))}),function(a,b){return A.apply(this,arguments)})}]),eB=o(function a(b,c,d){k(this,a),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=b,this._successCallback=c,this._failureCallback=d,this._attemptId=$(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var a=ab(this._dailyConfig);"object"===("undefined"==typeof document?"undefined":l(document))?this._startLoading(a):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(a){var b=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){b._stopLoading(),b._failureCallback({msg:"Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(a),type:"timeout"})},2e4);var c=document.getElementsByTagName("head")[0],d=document.createElement("script");this._scriptElement=d,d.onload=function(){b._stopLoading(),b.succeeded=!0,b._successCallback()},d.onerror=function(a){b._stopLoading(),b._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},d.src=a,c.appendChild(d)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),eC=function(a,b,c){return!0===eE(a.local,b,c)},eD=function(a,b,c,d){var e=eF(a,b,c,d);return e&&e.pendingTrack},eE=function(a,b,c){if(!a)return!1;var d=function(a){switch(a){case"avatar":return!0;case"staged":return a;default:return!!a}},e=a.public.subscribedTracks;return e&&e[b]?d(-1===["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(c)&&e[b].custom?[!0,"staged"].includes(e[b].custom)?e[b].custom:e[b].custom[c]:e[b][c]):!e||d(e.ALL)},eF=function(a,b,c,d){var e=Object.values(a.streams||{}).filter(function(a){return a.participantId===b&&a.type===c&&a.pendingTrack&&a.pendingTrack.kind===d}).sort(function(a,b){return new Date(b.starttime)-new Date(a.starttime)});return e&&e[0]},eG=function(a,b){var c=a.local.public.customTracks;if(c&&c[b])return c[b].track};function eH(a,b){for(var c=b.getState(),d=0,e=["cam","screen"];d<e.length;d++)for(var f=e[d],g=0,h=["video","audio"];g<h.length;g++){var i=h[g],j="cam"===f?i:"screen".concat(i.charAt(0).toUpperCase()+i.slice(1)),k=a.tracks[j];if(k){var l=a.local?c.local.streams&&c.local.streams[f]&&c.local.streams[f].stream&&c.local.streams[f].stream["get".concat("video"===i?"Video":"Audio","Tracks")]()[0]:eD(c,a.session_id,f,i);"playable"===k.state&&(k.track=l),k.persistentTrack=l}}}function eI(a,b){try{var c,d=b.getState();for(var e in a.tracks){if(c=e,!["video","audio","screenVideo","screenAudio"].includes(c)){var f=a.tracks[e].kind;if(f){var g=a.tracks[e];if(g){var h=a.local?eG(d,e):eD(d,a.session_id,e,f);"playable"===g.state&&(a.tracks[e].track=h),g.persistentTrack=h}}else console.error("unknown type for custom track")}}}catch(a){console.error(a)}}function eJ(a,b,c){var d=c.getState();if(a.local){if(a.audio)try{a.audioTrack=d.local.streams.cam.stream.getAudioTracks()[0],a.audioTrack||(a.audio=!1)}catch(a){}if(a.video)try{a.videoTrack=d.local.streams.cam.stream.getVideoTracks()[0],a.videoTrack||(a.video=!1)}catch(a){}if(a.screen)try{a.screenVideoTrack=d.local.streams.screen.stream.getVideoTracks()[0],a.screenAudioTrack=d.local.streams.screen.stream.getAudioTracks()[0],a.screenVideoTrack||a.screenAudioTrack||(a.screen=!1)}catch(a){}}else{var e=!0;try{var f=d.participants[a.session_id];f&&f.public&&f.public.rtcType&&"peer-to-peer"===f.public.rtcType.impl&&f.private&&!["connected","completed"].includes(f.private.peeringState)&&(e=!1)}catch(a){console.error(a)}if(!e)return a.audio=!1,a.audioTrack=!1,a.video=!1,a.videoTrack=!1,a.screen=!1,void(a.screenTrack=!1);try{if(d.streams,a.audio&&eC(d,a.session_id,"cam-audio")){var g=eD(d,a.session_id,"cam","audio");g&&(b&&b.audioTrack&&b.audioTrack.id===g.id?a.audioTrack=g:g.muted||(a.audioTrack=g)),a.audioTrack||(a.audio=!1)}if(a.video&&eC(d,a.session_id,"cam-video")){var h=eD(d,a.session_id,"cam","video");h&&(b&&b.videoTrack&&b.videoTrack.id===h.id?a.videoTrack=h:h.muted||(a.videoTrack=h)),a.videoTrack||(a.video=!1)}if(a.screen&&eC(d,a.session_id,"screen-audio")){var i=eD(d,a.session_id,"screen","audio");i&&(b&&b.screenAudioTrack&&b.screenAudioTrack.id===i.id?a.screenAudioTrack=i:i.muted||(a.screenAudioTrack=i))}if(a.screen&&eC(d,a.session_id,"screen-video")){var j=eD(d,a.session_id,"screen","video");j&&(b&&b.screenVideoTrack&&b.screenVideoTrack.id===j.id?a.screenVideoTrack=j:j.muted||(a.screenVideoTrack=j))}a.screenVideoTrack||a.screenAudioTrack||(a.screen=!1)}catch(a){console.error("unexpected error matching up tracks",a)}}}function eK(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var eL=new Map,eM=null;function eN(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var eO=new Map,eP=null;function eQ(){var a;return d2()||void 0!==(null==(a=navigator.mediaDevices)?void 0:a.ondevicechange)}var eR=new Set;function eS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function eT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?eS(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):eS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var eU=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),eV=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),eW=Object.values(eU),eX=["v","a","sv","sa","cv","ca"];Object.freeze(eW.reduce(function(a,b,c){return a[b]=eX[c],a},{})),Object.freeze(eX.reduce(function(a,b,c){return a[b]=eW[c],a},{}));var eY=[eU.VIDEO,eU.AUDIO,eU.SCREEN_VIDEO,eU.SCREEN_AUDIO],eZ=Object.values(eV),e$=["p","s","t"];Object.freeze(eZ.reduce(function(a,b,c){return a[b]=e$[c],a},{})),Object.freeze(e$.reduce(function(a,b,c){return a[b]=eZ[c],a},{}));var e_=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.base,d=b.byUserId,e=b.byParticipantId;k(this,a),this.base=c,this.byUserId=d,this.byParticipantId=e}return o(a,[{key:"clone",value:function(){var b=new a;if(this.base instanceof e0?b.base=this.base.clone():b.base=this.base,void 0!==this.byUserId)for(var c in b.byUserId={},this.byUserId){var d=this.byUserId[c];b.byUserId[c]=d instanceof e0?d.clone():d}if(void 0!==this.byParticipantId)for(var e in b.byParticipantId={},this.byParticipantId){var f=this.byParticipantId[e];b.byParticipantId[e]=f instanceof e0?f.clone():f}return b}},{key:"toJSONObject",value:function(){var a={};if("boolean"==typeof this.base?a.base=this.base:this.base instanceof e0&&(a.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var b in a.byUserId={},this.byUserId){var c=this.byUserId[b];a.byUserId[b]=c instanceof e0?c.toJSONObject():c}if(void 0!==this.byParticipantId)for(var d in a.byParticipantId={},this.byParticipantId){var e=this.byParticipantId[d];a.byParticipantId[d]=e instanceof e0?e.toJSONObject():e}return a}},{key:"toMinifiedJSONObject",value:function(){var a={};if(void 0!==this.base&&("boolean"==typeof this.base?a.b=this.base:a.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var b in a.u={},this.byUserId){var c=this.byUserId[b];a.u[b]="boolean"==typeof c?c:c.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var d in a.p={},this.byParticipantId){var e=this.byParticipantId[d];a.p[d]="boolean"==typeof e?e:e.toMinifiedJSONObject()}return a}},{key:"normalize",value:function(){return this.base instanceof e0&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(a){var b=x(a,2),c=b[0],d=b[1];return[c,d instanceof e0?d.normalize():d]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(a){var b=x(a,2),c=b[0],d=b[1];return[c,d instanceof e0?d.normalize():d]}))),this}}],[{key:"fromJSONObject",value:function(b){var c,d,e;if(void 0!==b.base&&(c="boolean"==typeof b.base?b.base:e0.fromJSONObject(b.base)),void 0!==b.byUserId)for(var f in d={},b.byUserId){var g=b.byUserId[f];d[f]="boolean"==typeof g?g:e0.fromJSONObject(g)}if(void 0!==b.byParticipantId)for(var h in e={},b.byParticipantId){var i=b.byParticipantId[h];e[h]="boolean"==typeof i?i:e0.fromJSONObject(i)}return new a({base:c,byUserId:d,byParticipantId:e})}},{key:"fromMinifiedJSONObject",value:function(b){var c,d,e;if(void 0!==b.b&&(c="boolean"==typeof b.b?b.b:e0.fromMinifiedJSONObject(b.b)),void 0!==b.u)for(var f in d={},b.u){var g=b.u[f];d[f]="boolean"==typeof g?g:e0.fromMinifiedJSONObject(g)}if(void 0!==b.p)for(var h in e={},b.p){var i=b.p[h];e[h]="boolean"==typeof i?i:e0.fromMinifiedJSONObject(i)}return new a({base:c,byUserId:d,byParticipantId:e})}},{key:"validateJSONObject",value:function(a){if("object"!==l(a))return[!1,"canReceive must be an object"];for(var b=["base","byUserId","byParticipantId"],c=0,d=Object.keys(a);c<d.length;c++){var e=d[c];if(!b.includes(e))return[!1,"canReceive can only contain keys (".concat(b.join(", "),")")];if("base"===e){var f=x(e0.validateJSONObject(a.base,!0),2),g=f[0],h=f[1];if(!g)return[!1,h]}else{if("object"!==l(a[e]))return[!1,"invalid (non-object) value for field '".concat(e,"' in canReceive")];for(var i=0,j=Object.values(a[e]);i<j.length;i++){var k=j[i],m=x(e0.validateJSONObject(k),2),n=m[0],o=m[1];if(!n)return[!1,o]}}}return[!0]}}])}(),e0=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.video,d=b.audio,e=b.screenVideo,f=b.screenAudio,g=b.customVideo,h=b.customAudio;k(this,a),this.video=c,this.audio=d,this.screenVideo=e,this.screenAudio=f,this.customVideo=g,this.customAudio=h}return o(a,[{key:"clone",value:function(){var b=new a;return void 0!==this.video&&(b.video=this.video),void 0!==this.audio&&(b.audio=this.audio),void 0!==this.screenVideo&&(b.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(b.screenAudio=this.screenAudio),void 0!==this.customVideo&&(b.customVideo=eT({},this.customVideo)),void 0!==this.customAudio&&(b.customAudio=eT({},this.customAudio)),b}},{key:"toJSONObject",value:function(){var a={};return void 0!==this.video&&(a.video=this.video),void 0!==this.audio&&(a.audio=this.audio),void 0!==this.screenVideo&&(a.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(a.screenAudio=this.screenAudio),void 0!==this.customVideo&&(a.customVideo=eT({},this.customVideo)),void 0!==this.customAudio&&(a.customAudio=eT({},this.customAudio)),a}},{key:"toMinifiedJSONObject",value:function(){var a={};return void 0!==this.video&&(a.v=this.video),void 0!==this.audio&&(a.a=this.audio),void 0!==this.screenVideo&&(a.sv=this.screenVideo),void 0!==this.screenAudio&&(a.sa=this.screenAudio),void 0!==this.customVideo&&(a.cv=eT({},this.customVideo)),void 0!==this.customAudio&&(a.ca=eT({},this.customAudio)),a}},{key:"normalize",value:function(){function a(a,b){return a&&1===Object.keys(a).length&&a["*"]===b}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!a(this.customVideo,!0)||!a(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!a(this.customVideo,!1)||!a(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(b){return new a({video:b,audio:b,screenVideo:b,screenAudio:b,customVideo:{"*":b},customAudio:{"*":b}})}},{key:"fromJSONObject",value:function(b){return new a({video:b.video,audio:b.audio,screenVideo:b.screenVideo,screenAudio:b.screenAudio,customVideo:void 0!==b.customVideo?eT({},b.customVideo):void 0,customAudio:void 0!==b.customAudio?eT({},b.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(b){return new a({video:b.v,audio:b.a,screenVideo:b.sv,screenAudio:b.sa,customVideo:b.cv,customAudio:b.ca})}},{key:"validateJSONObject",value:function(a,b){if("boolean"==typeof a)return[!0];if("object"!==l(a))return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var c=Object.keys(a),d=0;d<c.length;d++){var e=c[d];if(!eW.includes(e))return[!1,"invalid media type '".concat(e,"' in canReceive")];if(eY.includes(e)){if("boolean"!=typeof a[e])return[!1,"invalid (non-boolean) value for media type '".concat(e,"' in canReceive")]}else{if("object"!==l(a[e]))return[!1,"invalid (non-object) value for media type '".concat(e,"' in canReceive")];for(var f=0,g=Object.values(a[e]);f<g.length;f++)if("boolean"!=typeof g[f])return[!1,"invalid (non-boolean) value for entry within '".concat(e,"' in canReceive")];if(b&&void 0===a[e]["*"])return[!1,'canReceive "base" permission must specify "*" as an entry within \''.concat(e,"'")]}}return b&&c.length!==eW.length?[!1,'canReceive "base" permission must specify all media types: '.concat(eW.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),e1=["result"],e2=["preserveIframe"];function e3(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e4(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e3(Object(c),!0).forEach(function(b){t(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e3(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function e5(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(e5=function(){return!!a})()}function e6(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return e7(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?e7(a,void 0):void 0}}(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}function e7(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var e8={},e9="video",fa=d2()?{data:{}}:{data:{},topology:"none"},fb={present:0,hidden:0},fc={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},fd=Object.keys(fc),fe=["state","volume","simulcastEncodings"],ff={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},fg={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},fh={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},fi={customIntegrations:{validate:fF,help:fD()},customTrayButtons:{validate:fE,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(fg))},url:{validate:function(a){return"string"==typeof a},help:"url should be a string"},baseUrl:{validate:function(a){return"string"==typeof a},help:"baseUrl should be a string"},token:{validate:function(a){return"string"==typeof a},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(a,b){try{return b.validateDailyConfig(a),!0}catch(a){console.error("Failed to validate dailyConfig",a)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(a){return function a(b,c){if(void 0===c)return!1;switch(l(c)){case"string":return l(b)===c;case"object":if("object"!==l(b))return!1;for(var d in b)if(!a(b[d],c[d]))return!1;return!0;default:return!1}}(a,ff)},help:"reactNativeConfig should look like ".concat(JSON.stringify(ff),", all fields optional")},lang:{validate:function(a){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(a)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(a){try{return fw(a),!0}catch(a){return console.error(a),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(a,b){var c;if("boolean"==typeof a)return b._preloadCache.allowLocalVideo=a,!0;if(a instanceof MediaStreamTrack)b._sharedTracks.videoTrack=a,c={customTrack:dX};else{if(delete b._sharedTracks.videoTrack,"string"!=typeof a)return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;c={deviceId:a}}return b._updatePreloadCacheInputSettings({video:{settings:c}},!1),!0}},audioSource:{validate:function(a,b){var c;if("boolean"==typeof a)return b._preloadCache.allowLocalAudio=a,!0;if(a instanceof MediaStreamTrack)b._sharedTracks.audioTrack=a,c={customTrack:dX};else{if(delete b._sharedTracks.audioTrack,"string"!=typeof a)return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;c={deviceId:a}}return b._updatePreloadCacheInputSettings({audio:{settings:c}},!1),!0}},subscribeToTracksAutomatically:{validate:function(a,b){return b._preloadCache.subscribeToTracksAutomatically=a,!0}},theme:{validate:function(a){var b=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],c=function(a){for(var c=0,d=Object.keys(a);c<d.length;c++){var e=d[c];if(!b.includes(e))return console.error('unsupported color "'.concat(e,'". Valid colors: ').concat(b.join(", "))),!1;if(!a[e].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(e,' theme color should be provided in valid hex color format. Received: "').concat(a[e],'"')),!1}return!0};return"object"===l(a)&&("light"in a&&"dark"in a||"colors"in a)?"light"in a&&"dark"in a?"colors"in a.light?"colors"in a.dark?c(a.light.colors)&&c(a.dark.colors):(console.error('Dark theme is missing "colors" property.',a),!1):(console.error('Light theme is missing "colors" property.',a),!1):c(a.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',a),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(a){if("grid"in a){var b=a.grid;if("maxTilesPerPage"in b){if(!Number.isInteger(b.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(b.maxTilesPerPage,".")),!1;if(b.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in b){if(!Number.isInteger(b.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(b.minTilesPerPage,".")),!1;if(b.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in b&&b.minTilesPerPage>b.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(a){return fx(a,{allowAllParticipantsKey:!1})},help:fC({allowAllParticipantsKey:!1})},sendSettings:{validate:function(a,b){return!!function(a,b){try{return b.validateUpdateSendSettings(a),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(a,b)&&(b._preloadCache.sendSettings=a,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(a,b){var c;return!!fy(a)&&(b._inputSettings||(b._inputSettings={}),fz(a,null==(c=b.properties)?void 0:c.dailyConfig,b._sharedTracks),b._updatePreloadCacheInputSettings(a,!0),!0)},help:fB()},layout:{validate:function(a){return"custom-v1"===a||"browser"===a||"none"===a},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},fj={styles:{validate:function(a){for(var b in a)if("cam"!==b&&"screen"!==b)return!1;if(a.cam){for(var c in a.cam)if("div"!==c&&"video"!==c)return!1}if(a.screen){for(var d in a.screen)if("div"!==d&&"video"!==d)return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(a,b){if(b._preloadCache.subscribeToTracksAutomatically)return!1;var c=[!0,!1,"staged"];if(c.includes(a)||!d2()&&"avatar"===a)return!0;var d=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],e=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var f in a)if("custom"===f){if(!c.includes(a[f])&&!e(a[f],!0))return!1}else{var g=!b&&!d.includes(f),h=!c.includes(a[f]);if(g||h)return!1}return!0};return e(a)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(d2()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(a){return!1===a},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(a){for(var b=0,c=Object.entries(a);b<c.length;b++){var d=x(c[b],2),e=d[0],f=d[1];switch(e){case"hasPresence":if("boolean"!=typeof f)return!1;break;case"canSend":if(f instanceof Set||f instanceof Array||Array.isArray(f)){var g,h=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],i=e6(f);try{for(i.s();!(g=i.n()).done;){var j=g.value;if(!h.includes(j))return!1}}catch(a){i.e(a)}finally{i.f()}}else if("boolean"!=typeof f)return!1;(f instanceof Array||Array.isArray(f))&&(a.canSend=new Set(f));break;case"canReceive":var k=x(e_.validateJSONObject(f),2),l=k[0],m=k[1];if(!l)return console.error(m),!1;break;case"canAdmin":if(f instanceof Set||f instanceof Array||Array.isArray(f)){var n,o=["participants","streaming","transcription"],p=e6(f);try{for(p.s();!(n=p.n()).done;){var q=n.value;if(!o.includes(q))return!1}}catch(a){p.e(a)}finally{p.f()}}else if("boolean"!=typeof f)return!1;(f instanceof Array||Array.isArray(f))&&(a.canAdmin=new Set(f));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(E=v(function*(a){return new Promise(function(b,c){var d=[];a.forEach(function(e){return Promise.resolve(e).then(function(a){b(a)}).catch(function(b){d.push(b),d.length===a.length&&c(d)})})})}),function(a){return E.apply(this,arguments)}));var fk=function(){var a,b,c,d,f,g,h,i,m,n,r,u,w,y,z,A,B,C,D,E,F,G,H,I,K,L,N,O,P,Q,R,S,T,U,V,W,X,Y;function _(a){var b,c,d,e,f,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(this,_),e=q(e=_),t(d=p(this,e5()?Reflect.construct(e,f||[],q(this).constructor):e.apply(this,f)),"startListeningForDeviceChanges",function(){var a;a=d.handleDeviceChange,eQ()?eL.has(a)||(eL.set(a,{}),navigator.mediaDevices.enumerateDevices().then(function(b){var c;eL.has(a)&&(eL.get(a).lastDevicesString=JSON.stringify(b),eM||(c=v(function*(){var a,b=yield navigator.mediaDevices.enumerateDevices(),c=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return eK(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?eK(a,void 0):void 0}}(a))){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}(eL.keys());try{for(c.s();!(a=c.n()).done;){var d=a.value,e=JSON.stringify(b);e!==eL.get(d).lastDevicesString&&(eL.get(d).lastDevicesString=e,d(b))}}catch(a){c.e(a)}finally{c.f()}}),eM=function(){return c.apply(this,arguments)},navigator.mediaDevices.addEventListener("devicechange",eM)))}).catch(function(){})):eO.has(a)||(eO.set(a,{}),navigator.mediaDevices.enumerateDevices().then(function(b){eO.has(a)&&(eO.get(a).lastDevicesString=JSON.stringify(b),eP||(eP=setInterval(v(function*(){var a,b=yield navigator.mediaDevices.enumerateDevices(),c=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return eN(a,void 0);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?eN(a,void 0):void 0}}(a))){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}(eO.keys());try{for(c.s();!(a=c.n()).done;){var d=a.value,e=JSON.stringify(b);e!==eO.get(d).lastDevicesString&&(eO.get(d).lastDevicesString=e,d(b))}}catch(a){c.e(a)}finally{c.f()}}),3e3)))}))}),t(d,"stopListeningForDeviceChanges",function(){var a;a=d.handleDeviceChange,eQ()?eL.has(a)&&(eL.delete(a),0===eL.size&&eM&&(navigator.mediaDevices.removeEventListener("devicechange",eM),eM=null)):eO.has(a)&&(eO.delete(a),0===eO.size&&eP&&(clearInterval(eP),eP=null))}),t(d,"handleDeviceChange",function(a){a=a.map(function(a){return JSON.parse(JSON.stringify(a))}),d.emitDailyJSEvent({action:"available-devices-updated",availableDevices:a})}),t(d,"handleNativeAppStateChange",(b=v(function*(a){"destroyed"===a?(console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),yield d.destroy()):d.disableReactNativeAutoDeviceManagement("video")||("active"===a?d.camUnmutedBeforeLosingNativeActiveState&&d.setLocalVideo(!0):(d.camUnmutedBeforeLosingNativeActiveState=d.localVideo(),d.camUnmutedBeforeLosingNativeActiveState&&d.setLocalVideo(!1)))}),function(a){return b.apply(this,arguments)})),t(d,"handleNativeAudioFocusChange",function(a){d.disableReactNativeAutoDeviceManagement("audio")||(d._hasNativeAudioFocus=a,d.toggleParticipantAudioBasedOnNativeAudioFocus(),d._hasNativeAudioFocus?d.micUnmutedBeforeLosingNativeAudioFocus&&d.setLocalAudio(!0):(d.micUnmutedBeforeLosingNativeAudioFocus=d.localAudio(),d.setLocalAudio(!1)))}),t(d,"handleNativeSystemScreenCaptureStop",function(){d.stopScreenShare()}),!d8()&&!d2())throw Error("WebRTC not supported or suppressed");if(d.strictMode=void 0===g.strictMode||g.strictMode,d.allowMultipleCallInstances=null!=(c=g.allowMultipleCallInstances)&&c,Object.keys(e8).length&&(d._logDuplicateInstanceAttempt(),!d.allowMultipleCallInstances)){if(d.strictMode)throw Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),d.callClientId=$(),e8[d.callClientId]=d,window._daily.instances[d.callClientId]={},d._sharedTracks={},window._daily.instances[d.callClientId].tracks=d._sharedTracks,g.dailyJsVersion=_.version(),d._iframe=a,d._callObjectMode="none"===g.layout&&!d._iframe,d._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==g.showLocalVideo?d._callObjectMode?console.error("showLocalVideo is not available in call object mode"):d._showLocalVideo=!!g.showLocalVideo:d._showLocalVideo=!0,void 0!==g.showParticipantsBar?d._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):d._showParticipantsBar=!!g.showParticipantsBar:d._showParticipantsBar=!0,void 0!==g.customIntegrations?d._callObjectMode?console.error("customIntegrations is not available in call object mode"):d._customIntegrations=g.customIntegrations:d._customIntegrations={},void 0!==g.customTrayButtons?d._callObjectMode?console.error("customTrayButtons is not available in call object mode"):d._customTrayButtons=g.customTrayButtons:d._customTrayButtons={},void 0!==g.activeSpeakerMode?d._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):d._activeSpeakerMode=!!g.activeSpeakerMode:d._activeSpeakerMode=!1,g.receiveSettings?d._callObjectMode?d._receiveSettings=g.receiveSettings:console.error("receiveSettings is only available in call object mode"):d._receiveSettings={},d.validateProperties(g),d.properties=e4({},g),d._inputSettings||(d._inputSettings={}),d._callObjectLoader=d._callObjectMode?new ew(d.callClientId):null,d._callState="new",d._isPreparingToJoin=!1,d._accessState={access:cT},d._meetingSessionSummary={},d._finalSummaryOfPrevSession={},d._meetingSessionState=fJ(fa,d._callObjectMode),d._nativeInCallAudioMode=e9,d._participants={},d._isScreenSharing=!1,d._participantCounts=fb,d._rmpPlayerState={},d._waitingParticipants={},d._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},d._activeSpeaker={},d._localAudioLevel=0,d._isLocalAudioLevelObserverRunning=!1,d._remoteParticipantsAudioLevel={},d._isRemoteParticipantsAudioLevelObserverRunning=!1,d._maxAppMessageSize=4096,d._messageChannel=d2()?new en:new ek,d._iframe&&(d._iframe.requestFullscreen?d._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===d._iframe?(d.emitDailyJSEvent({action:dI}),d.sendMessageToCallMachine({action:dI})):(d.emitDailyJSEvent({action:dJ}),d.sendMessageToCallMachine({action:dJ}))}):d._iframe.webkitRequestFullscreen&&d._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===d._iframe?(d.emitDailyJSEvent({action:dI}),d.sendMessageToCallMachine({action:dI})):(d.emitDailyJSEvent({action:dJ}),d.sendMessageToCallMachine({action:dJ}))})),d2()){var h=d.nativeUtils();h.addAudioFocusChangeListener&&h.removeAudioFocusChangeListener&&h.addAppStateChangeListener&&h.removeAppStateChangeListener&&h.addSystemScreenCaptureStopListener&&h.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),d._hasNativeAudioFocus=!0,h.addAudioFocusChangeListener(d.handleNativeAudioFocusChange),h.addAppStateChangeListener(d.handleNativeAppStateChange),h.addSystemScreenCaptureStopListener(d.handleNativeSystemScreenCaptureStop)}return d._callObjectMode&&d.startListeningForDeviceChanges(),d._messageChannel.addListenerForMessagesFromCallMachine(d.handleMessageFromCallMachine,d.callClientId,d),d}return s(_,J),o(_,[{key:"destroy",value:(Y=v(function*(){try{yield this.leave()}catch(a){}var a,b=this._iframe;if(b){var c=b.parentElement;c&&c.removeChild(b)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),d2()){var d=this.nativeUtils();d.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),d.removeAppStateChangeListener(this.handleNativeAppStateChange),d.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete e8[this.callClientId],(null==(a=window)||null==(a=a._daily)?void 0:a.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Y.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(a){var b=a.bodyClass,c=a.cssFile,d=a.cssText;return fu(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(c),bodyClass:b,cssText:d}),this}},{key:"iframe",value:function(){return fu(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return fs(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return fs(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(a,b){for(var c in b){if(!fj[c])throw Error("unrecognized updateParticipant property ".concat(c));if(fj[c].validate&&!fj[c].validate(b[c],this,this._participants[a]))throw Error(fj[c].help)}}},{key:"updateParticipant",value:function(a,b){return this._participants.local&&this._participants.local.session_id===a&&(a="local"),a&&b&&(this.validateParticipantProperties(a,b),this.sendMessageToCallMachine({action:"update-participant",id:a,properties:b})),this}},{key:"updateParticipants",value:function(a){var b=this._participants.local&&this._participants.local.session_id;for(var c in a)c===b&&(c="local"),c&&a[c]&&this.validateParticipantProperties(c,a[c]);return this.sendMessageToCallMachine({action:"update-participants",participants:a}),this}},{key:"updateWaitingParticipant",value:(X=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fs(this._callObjectMode,"updateWaitingParticipant()"),fn(this._callState,"updateWaitingParticipant()"),"string"!=typeof b||"object"!==l(c))throw Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(d,e){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:b,updates:c},function(a){a.error&&e(a.error),a.id||e(Error("unknown error in updateWaitingParticipant()")),d({id:a.id})})})}),function(){return X.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(W=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fs(this._callObjectMode,"updateWaitingParticipants()"),fn(this._callState,"updateWaitingParticipants()"),"object"!==l(b))throw Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(c,d){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:b},function(a){a.error&&d(a.error),a.ids||d(Error("unknown error in updateWaitingParticipants()")),c({ids:a.ids})})})}),function(){return W.apply(this,arguments)})},{key:"requestAccess",value:(V=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.access,d=void 0===c?{level:cU}:c,e=b.name,f=void 0===e?"":e;return fs(this._callObjectMode,"requestAccess()"),fn(this._callState,"requestAccess()"),new Promise(function(b,c){a.sendMessageToCallMachine({action:"daily-method-request-access",access:d,name:f},function(a){a.error&&c(a.error),a.access||c(Error("unknown error in requestAccess()")),b({access:a.access,granted:a.granted})})})}),function(){return V.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"forceDiscardTrack"in b&&(d2()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),b={}):a&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),b={})),this.sendMessageToCallMachine({action:"local-audio",state:a,options:b}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(a){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:a}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(a){return this.sendMessageToCallMachine({action:"local-video",state:a}),this}},{key:"_setAllowLocalAudio",value:function(a){if(this._preloadCache.allowLocalAudio=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:a}),this}},{key:"_setAllowLocalVideo",value:function(a){if(this._preloadCache.allowLocalVideo=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:a}),this}},{key:"getReceiveSettings",value:(U=v(function*(a){var b=this,c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,d=void 0!==c&&c;if(fs(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(l(a)){case"string":return new Promise(function(c){b.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:a,showInheritedValues:d},function(a){c(a.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(a){return U.apply(this,arguments)})},{key:"updateReceiveSettings",value:(T=v(function*(a){var b=this;if(fs(this._callObjectMode,"updateReceiveSettings()"),!fx(a,{allowAllParticipantsKey:!0}))throw Error(fC({allowAllParticipantsKey:!0}));return fn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(c){b.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:a},function(a){c({receiveSettings:a.receiveSettings})})})}),function(a){return T.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(a,b){if(a){var c={};if(a.audio){a.audio.settings&&(!Object.keys(a.audio.settings).length&&b||(c.audio={settings:e4({},a.audio.settings)})),b&&null!=(d=c.audio)&&null!=(d=d.settings)&&d.customTrack&&(c.audio.settings={customTrack:this._sharedTracks.audioTrack});var d,e,f,g="none"===(null==(e=a.audio.processor)?void 0:e.type)&&(null==(f=a.audio.processor)?void 0:f._isDefaultWhenNone);if(a.audio.processor&&!g){var h=e4({},a.audio.processor);delete h._isDefaultWhenNone,c.audio=e4(e4({},c.audio),{},{processor:h})}}if(a.video){a.video.settings&&(!Object.keys(a.video.settings).length&&b||(c.video={settings:e4({},a.video.settings)})),b&&null!=(i=c.video)&&null!=(i=i.settings)&&i.customTrack&&(c.video.settings={customTrack:this._sharedTracks.videoTrack});var i,j,k,l="none"===(null==(j=a.video.processor)?void 0:j.type)&&(null==(k=a.video.processor)?void 0:k._isDefaultWhenNone);if(a.video.processor&&!l){var m=e4({},a.video.processor);delete m._isDefaultWhenNone,c.video=e4(e4({},c.video),{},{processor:m})}}return c}}},{key:"getInputSettings",value:function(){var a=this;return fu(),new Promise(function(b){b(a._getInputSettings())})}},{key:"_getInputSettings",value:function(){var a,b,c,d,e,f,g={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(a=(null==(c=this._inputSettings)?void 0:c.video)||g,b=(null==(d=this._inputSettings)?void 0:d.audio)||g):(a=(null==(e=this._preloadCache)||null==(e=e.inputSettings)?void 0:e.video)||g,b=(null==(f=this._preloadCache)||null==(f=f.inputSettings)?void 0:f.audio)||g);var h={audio:b,video:a};return this._prepInputSettingsForSharing(h,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(a,b){var c,d,e,f,g,h,i=this._inputSettings||{},j={};a.video?((j.video={},a.video.settings)?(j.video.settings={},b||a.video.settings.customTrack||null==(e=i.video)||!e.settings?j.video.settings=a.video.settings:j.video.settings=e4(e4({},i.video.settings),a.video.settings),Object.keys(j.video.settings).length||delete j.video.settings):null!=(c=i.video)&&c.settings&&(j.video.settings=i.video.settings),a.video.processor?j.video.processor=a.video.processor:null!=(d=i.video)&&d.processor&&(j.video.processor=i.video.processor)):i.video&&(j.video=i.video),a.audio?((j.audio={},a.audio.settings)?(j.audio.settings={},b||a.audio.settings.customTrack||null==(h=i.audio)||!h.settings?j.audio.settings=a.audio.settings:j.audio.settings=e4(e4({},i.audio.settings),a.audio.settings),Object.keys(j.audio.settings).length||delete j.audio.settings):null!=(f=i.audio)&&f.settings&&(j.audio.settings=i.audio.settings),a.audio.processor?j.audio.processor=a.audio.processor:null!=(g=i.audio)&&g.processor&&(j.audio.processor=i.audio.processor)):i.audio&&(j.audio=i.audio),this._maybeUpdateInputSettings(j)}},{key:"_devicesFromInputSettings",value:function(a){var b,c,d=(null==a||null==(b=a.video)||null==(b=b.settings)?void 0:b.deviceId)||null,e=(null==a||null==(c=a.audio)||null==(c=c.settings)?void 0:c.deviceId)||null,f=this._preloadCache.outputDeviceId||null;return{camera:d?{deviceId:d}:{},mic:e?{deviceId:e}:{},speaker:f?{deviceId:f}:{}}}},{key:"updateInputSettings",value:(S=v(function*(a){var b=this;return fu(),fy(a)?a.video||a.audio?(fz(a,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(a,!0),this._getInputSettings()):new Promise(function(c,d){b.sendMessageToCallMachine({action:"update-input-settings",inputSettings:a},function(e){if(e.error)d(e.error);else{if(e.returnPreloadCache)return b._updatePreloadCacheInputSettings(a,!0),void c(b._getInputSettings());b._maybeUpdateInputSettings(e.inputSettings),c(b._prepInputSettingsForSharing(e.inputSettings,!0))}})})):this._getInputSettings():(console.error(fB()),Promise.reject(fB()))}),function(a){return S.apply(this,arguments)})},{key:"setBandwidth",value:function(a){var b=a.kbs,c=a.trackConstraints;if(fu(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:b,trackConstraints:c}),this}},{key:"getDailyLang",value:function(){var a=this;if(fu(),this._callMachineInitialized)return new Promise(function(b){a.sendMessageToCallMachine({action:"get-daily-lang"},function(a){delete a.action,delete a.callbackStamp,b(a)})})}},{key:"setDailyLang",value:function(a){return fu(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:a}),this}},{key:"setProxyUrl",value:function(a){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:a}),this}},{key:"setIceConfig",value:function(a){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:a}),this}},{key:"meetingSessionSummary",value:function(){return[cQ,cR].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(R=v(function*(){var a=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),fn(this._callState,"getMeetingSession()"),new Promise(function(b){a.sendMessageToCallMachine({action:"get-meeting-session"},function(a){delete a.action,delete a.callbackStamp,b(a)})})}),function(){return R.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return fn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";fs(this._callObjectMode,"setMeetingSessionData()"),fn(this._callState,"setMeetingSessionData");try{new er({data:a,mergeStrategy:b})}catch(a){throw console.error(a),a}try{this.sendMessageToCallMachine({action:"set-session-data",data:a,mergeStrategy:b})}catch(a){throw Error("Error setting meeting session data: ".concat(a))}}},{key:"setUserName",value:function(a,b){var c=this;return this.properties.userName=a,new Promise(function(d){c.sendMessageToCallMachine({action:"set-user-name",name:null!=a?a:"",thisMeetingOnly:d2()||!!b&&!!b.thisMeetingOnly},function(a){delete a.action,delete a.callbackStamp,d(a)})})}},{key:"setUserData",value:(Q=v(function*(a){var b=this;try{fw(a)}catch(a){throw console.error(a),a}if(this.properties.userData=a,this._callMachineInitialized)return new Promise(function(c){try{b.sendMessageToCallMachine({action:"set-user-data",userData:a},function(a){delete a.action,delete a.callbackStamp,c(a)})}catch(a){throw Error("Error setting user data: ".concat(a))}})}),function(a){return Q.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(a){if(a&&(a<100||"number"!=typeof a))throw Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(a){var b=this;if("undefined"==typeof AudioWorkletNode&&!d2())throw Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(c,d){b.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:a},function(a){b._isLocalAudioLevelObserverRunning=!a.error,a.error?d({error:a.error}):c()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:a}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(a){var b=this;if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(c,d){b.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:a},function(a){b._isRemoteParticipantsAudioLevelObserverRunning=!a.error,a.error?d({error:a.error}):c()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:a}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(P=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fs(this._callObjectMode,"startCamera()"),fp(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(b)}catch(a){return Promise.reject(a)}else{if(this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(b),this.properties=e4(e4({},this.properties),b)}return new Promise(function(b){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"start-camera",properties:fm(a.properties,a.callClientId),preloadCache:fm(a._preloadCache,a.callClientId)},function(a){b({camera:a.camera,mic:a.mic,speaker:a.speaker})})})}),function(){return P.apply(this,arguments)})},{key:"validateCustomTrack",value:function(a,b,c){if(c&&c.length>50)throw Error("Custom track `trackName` must not be more than 50 characters");if(b&&"music"!==b&&"speech"!==b&&!(b instanceof Object))throw Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(c&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(c))throw Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(a instanceof MediaStreamTrack))throw Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName,ignoreAudioLevel:ignoreAudioLevel};return fu(),fn(this._callState,"startCustomTrack()"),this.validateCustomTrack(b.track,b.mode,b.trackName),new Promise(function(c,d){a._sharedTracks.customTrack=b.track,b.track=dX,a.sendMessageToCallMachine({action:"start-custom-track",properties:b},function(a){a.error?d({error:a.error}):c(a.mediaTag)})})}},{key:"stopCustomTrack",value:function(a){var b=this;return fu(),fn(this._callState,"stopCustomTrack()"),new Promise(function(c){b.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:a},function(a){c(a.mediaTag)})})}},{key:"setCamera",value:function(a){var b=this;return fv(),fq(this._callMachineInitialized,"setCamera()"),new Promise(function(c){b.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:a},function(a){c({device:a.device})})})}},{key:"setAudioDevice",value:(O=v(function*(a){return fv(),this.nativeUtils().setAudioDevice(a),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(a){return O.apply(this,arguments)})},{key:"cycleCamera",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(c){a.sendMessageToCallMachine({action:"cycle-camera",properties:b},function(a){c({device:a.device})})})}},{key:"cycleMic",value:function(){var a=this;return fu(),new Promise(function(b){a.sendMessageToCallMachine({action:"cycle-mic"},function(a){b({device:a.device})})})}},{key:"getCameraFacingMode",value:function(){var a=this;return fv(),new Promise(function(b){a.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(a){b(a.facingMode)})})}},{key:"setInputDevicesAsync",value:(N=v(function*(a){var b=this,c=a.audioDeviceId,d=a.videoDeviceId,e=a.audioSource,f=a.videoSource;if(fu(),void 0!==e&&(c=e),void 0!==f&&(d=f),"boolean"==typeof c&&(this._setAllowLocalAudio(c),c=void 0),"boolean"==typeof d&&(this._setAllowLocalVideo(d),d=void 0),!c&&!d)return yield this.getInputDevices();var g={};return c&&(c instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=c,g.audio={settings:{customTrack:c=dX}}):(delete this._sharedTracks.audioTrack,g.audio={settings:{deviceId:c}})),d&&(d instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=d,g.video={settings:{customTrack:d=dX}}):(delete this._sharedTracks.videoTrack,g.video={settings:{deviceId:d}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(g,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(a){b.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:c,videoDeviceId:d},function(c){(delete c.action,delete c.callbackStamp,c.returnPreloadCache)?(b._updatePreloadCacheInputSettings(g,!1),a(b._devicesFromInputSettings(b._inputSettings))):a(c)})})}),function(a){return N.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(L=v(function*(a){var b=this,c=a.outputDeviceId;if(fu(),!c||"string"!=typeof c)throw Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=c,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(a,d){b.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:c},function(c){if(delete c.action,delete c.callbackStamp,c.error){var e=Error(c.error.message);return e.type=c.error.type,void d(e)}c.returnPreloadCache?a(b._devicesFromInputSettings(b._inputSettings)):a(c)})})}),function(a){return L.apply(this,arguments)})},{key:"getInputDevices",value:(K=v(function*(){var a=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(b){a.sendMessageToCallMachine({action:"get-input-devices"},function(c){c.returnPreloadCache?b(a._devicesFromInputSettings(a._inputSettings)):b({camera:c.camera,mic:c.mic,speaker:c.speaker})})})}),function(){return K.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return fv(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(a){if(fv(),[e9,"voice"].includes(a)){if(a!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=a,!this.disableReactNativeAutoDeviceManagement("audio")&&fo(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",a)}},{key:"preAuth",value:(I=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fs(this._callObjectMode,"preAuth()"),fp(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(b)),!b.url)throw Error("preAuth() requires at least a url to be provided");return this.validateProperties(b),this.properties=e4(e4({},this.properties),b),new Promise(function(b,c){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"daily-method-preauth",properties:fm(a.properties,a.callClientId),preloadCache:fm(a._preloadCache,a.callClientId)},function(d){return d.error?c(d.error):d.access?(a._didPreAuth=!0,void b({access:d.access})):c(Error("unknown error in preAuth()"))})})}),function(){return I.apply(this,arguments)})},{key:"load",value:(H=v(function*(a){var b=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");if(a&&(this.validateProperties(a),this.properties=e4(e4({},this.properties),a)),!this._callObjectMode&&!this.properties.url)throw Error("can't load iframe meeting because url property isn't set");return this._updateCallState(cM),this.emitDailyJSEvent({action:c0}),this._callObjectMode?new Promise(function(a,c){b._callObjectLoader.cancel();var d=Date.now();b._callObjectLoader.load(b.properties.dailyConfig,function(c){b._bundleLoadTime=c?"no-op":Date.now()-d,b._updateCallState(cN),c&&b.emitDailyJSEvent({action:c2}),a()},function(a,d){if(b.emitDailyJSEvent({action:c1}),!d){b._updateCallState(cR),b.resetMeetingDependentVars();var e={action:dS,errorMsg:a.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:a,bundleUrl:ab(b.properties.dailyConfig)}}};b._maybeSendToSentry(e),b.emitDailyJSEvent(e),c(a.msg)}})}):(this._iframe.src=aa(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(a,c){b._loadedCallback=function(d){b._callState!==cR?(b._updateCallState(cN),(b.properties.cssFile||b.properties.cssText)&&b.loadCss(b.properties),a()):c(d)}}))}}),function(a){return H.apply(this,arguments)})},{key:"join",value:(G=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var c=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(b)}catch(a){return this.updateIsPreparingToJoin(!1),Promise.reject(a)}}else{if(c=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(b.url&&!this._callObjectMode&&b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(b.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(b),this.properties=e4(e4({},this.properties),b)}return void 0!==b.showLocalVideo&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!b.showLocalVideo),void 0!==b.showParticipantsBar&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!b.showParticipantsBar),this._callState===cP||this._callState===cO?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(cO,!1),this.emitDailyJSEvent({action:c5}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:fm(this.properties,this.callClientId),preloadCache:fm(this._preloadCache,this.callClientId)}),new Promise(function(b,d){a._joinedCallback=function(e,f){if(a._callState!==cR){if(a._updateCallState(cP),e)for(var g in e){if(a._callObjectMode){var h=a._callMachine().store;eH(e[g],h),eI(e[g],h),eJ(e[g],a._participants[g],h)}a._participants[g]=e4({},e[g]),a.toggleParticipantAudioBasedOnNativeAudioFocus()}c&&a.loadCss(a.properties),b(e)}else d(f)}}))}),function(){return G.apply(this,arguments)})},{key:"leave",value:(F=v(function*(){var a=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(b){a._callState===cQ||a._callState===cR?b():a._callObjectLoader&&!a._callObjectLoader.loaded?(a._callObjectLoader.cancel(),a._updateCallState(cQ),a.resetMeetingDependentVars(),a.emitDailyJSEvent({action:cQ}),b()):(a._resolveLeave=b,a.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return F.apply(this,arguments)})},{key:"startScreenShare",value:(E=v(function*(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fq(this._callMachineInitialized,"startScreenShare()"),b.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",b.screenVideoSendSettings),b.mediaStream&&(this._sharedTracks.screenMediaStream=b.mediaStream,b.mediaStream=dX),"undefined"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var c=this.nativeUtils();if(yield c.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:dR,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});c.setSystemScreenCaptureStartCallback(function(){c.setSystemScreenCaptureStartCallback(null),a.sendMessageToCallMachine({action:dU,captureOptions:b})}),c.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:dU,captureOptions:b})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){fq(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.type;if(b&&"cloud"!==b&&"raw-tracks"!==b&&"local"!==b)throw Error("invalid type: ".concat(b,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(e4({action:"local-recording-start"},a))}},{key:"updateRecording",value:function(a){var b=a.layout,c=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:void 0===b?{preset:"default"}:b,instanceId:c})}},{key:"stopRecording",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(e4({action:"local-recording-stop"},a))}},{key:"startLiveStreaming",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(e4({action:"daily-method-start-live-streaming"},a))}},{key:"updateLiveStreaming",value:function(a){var b=a.layout,c=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:void 0===b?{preset:"default"}:b,instanceId:c})}},{key:"addLiveStreamingEndpoints",value:function(a){var b=a.endpoints,c=a.instanceId;this.sendMessageToCallMachine({action:dV,endpointsOp:"add-endpoints",endpoints:b,instanceId:c})}},{key:"removeLiveStreamingEndpoints",value:function(a){var b=a.endpoints,c=a.instanceId;this.sendMessageToCallMachine({action:dV,endpointsOp:"remove-endpoints",endpoints:b,instanceId:c})}},{key:"stopLiveStreaming",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(e4({action:"daily-method-stop-live-streaming"},a))}},{key:"validateDailyConfig",value:function(a){a.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(a.camSimulcastEncodings)),a.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),d9()&&a.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a){if(!(a instanceof Array||Array.isArray(a)))throw Error("encodings must be an Array");if(!fI(a.length,1,3))throw Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var d=0;d<a.length;d++){var e=a[d];for(var f in this._validateEncodingLayerHasValidProperties(e),e)if(fd.includes(f)){if("number"!=typeof e[f])throw Error("".concat(f," must be a number"));if(b){var g=b[f],h=g.min,i=g.max;if(!fI(e[f],h,i))throw Error("".concat(f," value not in range. valid range: ").concat(h," to ").concat(i))}}else if(!["active","scalabilityMode"].includes(f))throw Error("Invalid key ".concat(f,", valid keys are:")+Object.values(fd));if(c&&!e.hasOwnProperty("maxBitrate"))throw Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(D=v(function*(a){var b=this,c=a.url,d=a.settings,e=void 0===d?{state:d$.PLAY}:d;try{!function(a){if("string"!=typeof a)throw Error('url parameter must be "string" type')}(c),fH(e),function(a){for(var b in a)if(!fe.includes(b))throw Error("Invalid key ".concat(b,", valid keys are: ").concat(fe));a.simulcastEncodings&&this.validateSimulcastEncodings(a.simulcastEncodings,fc,!0)}(e)}catch(a){throw console.error("invalid argument Error: ".concat(a)),console.error('startRemoteMediaPlayer arguments must be of the form:\n  { url: "playback url",\n  settings?:\n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'),a}return new Promise(function(a,d){b.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:c,settings:e},function(b){b.error?d({error:b.error,errorMsg:b.errorMsg}):a({session_id:b.session_id,remoteMediaPlayerState:{state:b.state,settings:b.settings}})})})}),function(a){return D.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(C=v(function*(a){var b=this;if("string"!=typeof a)throw Error(" remotePlayerID must be of type string");return new Promise(function(c,d){b.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:a},function(a){a.error?d({error:a.error,errorMsg:a.errorMsg}):c()})})}),function(a){return C.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(B=v(function*(a){var b=this,c=a.session_id,d=a.settings;try{fH(d)}catch(a){throw console.error("invalid argument Error: ".concat(a)),console.error('updateRemoteMediaPlayer arguments must be of the form:\n  session_id: "participant session",\n  { settings?: {state: "play"|"pause"} }'),a}return new Promise(function(a,e){b.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:c,settings:d},function(b){b.error?e({error:b.error,errorMsg:b.errorMsg}):a({session_id:b.session_id,remoteMediaPlayerState:{state:b.state,settings:b.settings}})})})}),function(a){return B.apply(this,arguments)})},{key:"startTranscription",value:function(a){fn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(e4({action:"daily-method-start-transcription"},a))}},{key:"updateTranscription",value:function(a){if(fn(this._callState,"updateTranscription()"),!a)throw Error("updateTranscription Error: options is mandatory");if("object"!==l(a))throw Error("updateTranscription Error: options must be object type");if(a.participants&&!Array.isArray(a.participants))throw Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(e4({action:"daily-method-update-transcription"},a))}},{key:"stopTranscription",value:function(a){if(fn(this._callState,"stopTranscription()"),a&&"object"!==l(a))throw Error("stopTranscription Error: options must be object type");if(a&&!a.instanceId)throw Error('"instanceId" not provided');this.sendMessageToCallMachine(e4({action:"daily-method-stop-transcription"},a))}},{key:"startDialOut",value:(A=v(function*(a){var b=this;fn(this._callState,"startDialOut()");var c=function(a){if(a){if(!Array.isArray(a))throw Error("Error starting dial out: audio codec must be an array");if(a.length<=0)throw Error("Error starting dial out: audio codec array specified but empty");a.forEach(function(a){if("string"!=typeof a)throw Error("Error starting dial out: audio codec must be a string");if("OPUS"!==a&&"PCMU"!==a&&"PCMA"!==a&&"G722"!==a)throw Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!a.sipUri&&!a.phoneNumber)throw Error("Error starting dial out: either a sip uri or phone number must be provided");if(a.sipUri&&a.phoneNumber)throw Error("Error starting dial out: only one of sip uri or phone number must be provided");if(a.sipUri){if("string"!=typeof a.sipUri)throw Error("Error starting dial out: sipUri must be a string");if(!a.sipUri.startsWith("sip:"))throw Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(a.video&&"boolean"!=typeof a.video)throw Error("Error starting dial out: video must be a boolean value");var d=a.codecs;if(d&&(c(d.audio),d.video)){if(!Array.isArray(d.video))throw Error("Error starting dial out: video codec must be an array");if(d.video.length<=0)throw Error("Error starting dial out: video codec array specified but empty");d.video.forEach(function(a){if("string"!=typeof a)throw Error("Error starting dial out: video codec must be a string");if("H264"!==a&&"VP8"!==a)throw Error("Error starting dial out: video codec must be H264 or VP8")})}}if(a.phoneNumber){if("string"!=typeof a.phoneNumber)throw Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(a.phoneNumber))throw Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");a.codecs&&c(a.codecs.audio)}if(a.callerId){if("string"!=typeof a.callerId)throw Error("Error starting dial out: callerId must be a string");if(a.sipUri)throw Error("Error starting dial out: callerId not allowed with sipUri")}if(a.displayName){if("string"!=typeof a.displayName)throw Error("Error starting dial out: displayName must be a string");if(a.displayName.length>=200)throw Error("Error starting dial out: displayName length must be less than 200")}if(a.userId){if("string"!=typeof a.userId)throw Error("Error starting dial out: userId must be a string");if(a.userId.length>36)throw Error("Error starting dial out: userId length must be less than or equal to 36")}if(fl(a),a.permissions&&a.permissions.canReceive){var e=x(e_.validateJSONObject(a.permissions.canReceive),2),f=e[0],g=e[1];if(!f)throw Error(g)}return new Promise(function(c,d){b.sendMessageToCallMachine(e4({action:"dialout-start"},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return A.apply(this,arguments)})},{key:"stopDialOut",value:function(a){var b=this;return fn(this._callState,"stopDialOut()"),new Promise(function(c,d){b.sendMessageToCallMachine(e4({action:"dialout-stop"},a),function(a){a.error?d(a.error):c(a)})})}},{key:"sipCallTransfer",value:(z=v(function*(a){var b=this;if(fn(this._callState,"sipCallTransfer()"),!a)throw Error("sipCallTransfer() requires a sessionId and toEndPoint");return a.useSipRefer=!1,fG(a,"sipCallTransfer"),fl(a),new Promise(function(c,d){b.sendMessageToCallMachine(e4({action:d0},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return z.apply(this,arguments)})},{key:"sipRefer",value:(y=v(function*(a){var b=this;if(fn(this._callState,"sipRefer()"),!a)throw Error("sessionId and toEndPoint are mandatory parameter");return a.useSipRefer=!0,fG(a,"sipRefer"),new Promise(function(c,d){b.sendMessageToCallMachine(e4({action:d0},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return y.apply(this,arguments)})},{key:"sendDTMF",value:(w=v(function*(a){var b=this;return fn(this._callState,"sendDTMF()"),function(a){var b=a.sessionId,c=a.tones;if(!b||!c)throw Error("sessionId and tones are mandatory parameter");if("string"!=typeof b||"string"!=typeof c)throw Error("sessionId and tones should be of string type");if(c.length>20)throw Error("tones string must be upto 20 characters");var d=c.match(/[^0-9A-D*#]/g);if(d&&d[0])throw Error("".concat(d[0]," is not valid DTMF tone"))}(a),new Promise(function(c,d){b.sendMessageToCallMachine(e4({action:"send-dtmf"},a),function(a){a.error?d(a.error):c(a)})})}),function(a){return w.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var a=this;return this._callState!==cP?Promise.resolve(e4({stats:{latest:{}}},this._network)):new Promise(function(b){a.sendMessageToCallMachine({action:"get-calc-stats"},function(c){b(e4(e4({},a._network),{},{stats:c.stats}))})})}},{key:"testWebsocketConnectivity",value:(u=v(function*(){var a=this;if(fr(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}return new Promise(function(b,c){a.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(a){a.error?c(a.error):b(a.results)})})}),function(){return u.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(a){return a?a instanceof MediaStreamTrack?!!(a&&"live"===a.readyState&&(!a.muted||eR.has(a.id)))||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(r=v(function*(){var a=this;fu(),fs(this._callObjectMode,"testCallQuality()"),fq(this._callMachineInitialized,"testCallQuality()",null,!0),fp(this._callState,this._isPreparingToJoin,"testCallQuality()");var b=this._testCallAlreadyInProgress,c=function(c){b||(a._testCallInProgress=c)};if(c(!0),this.needsLoad())try{var d=this._callState;yield this.load(),this._callState=d}catch(a){return c(!1),Promise.reject(a)}return new Promise(function(b){a.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:a.properties.dailyJsVersion},function(d){var e=d.results,f=e.result,g=j(e,e1);if("failed"===f){var h,i=e4({},g);null!=(h=g.error)&&h.details?(g.error.details=JSON.parse(g.error.details),i.error=e4(e4({},i.error),{},{details:e4({},i.error.details)}),i.error.details.duringTest="testCallQuality"):(i.error=i.error?e4({},i.error):{},i.error.details={duringTest:"testCallQuality"}),a._maybeSendToSentry(i)}c(!1),b(e4({result:f},g))})})}),function(){return r.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(n=v(function*(a){d2()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),b=yield this.testPeerToPeerCallQuality(a)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),b=yield this.testCallQuality());var b,c={result:b.result,secondsElapsed:b.secondsElapsed};return b.data&&(c.data={maxRTT:b.data.maxRoundTripTime,packetLoss:b.data.avgRecvPacketLoss}),c}),function(a){return n.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(m=v(function*(a){var b=this;if(fr(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}var c=a.videoTrack,d=a.duration;if(!this._validateVideoTrackForNetworkTests(c))throw Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=c,new Promise(function(a,c){b.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:d},function(b){b.error?c(b.error):a(b.results)})})}),function(a){return m.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){d2()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(i=v(function*(a){var b=this;if(fr(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(a){return Promise.reject(a)}if(!this._validateVideoTrackForNetworkTests(a))throw Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=a,new Promise(function(a,c){b.sendMessageToCallMachine({action:"test-network-connectivity"},function(b){b.error?c(b.error):a(b.results)})})}),function(a){return i.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var a=this;return new Promise(function(b){a._callState===cP?a.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(a){b(a.cpuStats)}):b({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(a){var b;if(!((null==(b=Object.keys(a))?void 0:b.length)>0))throw Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(fd))}},{key:"_validateVideoSendSettings",value:function(a,b){var c="screenVideo"===a?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],d="Video send settings should be either an object or one of the supported presets: ".concat(c.join());if("string"==typeof b){if(!c.includes(b))throw Error(d)}else{if("object"!==l(b))throw Error(d);if(!b.maxQuality&&!b.encodings&&void 0===b.allowAdaptiveLayers)throw Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(b.maxQuality&&-1===["low","medium","high"].indexOf(b.maxQuality))throw Error("maxQuality must be either low, medium or high");if(b.encodings){var e=!1;switch(Object.keys(b.encodings).length){case 1:e=!b.encodings.low;break;case 2:e=!b.encodings.low||!b.encodings.medium;break;case 3:e=!b.encodings.low||!b.encodings.medium||!b.encodings.high;break;default:e=!0}if(e)throw Error("Encodings must be defined as: low, low and medium, or low, medium and high.");b.encodings.low&&this._validateEncodingLayerHasValidProperties(b.encodings.low),b.encodings.medium&&this._validateEncodingLayerHasValidProperties(b.encodings.medium),b.encodings.high&&this._validateEncodingLayerHasValidProperties(b.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(a){var b=this;if(!a||0===Object.keys(a).length)throw Error("Send settings must contain at least information for one track!");Object.entries(a).forEach(function(a){var c=x(a,2),d=c[0],e=c[1];b._validateVideoSendSettings(d,e)})}},{key:"updateSendSettings",value:function(a){var b=this;return this.validateUpdateSendSettings(a),this.needsLoad()?(this._preloadCache.sendSettings=a,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(c,d){b.sendMessageToCallMachine({action:"update-send-settings",sendSettings:a},function(a){a.error?d(a.error):c(a.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return fu(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(a){return fu(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:a}),this}},{key:"activeSpeakerMode",value:function(){return fu(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(a){return fn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=a,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:a}),this}},{key:"enumerateDevices",value:(h=v(function*(){var a=this;if(this._callObjectMode){var b=yield navigator.mediaDevices.enumerateDevices();return"Firefox"===eb()&&ec().major>115&&ec().major<123&&(b=b.filter(function(a){return"audiooutput"!==a.kind})),{devices:b.map(function(a){var b=JSON.parse(JSON.stringify(a));if(!d2()&&"videoinput"===a.kind&&a.getCapabilities){var c,d=a.getCapabilities();b.facing=(null==d||null==(c=d.facingMode)?void 0:c.length)>=1?d.facingMode[0]:void 0}return b})}}return new Promise(function(b){a.sendMessageToCallMachine({action:"enumerate-devices"},function(a){b({devices:a.devices})})})}),function(){return h.apply(this,arguments)})},{key:"sendAppMessage",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";if(fn(this._callState,"sendAppMessage()"),JSON.stringify(a).length>this._maxAppMessageSize)throw Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:a,to:b}),this}},{key:"addFakeParticipant",value:function(a){return fu(),fn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(e4({action:"add-fake-participant"},a)),this}},{key:"setShowNamesMode",value:function(a){return ft(this._callObjectMode,"setShowNamesMode()"),fu(),a&&"always"!==a&&"never"!==a?console.error('setShowNamesMode argument should be "always", "never", or false'):this.sendMessageToCallMachine({action:"set-show-names",mode:a}),this}},{key:"setShowLocalVideo",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ft(this._callObjectMode,"setShowLocalVideo()"),fu(),fn(this._callState,"setShowLocalVideo()"),"boolean"!=typeof a?console.error("setShowLocalVideo only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-local-video",show:a}),this._showLocalVideo=a),this}},{key:"showLocalVideo",value:function(){return ft(this._callObjectMode,"showLocalVideo()"),fu(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ft(this._callObjectMode,"setShowParticipantsBar()"),fu(),fn(this._callState,"setShowParticipantsBar()"),"boolean"!=typeof a?console.error("setShowParticipantsBar only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:a}),this._showParticipantsBar=a),this}},{key:"showParticipantsBar",value:function(){return ft(this._callObjectMode,"showParticipantsBar()"),fu(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return fu(),ft(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(a){return fu(),ft(this._callObjectMode,"setCustomIntegrations()"),fn(this._callState,"setCustomIntegrations()"),fF(a)&&(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:a}),this._customIntegrations=a),this}},{key:"startCustomIntegrations",value:function(a){var b=this;if(fu(),ft(this._callObjectMode,"startCustomIntegrations()"),fn(this._callState,"startCustomIntegrations()"),Array.isArray(a)&&a.some(function(a){return"string"!=typeof a})||!Array.isArray(a)&&"string"!=typeof a)return console.error("startCustomIntegrations() only accepts string | string[]"),this;var c="string"==typeof a?[a]:a,d=c.filter(function(a){return!(a in b._customIntegrations)});return d.length?console.error("Can't find custom integration(s): \"".concat(d.join(", "),'"')):this.sendMessageToCallMachine({action:"start-custom-integrations",ids:c}),this}},{key:"stopCustomIntegrations",value:function(a){var b=this;if(fu(),ft(this._callObjectMode,"stopCustomIntegrations()"),fn(this._callState,"stopCustomIntegrations()"),Array.isArray(a)&&a.some(function(a){return"string"!=typeof a})||!Array.isArray(a)&&"string"!=typeof a)return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var c="string"==typeof a?[a]:a,d=c.filter(function(a){return!(a in b._customIntegrations)});return d.length?console.error("Can't find custom integration(s): \"".concat(d.join(", "),'"')):this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:c}),this}},{key:"customTrayButtons",value:function(){return ft(this._callObjectMode,"customTrayButtons()"),fu(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(a){return ft(this._callObjectMode,"updateCustomTrayButtons()"),fu(),fn(this._callState,"updateCustomTrayButtons()"),fE(a)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:a}),this._customTrayButtons=a):console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(fg))),this}},{key:"theme",value:function(){return ft(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(a){var b=this;return ft(this._callObjectMode,"setTheme()"),new Promise(function(c,d){try{b.validateProperties({theme:a}),b.properties.theme=e4({},a),b.sendMessageToCallMachine({action:"set-theme",theme:b.properties.theme});try{b.emitDailyJSEvent({action:c_,theme:b.properties.theme})}catch(a){console.log("could not emit 'theme-updated'",a)}c(b.properties.theme)}catch(a){d(a)}})}},{key:"requestFullscreen",value:(g=v(function*(){if(fu(),this._iframe&&!document.fullscreenElement&&d3())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(a){console.log("could not make video call fullscreen",a)}}),function(){return g.apply(this,arguments)})},{key:"exitFullscreen",value:function(){fu(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(f=v(function*(){var a=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(b){a.sendMessageToCallMachine({action:"get-sidebar-view"},function(a){b(a.view)})})}),function(){return f.apply(this,arguments)})},{key:"setSidebarView",value:function(a){return this._callObjectMode?console.error("setSidebarView is not available in callObject mode"):this.sendMessageToCallMachine({action:"set-sidebar-view",view:a}),this}},{key:"room",value:(d=v(function*(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,c=void 0===b||b;return this._accessState.access===cT||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(b){a.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:c},function(a){delete a.action,delete a.callbackStamp,b(a)})})}),function(){return d.apply(this,arguments)})},{key:"geo",value:(c=v(function*(){try{var a=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield a.json()).geo}}catch(a){return console.error("geo lookup failed",a),{current:""}}}),function(){return c.apply(this,arguments)})},{key:"setNetworkTopology",value:(b=v(function*(a){var b=this;return fu(),fn(this._callState,"setNetworkTopology()"),new Promise(function(c,d){b.sendMessageToCallMachine({action:"set-network-topology",opts:a},function(a){a.error?d({error:a.error}):c({workerId:a.workerId})})})}),function(a){return b.apply(this,arguments)})},{key:"getNetworkTopology",value:(a=v(function*(){var a=this;return new Promise(function(b,c){a.needsLoad()&&b({topology:"none"}),a.sendMessageToCallMachine({action:"get-network-topology"},function(a){a.error?c({error:a.error}):b({topology:a.topology})})})}),function(){return a.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(a){if(fu(),"number"!=typeof a&&!0!==a&&!1!==a)throw Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(a));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:a})}},{key:"on",value:function(a,b){return J.prototype.on.call(this,a,b)}},{key:"once",value:function(a,b){return J.prototype.once.call(this,a,b)}},{key:"off",value:function(a,b){return J.prototype.off.call(this,a,b)}},{key:"validateProperties",value:function(a){var b,c;if(null!=a&&null!=(b=a.dailyConfig)&&b.userMediaAudioConstraints){d2()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var d,e,f=a.inputSettings||{};f.audio=(null==(d=a.inputSettings)?void 0:d.audio)||{},f.audio.settings=(null==(e=a.inputSettings)||null==(e=e.audio)?void 0:e.settings)||{},f.audio.settings=e4(e4({},f.audio.settings),a.dailyConfig.userMediaAudioConstraints),a.inputSettings=f,delete a.dailyConfig.userMediaAudioConstraints}if(null!=a&&null!=(c=a.dailyConfig)&&c.userMediaVideoConstraints){d2()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var g,h,i=a.inputSettings||{};i.video=(null==(g=a.inputSettings)?void 0:g.video)||{},i.video.settings=(null==(h=a.inputSettings)||null==(h=h.video)?void 0:h.settings)||{},i.video.settings=e4(e4({},i.video.settings),a.dailyConfig.userMediaVideoConstraints),a.inputSettings=i,delete a.dailyConfig.userMediaVideoConstraints}for(var j in a)if(fi[j]){if(fi[j].validate&&!fi[j].validate(a[j],this))throw Error("property '".concat(j,"': ").concat(fi[j].help))}else console.warn("Ignoring unrecognized property '".concat(j,"'")),delete a[j]}},{key:"assembleMeetingUrl",value:function(){var a,b,c=e4(e4({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!=(a=this.properties.dailyConfig)&&a.proxyUrl?encodeURIComponent(null==(b=this.properties.dailyConfig)?void 0:b.proxyUrl):void 0}),d=c.url.match(/\?/)?"&":"?";return c.url+d+Object.keys(fi).filter(function(a){return fi[a].queryString&&void 0!==c[a]}).map(function(a){return"".concat(fi[a].queryString,"=").concat(c[a])}).join("&")}},{key:"needsLoad",value:function(){return["new",cM,cQ,cR].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(a,b){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(a,b,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(a){this._messageChannel.forwardPackagedMessageToCallMachine(a,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(a){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(a,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(a){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(a)}},{key:"handleMessageFromCallMachine",value:function(a){switch(a.action){case cZ:this.sendMessageToCallMachine(e4({action:c$},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var b={action:dW,level:"log",code:1011,stats:{event:"bundle load",time:"no-op"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:"no-op"===this._bundleLoadTime,url:ab(this.properties.dailyConfig)}};this.sendMessageToCallMachine(b),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case c2:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(a);break;case c6:var c,d=e4({},a);delete d.internal,this._maxAppMessageSize=(null==(c=a.internal)?void 0:c._maxAppMessageSize)||4096,this._joinedCallback&&(this._joinedCallback(a.participants),this._joinedCallback=null),this.emitDailyJSEvent(d);break;case c8:case c9:if(this._callState===cQ)return;if(a.participant&&a.participant.session_id){var e=a.participant.local?"local":a.participant.session_id;if(this._callObjectMode){var f=this._callMachine().store;eH(a.participant,f),eI(a.participant,f),eJ(a.participant,this._participants[e],f)}try{this.maybeParticipantTracksStopped(this._participants[e],a.participant),this.maybeParticipantTracksStarted(this._participants[e],a.participant),this.maybeEventRecordingStopped(this._participants[e],a.participant),this.maybeEventRecordingStarted(this._participants[e],a.participant)}catch(a){console.error("track events error",a)}this.compareEqualForParticipantUpdateEvent(a.participant,this._participants[e])||(this._participants[e]=e4({},a.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(a))}break;case da:if(a.participant&&a.participant.session_id){var g=this._participants[a.participant.session_id];g&&this.maybeParticipantTracksStopped(g,null),delete this._participants[a.participant.session_id],this.emitDailyJSEvent(a)}break;case db:M(this._participantCounts,a.participantCounts)||(this._participantCounts=a.participantCounts,this.emitDailyJSEvent(a));break;case dc:var h={access:a.access};a.awaitingAccess&&(h.awaitingAccess=a.awaitingAccess),M(this._accessState,h)||(this._accessState=h,this.emitDailyJSEvent(a));break;case dd:if(a.meetingSession){this._meetingSessionSummary=a.meetingSession,this.emitDailyJSEvent(a);var i=e4(e4({},a),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(i)}break;case dS:this._iframe&&!a.preserveIframe&&(this._iframe.src=""),this._updateCallState(cR),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(a.errorMsg),this._loadedCallback=null),a.preserveIframe;var k,l=j(a,e2);null!=l&&null!=(k=l.error)&&k.details&&(l.error.details=JSON.parse(l.error.details)),this._maybeSendToSentry(a),this._joinedCallback&&(this._joinedCallback(null,l),this._joinedCallback=null),this.emitDailyJSEvent(l);break;case c7:this._callState!==cR&&this._updateCallState(cQ),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(a);break;case"selected-devices-updated":a.devices&&this.emitDailyJSEvent(a);break;case dE:var m=a.state,n=a.threshold,o=a.quality,p=m.state,q=m.reasons;p===this._network.networkState&&M(q,this._network.networkStateReasons)&&n===this._network.threshold&&o===this._network.quality||(this._network.networkState=p,this._network.networkStateReasons=q,this._network.quality=o,this._network.threshold=n,a.networkState=p,q.length&&(a.networkStateReasons=q),delete a.state,this.emitDailyJSEvent(a));break;case dG:a&&a.cpuLoadState&&this.emitDailyJSEvent(a);break;case dH:a&&void 0!==a.faceCounts&&this.emitDailyJSEvent(a);break;case dC:var r=a.activeSpeaker;this._activeSpeaker.peerId!==r.peerId&&(this._activeSpeaker.peerId=r.peerId,this.emitDailyJSEvent({action:a.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var s=a.show;this._showLocalVideo=s,this.emitDailyJSEvent({action:a.action,show:s});break;case dD:var t=a.enabled;this._activeSpeakerMode!==t&&(this._activeSpeakerMode=t,this.emitDailyJSEvent({action:a.action,enabled:this._activeSpeakerMode}));break;case df:case dg:case dh:this._waitingParticipants=a.allWaitingParticipants,this.emitDailyJSEvent({action:a.action,participant:a.participant});break;case dP:M(this._receiveSettings,a.receiveSettings)||(this._receiveSettings=a.receiveSettings,this.emitDailyJSEvent({action:a.action,receiveSettings:a.receiveSettings}));break;case dQ:this._maybeUpdateInputSettings(a.inputSettings);break;case"send-settings-updated":M(this._sendSettings,a.sendSettings)||(this._sendSettings=a.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:a.action,sendSettings:a.sendSettings}));break;case"local-audio-level":this._localAudioLevel=a.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=a.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case dw:var u=a.session_id;this._rmpPlayerState[u]=a.playerState,this.emitDailyJSEvent(a);break;case dy:delete this._rmpPlayerState[a.session_id],this.emitDailyJSEvent(a);break;case dx:var v=a.session_id,w=this._rmpPlayerState[v];w&&this.compareEqualForRMPUpdateEvent(w,a.remoteMediaPlayerState)||(this._rmpPlayerState[v]=a.remoteMediaPlayerState,this.emitDailyJSEvent(a));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(a);break;case de:var x=this._meetingSessionState.topology!==(a.meetingSessionState&&a.meetingSessionState.topology);this._meetingSessionState=fJ(a.meetingSessionState,this._callObjectMode),(this._callObjectMode||x)&&this.emitDailyJSEvent(a);break;case dz:this._isScreenSharing=!0,this.emitDailyJSEvent(a);break;case dA:case dB:this._isScreenSharing=!1,this.emitDailyJSEvent(a);break;case dn:case dp:case dq:case dr:case ds:case dk:case dl:case dm:case c3:case c4:case du:case dv:case"test-completed":case dF:case dt:case dK:case dL:case dM:case dN:case dR:case dO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(a);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(a,b){var c="record";a&&(b.local||!1!==b[c]||a[c]===b[c]||this.emitDailyJSEvent({action:dp}))}},{key:"maybeEventRecordingStarted",value:function(a,b){var c="record";a&&(b.local||!0!==b[c]||a[c]===b[c]||this.emitDailyJSEvent({action:dn}))}},{key:"_trackStatePlayable",value:function(a){return!(!a||a.state!==cS)}},{key:"_trackChanged",value:function(a,b){return(null==a?void 0:a.id)!==(null==b?void 0:b.id)}},{key:"maybeEventTrackStopped",value:function(a,b,c){var d,e,f=null!=(d=null==b?void 0:b.tracks[a])?d:null,g=null!=(e=null==c?void 0:c.tracks[a])?e:null,h=null==f?void 0:f.track;if(h){var i=this._trackStatePlayable(f),j=this._trackStatePlayable(g),k=this._trackChanged(h,null==g?void 0:g.track);i&&(j&&!k||this.emitDailyJSEvent({action:dj,track:h,participant:null!=c?c:b,type:a}))}}},{key:"maybeEventTrackStarted",value:function(a,b,c){var d,e,f=null!=(d=null==b?void 0:b.tracks[a])?d:null,g=null!=(e=null==c?void 0:c.tracks[a])?e:null,h=null==g?void 0:g.track;if(h){var i=this._trackStatePlayable(f),j=this._trackStatePlayable(g),k=this._trackChanged(null==f?void 0:f.track,h);j&&(i&&!k||this.emitDailyJSEvent({action:di,track:h,participant:c,type:a}))}}},{key:"maybeParticipantTracksStopped",value:function(a,b){if(a)for(var c in a.tracks)this.maybeEventTrackStopped(c,a,b)}},{key:"maybeParticipantTracksStarted",value:function(a,b){if(b)for(var c in b.tracks)this.maybeEventTrackStarted(c,a,b)}},{key:"compareEqualForRMPUpdateEvent",value:function(a,b){var c,d;return a.state===b.state&&(null==(c=a.settings)?void 0:c.volume)===(null==(d=b.settings)?void 0:d.volume)}},{key:"emitDailyJSEvent",value:function(a){try{a.callClientId=this.callClientId,this.emit(a.action,a)}catch(b){console.log("could not emit",a,b)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(a,b){return!!M(a,b)&&(!a.videoTrack||!b.videoTrack||a.videoTrack.id===b.videoTrack.id&&a.videoTrack.muted===b.videoTrack.muted&&a.videoTrack.enabled===b.videoTrack.enabled)&&(!a.audioTrack||!b.audioTrack||a.audioTrack.id===b.audioTrack.id&&a.audioTrack.muted===b.audioTrack.muted&&a.audioTrack.enabled===b.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return d2()?"undefined"==typeof DailyNativeUtils?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(a){this._updateCallState(this._callState,a)}},{key:"_updateCallState",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(a!==this._callState||b!==this._isPreparingToJoin){var c=this._callState,d=this._isPreparingToJoin;this._callState=a,this._isPreparingToJoin=b;var e=this._callState===cP;this.updateShowAndroidOngoingMeetingNotification(e);var f=fo(c,d),g=fo(this._callState,this._isPreparingToJoin);f!==g&&(this.updateKeepDeviceAwake(g),this.updateDeviceAudioMode(g),this.updateNoOpRecordingEnsuringBackgroundContinuity(g))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=fb,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:cT},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=fJ(fa,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=4096,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(a){d2()&&this.nativeUtils().setKeepDeviceAwake(a,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(a){if(d2()&&!this.disableReactNativeAutoDeviceManagement("audio")){var b=a?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(b)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(a){if(d2()&&this.nativeUtils().setShowOngoingMeetingNotification){var b,c,d,e;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var f=this.properties.reactNativeConfig.androidInCallNotification;b=f.title,c=f.subtitle,d=f.iconName,e=f.disableForCustomOverride}e&&(a=!1),this.nativeUtils().setShowOngoingMeetingNotification(a,b,c,d,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(a){d2()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(a)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var a;if(d2()){var b=null==(a=this._callMachine())||null==(a=a.store)?void 0:a.getState();for(var c in null==b?void 0:b.streams){var d=b.streams[c];d&&d.pendingTrack&&"audio"===d.pendingTrack.kind&&(d.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(a){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[a]}},{key:"absoluteUrl",value:function(a){if(void 0!==a){var b=document.createElement("a");return b.href=a,b.href}}},{key:"sayHello",value:function(){var a="hello, world.";return console.log(a),a}},{key:"_logUseAfterDestroy",value:function(){var a=Object.values(e8)[0];if(this.needsLoad())if(a&&!a.needsLoad()){var b={action:dW,level:"error",code:this.strictMode?9995:9997};a.sendMessageToCallMachine(b)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var c={action:dW,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(c,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var a=0,b=Object.values(e8);a<b.length;a++){var c=b[a];c._callMachineInitialized?(c.sendMessageToCallMachine({action:dW,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),c._delayDuplicateInstanceLog=!1):c._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(a){let b,c;if(!(null!=(h=a.error)&&h.type&&(![cY,cX,cW].includes(a.error.type)||a.error.type===cW&&a.error.msg.includes("deleted")))){var d=null!=(i=this.properties)&&i.url?new URL(this.properties.url):void 0,f="production";d&&d.host.includes(".staging.daily")&&(f="staging");var g,h,i,j,k,l,m,n,o,p,q=new cn({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:cw,stackParser:cD,integrations:(g={},c=[((a={})=>({name:"InboundFilters",processEvent:(b,c,d)=>!function(a,b){var c;return b.ignoreInternal&&function(a){try{return"SentryError"===a.exception.values[0].type}catch(a){}return!1}(a)?(ad&&al.warn(`Event dropped due to being internal Sentry Error.
Event: ${a4(a)}`),!0):(c=b.ignoreErrors,!a.type&&c&&c.length&&(function(a){let b,c=[];a.message&&c.push(a.message);try{b=a.exception.values[a.exception.values.length-1]}catch(a){}return b&&b.value&&(c.push(b.value),b.type&&c.push(`${b.type}: ${b.value}`)),c})(a).some(a=>aT(a,c)))?(ad&&al.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${a4(a)}`),!0):a.type||!a.exception||!a.exception.values||0===a.exception.values.length||a.message||a.exception.values.some(a=>a.stacktrace||a.type&&"Error"!==a.type||a.value)?!function(a,b){if("transaction"!==a.type||!b||!b.length)return!1;let c=a.transaction;return!!c&&aT(c,b)}(a,b.ignoreTransactions)?!function(a,b){if(!b||!b.length)return!1;let c=b1(a);return!!c&&aT(c,b)}(a,b.denyUrls)?!function(a,b){if(!b||!b.length)return!0;let c=b1(a);return!c||aT(c,b)}(a,b.allowUrls)&&(ad&&al.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${a4(a)}.
Url: ${b1(a)}`),!0):(ad&&al.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${a4(a)}.
Url: ${b1(a)}`),!0):(ad&&al.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${a4(a)}`),!0):(ad&&al.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${a4(a)}`),!0)}(b,function(a={},b={}){return{allowUrls:[...a.allowUrls||[],...b.allowUrls||[]],denyUrls:[...a.denyUrls||[],...b.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...b.ignoreErrors||[],...a.disableErrorDefaults?[]:b0],ignoreTransactions:[...a.ignoreTransactions||[],...b.ignoreTransactions||[]],ignoreInternal:void 0===a.ignoreInternal||a.ignoreInternal}}(a,d.getOptions()))?b:null}))(),{name:"FunctionToString",setupOnce(){e=Function.prototype.toString;try{Function.prototype.toString=function(...a){let b=aX(this),c=b_.has(bq())&&void 0!==b?b:this;return e.apply(c,a)}}catch(a){}},setup(a){b_.set(a,!0)}},((a={})=>{let b={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...a};return{name:"BrowserApiErrors",setupOnce(){b.setTimeout&&aU(af,"setTimeout",cG),b.setInterval&&aU(af,"setInterval",cG),b.requestAnimationFrame&&aU(af,"requestAnimationFrame",cH),b.XMLHttpRequest&&"XMLHttpRequest"in af&&aU(XMLHttpRequest.prototype,"send",cI);let a=b.eventTarget;a&&(Array.isArray(a)?a:cF).forEach(cJ)}}})(),((a={})=>{let b={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...a};return{name:"Breadcrumbs",setup(a){var c;let d,e;b.console&&(au(d="console",function(b){var c;if(bq()!==a)return;let d={category:"console",data:{arguments:b.args,logger:"console"},level:"warn"===(c=b.level)?"warning":["fatal","error","warning","log","info","debug"].includes(c)?c:"log",message:aS(b.args," ")};if("assert"===b.level){if(!1!==b.args[0])return;d.message=`Assertion failed: ${aS(b.args.slice(1)," ")||"console.assert"}`,d.data.arguments=b.args.slice(1)}b$(d,{input:b.args,level:b.level})}),av(d,b5)),b.dom&&(c=b.dom,au("dom",function(b){if(bq()!==a)return;let d,e,f="object"==typeof c?c.serializeAttribute:void 0,g="object"==typeof c&&"number"==typeof c.maxStringLength?c.maxStringLength:void 0;g&&g>1024&&(cf&&al.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${g} was configured. Sentry will use 1024 instead.`),g=1024),"string"==typeof f&&(f=[f]);try{let a=b.event,c=a&&a.target?a.target:a;d=aQ(c,{keyAttrs:f,maxStringLength:g}),e=function(a){if(!af.HTMLElement)return null;let b=a;for(let a=0;a<5&&b;a++){if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}(c)}catch(a){d="<unknown>"}if(0===d.length)return;let h={category:`ui.${b.name}`,message:d};e&&(h.data={"ui.component_name":e}),b$(h,{event:b.event,name:b.name,global:b.global})}),av("dom",cp)),b.xhr&&(au("xhr",function(b){if(bq()!==a)return;let{startTimestamp:c,endTimestamp:d}=b,e=b.xhr[cu];if(!c||!d||!e)return;let{method:f,url:g,status_code:h,body:i}=e,j={xhr:b.xhr,input:i,startTimestamp:c,endTimestamp:d};b$({category:"xhr",data:{method:f,url:g,status_code:h},type:"http",level:b9(h)},j)}),av("xhr",cv)),b.fetch&&(au(e="fetch",function(b){if(bq()!==a)return;let{startTimestamp:c,endTimestamp:d}=b;if(d&&(!b.fetchData.url.match(/sentry_key/)||"POST"!==b.fetchData.method))if(b.error)b$({category:"fetch",data:b.fetchData,level:"error",type:"http"},{data:b.error,input:b.args,startTimestamp:c,endTimestamp:d});else{let a=b.response,e={...b.fetchData,status_code:a&&a.status},f={input:b.args,response:a,startTimestamp:c,endTimestamp:d};b$({category:"fetch",data:e,type:"http",level:b9(e.status_code)},f)}}),av(e,()=>(function(a,b=!1){(!b||function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in af))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(a){return!1}}())return!1;if(ca(af.fetch))return!0;let a=!1,b=af.document;if(b&&"function"==typeof b.createElement)try{let c=b.createElement("iframe");c.hidden=!0,b.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(a=ca(c.contentWindow.fetch)),b.head.removeChild(c)}catch(a){ah&&al.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return a}())&&aU(af,"fetch",function(b){return function(...c){let d=Error(),{method:e,url:f}=function(a){if(0===a.length)return{method:"GET",url:""};if(2===a.length){let[b,c]=a;return{url:cc(b),method:cb(c,"method")?String(c.method).toUpperCase():"GET"}}let b=a[0];return{url:cc(b),method:cb(b,"method")?String(b.method).toUpperCase():"GET"}}(c),g={args:c,fetchData:{method:e,url:f},startTimestamp:1e3*a1(),virtualError:d};return a||aw("fetch",{...g}),b.apply(af,c).then(async a=>(aw("fetch",{...g,endTimestamp:1e3*a1(),response:a}),a),a=>{throw aw("fetch",{...g,endTimestamp:1e3*a1(),error:a}),aE(a)&&void 0===a.stack&&(a.stack=d.stack,aV(a,"framesToPop",1)),a})}})})(void 0,void 0))),b.history&&cr(function(b){if(bq()!==a)return;let c=b.from,d=b.to,e=b4(af.location.href),f=c?b4(c):void 0,g=b4(d);f&&f.path||(f=e),e.protocol===g.protocol&&e.host===g.host&&(d=g.relative),e.protocol===f.protocol&&e.host===f.host&&(c=f.relative),b$({category:"navigation",data:{from:c,to:d}})}),b.sentry&&a.on("beforeSendEvent",function(b){bq()===a&&b$({category:"sentry."+("transaction"===b.type?"transaction":"event"),event_id:b.event_id,level:b.level,message:a4(b)},{event:b})})}}})(),((a={})=>{let b={onerror:!0,onunhandledrejection:!0,...a};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){let c,d;b.onerror&&(au(c="error",b=>{var c;let d,e,f,g,h,i,{stackParser:j,attachStacktrace:k}=cL();if(bq()!==a||cd>0)return;let{msg:l,url:m,line:n,column:o,error:p}=b,q=(c=cl(j,p||l,void 0,k,!1),h=(g=(f=(e=(d=c.exception=c.exception||{}).values=d.values||[])[0]=e[0]||{}).stacktrace=f.stacktrace||{}).frames=g.frames||[],i=aI(m)&&m.length>0?m:function(){try{return af.document.location.href}catch(a){return""}}(),0===h.length&&h.push({colno:o,filename:i,function:"?",in_app:!0,lineno:n}),c);q.level="error",bM(q,{originalException:p,mechanism:{handled:!1,type:"onerror"}})}),av(c,ay),cK("onerror")),b.onunhandledrejection&&(au(d="unhandledrejection",b=>{let{stackParser:c,attachStacktrace:d}=cL();if(bq()!==a||cd>0)return;let e=function(a){if(aK(a))return a;try{if("reason"in a)return a.reason;if("detail"in a&&"reason"in a.detail)return a.detail.reason}catch(a){}return a}(b),f=aK(e)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}:cl(c,e,void 0,d,!0);f.level="error",bM(f,{originalException:e,mechanism:{handled:!1,type:"onunhandledrejection"}})}),av(d,aA),cK("onunhandledrejection"))}}})(),((a={})=>{let b=a.limit||5,c=a.key||"cause";return{name:"LinkedErrors",preprocessEvent(a,d,e){let f=e.getOptions();!function(a,b,c=250,d,e,f,g){if(!(f.exception&&f.exception.values&&g&&aO(g.originalException,Error)))return;let h=f.exception.values.length>0?f.exception.values[f.exception.values.length-1]:void 0;h&&(f.exception.values=(function a(b,c,d,e,f,g,h,i){if(g.length>=d+1)return g;let j=[...g];if(aO(e[f],Error)){b2(h,i);let g=b(c,e[f]),k=j.length;b3(g,f,k,i),j=a(b,c,d,e[f],f,[g,...j],g,k)}return Array.isArray(e.errors)&&e.errors.forEach((e,g)=>{if(aO(e,Error)){b2(h,i);let k=b(c,e),l=j.length;b3(k,`errors[${g}]`,l,i),j=a(b,c,d,e,f,[k,...j],k,l)}}),j})(a,b,e,g.originalException,d,f.exception.values,h,0).map(a=>(a.value&&(a.value=aR(a.value,c)),a)))}(cg,f.stackParser,f.maxValueLength,c,b,a,d)}}})(),{name:"Dedupe",processEvent(a){if(a.type)return a;try{if(function(a,b){let c,d,e,f;return!!b&&(c=a.message,d=b.message,!!((c||d)&&(!c||d)&&(c||!d)&&c===d&&b7(a,b)&&b6(a,b))&&!!1||(e=b8(b),f=b8(a),!!(e&&f&&e.type===f.type&&e.value===f.value&&b7(a,b)&&b6(a,b))))}(a,b))return ad&&al.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){}return b=a}},{name:"HttpContext",preprocessEvent(a){if(!af.navigator&&!af.location&&!af.document)return;let b=a.request&&a.request.url||af.location&&af.location.href,{referrer:c}=af.document||{},{userAgent:d}=af.navigator||{},e={...a.request&&a.request.headers,...c&&{Referer:c},...d&&{"User-Agent":d}},f={...a.request,...b&&{url:b},headers:e};a.request=f}}],!1!==g.autoSessionTracking&&c.push({name:"BrowserSession",setupOnce(){void 0!==af.document?(bN({ignoreDuration:!0}),bQ(),cr(({from:a,to:b})=>{void 0!==a&&a!==b&&(bN({ignoreDuration:!0}),bQ())})):cf&&al.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),c).filter(function(a){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(a.name)}),environment:f}),r=new bh;if(r.setClient(q),q.init(),this.session_id&&r.setExtra("sessionId",this.session_id),this.properties){var s=e4({},this.properties);s.userName=s.userName?"[Filtered]":void 0,s.userData=s.userData?"[Filtered]":void 0,s.token=s.token?"[Filtered]":void 0,r.setExtra("properties",s)}if(d){var t=d.searchParams.get("domain");if(!t){var u=d.host.match(/(.*?)\./);t=u&&u[1]||""}t&&r.setTag("domain",t)}a.error&&(r.setTag("fatalErrorType",a.error.type),r.setExtra("errorDetails",a.error.details),(null==(l=a.error.details)?void 0:l.uri)&&r.setTag("serverAddress",a.error.details.uri),(null==(m=a.error.details)?void 0:m.workerGroup)&&r.setTag("workerGroup",a.error.details.workerGroup),(null==(n=a.error.details)?void 0:n.geoGroup)&&r.setTag("geoGroup",a.error.details.geoGroup),(null==(o=a.error.details)?void 0:o.on)&&r.setTag("connectionAttempt",a.error.details.on),null!=(p=a.error.details)&&p.bundleUrl&&(r.setTag("bundleUrl",a.error.details.bundleUrl),r.setTag("bundleError",a.error.details.sourceError.type))),r.setTags({callMode:this._callObjectMode?d2()?"reactNative":null!=(j=this.properties)&&null!=(j=j.dailyConfig)&&null!=(j=j.callMode)&&j.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:_.version()});var v=(null==(k=a.error)?void 0:k.msg)||a.errorMsg;r.captureException(Error(v))}}},{key:"_callMachine",value:function(){var a;return null==(a=window._daily)||null==(a=a.instances)||null==(a=a[this.callClientId])?void 0:a.callMachine}},{key:"_maybeUpdateInputSettings",value:function(a){if(!M(this._inputSettings,a)){var b=this._getInputSettings();this._inputSettings=a;var c=this._getInputSettings();M(b,c)||this.emitDailyJSEvent({action:dQ,inputSettings:c})}}}],[{key:"supportedBrowser",value:function(){if(d2())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var a=Z.getParser(d1());return{supported:!!d8(),mobile:"mobile"===a.getPlatformType(),name:a.getBrowserName(),version:a.getBrowserVersion(),supportsFullscreen:!!d3(),supportsScreenShare:!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&(function(a,b){if(!a||!b)return!0;switch(a){case"Chrome":return b.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&(13!==b.major||0!==b.minor||0!==b.point);case"Firefox":return b.major>=67}return!0}(eb(),ec())||d2())),supportsSfu:!!d8(),supportsVideoProcessing:d6(),supportsAudioProcessing:d7()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.layout="none",new _(null,a)}},{key:"wrap",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fu(),!a||!a.contentWindow||"string"!=typeof a.src)throw Error("DailyIframe::Wrap needs an iframe-like first argument");return b.layout||(b.customLayout?b.layout="custom-v1":b.layout="browser"),new _(a,b)}},{key:"createFrame",value:function(a,b){fu(),a&&b?(c=a,d=b):a&&a.append?(c=a,d={}):(c=document.body,d=a||{});var c,d,e=d.iframeStyle;e||(e=c===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var f=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?f.allow="microphone, camera":f.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",f.style.visibility="hidden",c.appendChild(f),f.style.visibility=null,Object.keys(e).forEach(function(a){return f.style[a]=e[a]}),d.layout||(d.customLayout?d.layout="custom-v1":d.layout="browser");try{return new _(f,d)}catch(a){throw c.removeChild(f),a}}},{key:"createTransparentFrame",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fu();var b=document.createElement("iframe");return b.allow="microphone; camera; autoplay",b.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ",document.body.appendChild(b),a.layout||(a.layout="custom-v1"),_.wrap(b,a)}},{key:"getCallInstance",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return a?e8[a]:Object.values(e8)[0]}}])}();function fl(a){if(a.extension){if("string"!=typeof a.extension)throw Error("Error starting dial out: extension must be a string");if(a.extension.length>20)throw Error("Error starting dial out: extension length must be less than or equal to 20")}if(a.waitBeforeExtensionDialSec){if("number"!=typeof a.waitBeforeExtensionDialSec)throw Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(a.waitBeforeExtensionDialSec>60)throw Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!a.extension)throw Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function fm(a,b){var c={};for(var d in a)if(a[d]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",d),c[d]=dX;else if("dailyConfig"===d){if(a[d].modifyLocalSdpHook){var e=window._daily.instances[b].customCallbacks||{};e.modifyLocalSdpHook=a[d].modifyLocalSdpHook,window._daily.instances[b].customCallbacks=e,delete a[d].modifyLocalSdpHook}if(a[d].modifyRemoteSdpHook){var f=window._daily.instances[b].customCallbacks||{};f.modifyRemoteSdpHook=a[d].modifyRemoteSdpHook,window._daily.instances[b].customCallbacks=f,delete a[d].modifyRemoteSdpHook}c[d]=a[d]}else c[d]=a[d];return c}function fn(a){var b=arguments.length>2?arguments[2]:void 0;if(a!==cP){var c="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," only supported after join.");throw b&&(c+=" ".concat(b)),console.error(c),Error(c)}}function fo(a,b){return[cO,cP].includes(a)||b}function fp(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"This daily-js method",d=arguments.length>3?arguments[3]:void 0;if(fo(a,b)){var e="".concat(c," not supported after joining a meeting.");throw d&&(e+=" ".concat(d)),console.error(e),Error(e)}}function fq(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method",c=arguments.length>2?arguments[2]:void 0;if(!a){var d="".concat(b,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw c&&(d+=" ".concat(c)),console.error(d),Error(d)}}function fr(a){if(a){var b="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(b),Error(b)}}function fs(a){if(!a){var b="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(b),Error(b)}}function ft(a){if(a){var b="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(b),Error(b)}}function fu(){if(d2())throw Error("This daily-js method is not currently supported in React Native")}function fv(){if(!d2())throw Error("This daily-js method is only supported in React Native")}function fw(a){var b;if(void 0===a)return!0;if("string"==typeof a)b=a;else try{b=JSON.stringify(a),M(JSON.parse(b),a)||console.warn("The userData provided will be modified when serialized.")}catch(a){throw Error("userData must be serializable to JSON: ".concat(a))}if(b.length>4096)throw Error("userData is too large (".concat(b.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function fx(a,b){for(var c=b.allowAllParticipantsKey,d=function(a){return!!(void 0===a.layer||Number.isInteger(a.layer)&&a.layer>=0||"inherit"===a.layer)},e=0,f=Object.entries(a);e<f.length;e++){var g=x(f[e],2),h=g[0],i=g[1];if(!function(a){var b=["local"];return c||b.push("*"),a&&!b.includes(a)}(h)||!(i&&!(i.video&&!d(i.video))&&!(i.screenVideo&&!d(i.screenVideo))))return!1}return!0}function fy(a){if("object"!==l(a))return!1;for(var b=0,c=Object.entries(a);b<c.length;b++){var d=x(c[b],2),e=d[0],f=d[1];switch(e){case"video":if("object"!==l(f))return!1;for(var g=0,h=Object.entries(f);g<h.length;g++){var i=x(h[g],2),j=i[0],k=i[1];switch(j){case"processor":if(!function(a){if(d2())return console.warn("Video processing is not yet supported in React Native"),!1;var b,c=["type","config"];return!!a&&"object"===l(a)&&!!("string"==typeof(b=a.type)&&(Object.values(dY).includes(b)||(console.error("inputSettings video processor type invalid"),0)))&&(!a.config||"object"===l(a.config)&&!!function(a,b){var c,d=Object.keys(b);if(0===d.length)return!0;var e="invalid object in inputSettings -> video -> processor -> config";switch(a){case dY.BGBLUR:return d.length>1||"strength"!==d[0]?(console.error(e),!1):!("number"!=typeof b.strength||b.strength<=0||b.strength>1||isNaN(b.strength))||(console.error("".concat(e,"; expected: {0 < strength <= 1}, got: ").concat(b.strength)),!1);case dY.BGIMAGE:return!(void 0!==b.source&&!("default"===b.source?(b.type="default",!0):b.source instanceof ArrayBuffer||(ac(b.source)?(b.type="url",!!function(a){var b=new URL(a),c=b.pathname;if("data:"===b.protocol)try{var d=c.substring(c.indexOf(":")+1,c.indexOf(";")).split("/")[1];return d_.includes(d)}catch(a){return console.error("failed to deduce blob content type",a),!1}var e=c.split(".").at(-1).toLowerCase().trim();return d_.includes(e)}(b.source)||(console.error("invalid image type; supported types: [".concat(d_.join(", "),"]")),!1)):isNaN(c=Number(b.source))||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(b.type="daily-preselect",!0))));default:return!0}}(a.type,a.config))&&(Object.keys(a).filter(function(a){return!c.includes(a)}).forEach(function(b){console.warn("invalid key inputSettings -> video -> processor : ".concat(b)),delete a[b]}),!0)}(k))return!1;break;case"settings":if(!fA(k))return!1;break;default:return!1}}break;case"audio":if("object"!==l(f))return!1;for(var m=0,n=Object.entries(f);m<n.length;m++){var o=x(n[m],2),p=o[0],q=o[1];switch(p){case"processor":if(!function(a){if(d2())return console.warn("Video processing is not yet supported in React Native"),!1;var b,c=["type"];return!!a&&"object"===l(a)&&(Object.keys(a).filter(function(a){return!c.includes(a)}).forEach(function(b){console.warn("invalid key inputSettings -> audio -> processor : ".concat(b)),delete a[b]}),!!("string"==typeof(b=a.type)&&(Object.values(dZ).includes(b)||(console.error("inputSettings audio processor type invalid"),0))))}(q))return!1;break;case"settings":if(!fA(q))return!1;break;default:return!1}}break;default:return!1}}return!0}function fz(a,b,c){var d,e=[];a.video&&a.video.processor&&(d6(null!=(d=null==b?void 0:b.useLegacyVideoProcessor)&&d)||(a.video.settings?delete a.video.processor:delete a.video,e.push("video"))),a.audio&&a.audio.processor&&(d7()||(a.audio.settings?delete a.audio.processor:delete a.audio,e.push("audio"))),e.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(e.join(", "))),a.audio&&a.audio.settings&&(a.audio.settings.customTrack?(c.audioTrack=a.audio.settings.customTrack,a.audio.settings={customTrack:dX}):delete c.audioTrack),a.video&&a.video.settings&&(a.video.settings.customTrack?(c.videoTrack=a.video.settings.customTrack,a.video.settings={customTrack:dX}):delete c.videoTrack)}function fA(a){return"object"===l(a)&&(!a.customTrack||a.customTrack instanceof MediaStreamTrack)}function fB(){var a=Object.values(dY).join(" | "),b=Object.values(dZ).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(a," ], config?: {} } }, audio?: { processor: {type: [ ").concat(b," ] } } }")}function fC(a){var b=a.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(cV).concat(b?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function fD(){return"customIntegrations should be an object of type ".concat(JSON.stringify(fh),".")}function fE(a){if(a&&"object"!==l(a)||Array.isArray(a))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(fg),".")),!1;if(a)for(var b=0,c=Object.entries(a);b<c.length;b++)for(var d=x(c[b],1)[0],e=0,f=Object.entries(a[d]);e<f.length;e++){var g=x(f[e],2),h=g[0],i=g[1],j=fg.id[h];if(!j)return console.error("customTrayButton does not support key ".concat(h)),!1;switch(h){case"iconPath":case"iconPathDarkMode":if(!ac(i))return console.error("customTrayButton ".concat(h," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(i))return console.error("customTrayButton ".concat(h," should be ").concat(j,". Got: ").concat(i)),!1;break;default:if(l(i)!==j)return console.error("customTrayButton ".concat(h," should be a ").concat(j,".")),!1}}return!0}function fF(a){if(!a||a&&"object"!==l(a)||Array.isArray(a))return console.error(fD()),!1;for(var b=function(a){return"".concat(a," should be ").concat(fh.id[a])},c=function(a,b){return console.error("customIntegration ".concat(a,": ").concat(b))},d=0,e=Object.entries(a);d<e.length;d++){var f=x(e[d],1)[0];if(!("label"in a[f]))return c(f,"label is required"),!1;if(!("location"in a[f]))return c(f,"location is required"),!1;if(!("src"in a[f])&&!("srcdoc"in a[f]))return c(f,"src or srcdoc is required"),!1;for(var g=0,h=Object.entries(a[f]);g<h.length;g++){var i=x(h[g],2),j=i[0],k=i[1];switch(j){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if("string"!=typeof k)return c(f,b(j)),!1;break;case"iconURL":if(!ac(k))return c(f,"".concat(j," should be a url")),!1;break;case"src":if("srcdoc"in a[f])return c(f,"cannot have both src and srcdoc"),!1;if(!ac(k))return c(f,'src "'.concat(k,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in a[f])return c(f,"cannot have both src and srcdoc"),!1;if("string"!=typeof k)return c(f,b(j)),!1;break;case"location":if(!["main","sidebar"].includes(k))return c(f,b(j)),!1;break;case"controlledBy":if("*"!==k&&"owners"!==k&&(!Array.isArray(k)||k.some(function(a){return"string"!=typeof a})))return c(f,b(j)),!1;break;case"shared":if((!Array.isArray(k)||k.some(function(a){return"string"!=typeof a}))&&"owners"!==k&&"boolean"!=typeof k)return c(f,b(j)),!1;break;default:if(!fh.id[j])return console.error("customIntegration does not support key ".concat(j)),!1}}}return!0}function fG(a,b){var c=a.sessionId,d=a.toEndPoint,e=a.callerId,f=a.useSipRefer;if(!c||!d)throw Error("".concat(b,"() requires a sessionId and toEndPoint"));if("string"!=typeof c||"string"!=typeof d)throw Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(f&&!d.startsWith("sip:"))throw Error('"toEndPoint" must be a "sip" address');if(!d.startsWith("sip:")&&!d.startsWith("+"))throw Error("toEndPoint: ".concat(d,' must starts with either "sip:" or "+"'));if(e&&"string"!=typeof e)throw Error("callerId must be of type string");if(e&&!d.startsWith("+"))throw Error("callerId is only valid when transferring to a PSTN number")}function fH(a){if("object"!==l(a))throw Error('RemoteMediaPlayerSettings: must be "object" type');if(a.state&&!Object.values(d$).includes(a.state))throw Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(d$));if(a.volume){if("number"!=typeof a.volume)throw Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(a.volume<0||a.volume>2)throw Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function fI(a,b,c){return!("number"!=typeof a||a<b||a>c)}function fJ(a,b){return a&&!b&&delete a.data,a}a.s(["DAILY_ACCESS_LEVEL_FULL",()=>cU,"DAILY_ACCESS_LEVEL_LOBBY",()=>"lobby","DAILY_ACCESS_LEVEL_NONE",()=>"none","DAILY_ACCESS_UNKNOWN",()=>cT,"DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE",()=>"cam-mic-in-use","DAILY_CAMERA_ERROR_CAM_IN_USE",()=>"cam-in-use","DAILY_CAMERA_ERROR_CONSTRAINTS",()=>"constraints","DAILY_CAMERA_ERROR_MIC_IN_USE",()=>"mic-in-use","DAILY_CAMERA_ERROR_NOT_FOUND",()=>"not-found","DAILY_CAMERA_ERROR_PERMISSIONS",()=>"permissions","DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES",()=>"undefined-mediadevices","DAILY_CAMERA_ERROR_UNKNOWN",()=>"unknown","DAILY_EVENT_ACCESS_STATE_UPDATED",()=>dc,"DAILY_EVENT_ACTIVE_SPEAKER_CHANGE",()=>dC,"DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE",()=>dD,"DAILY_EVENT_APP_MSG",()=>du,"DAILY_EVENT_CAMERA_ERROR",()=>c4,"DAILY_EVENT_CPU_LOAD_CHANGE",()=>dG,"DAILY_EVENT_ERROR",()=>dS,"DAILY_EVENT_EXIT_FULLSCREEN",()=>dJ,"DAILY_EVENT_FACE_COUNTS_UPDATED",()=>dH,"DAILY_EVENT_FULLSCREEN",()=>dI,"DAILY_EVENT_IFRAME_LAUNCH_CONFIG",()=>c$,"DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG",()=>cZ,"DAILY_EVENT_INPUT_SETTINGS_UPDATED",()=>dQ,"DAILY_EVENT_JOINED_MEETING",()=>c6,"DAILY_EVENT_JOINING_MEETING",()=>c5,"DAILY_EVENT_LANG_UPDATED",()=>dO,"DAILY_EVENT_LEFT_MEETING",()=>c7,"DAILY_EVENT_LIVE_STREAMING_ERROR",()=>dN,"DAILY_EVENT_LIVE_STREAMING_STARTED",()=>dK,"DAILY_EVENT_LIVE_STREAMING_STOPPED",()=>dM,"DAILY_EVENT_LIVE_STREAMING_UPDATED",()=>dL,"DAILY_EVENT_LOADED",()=>c2,"DAILY_EVENT_LOADING",()=>c0,"DAILY_EVENT_LOAD_ATTEMPT_FAILED",()=>c1,"DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED",()=>dB,"DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED",()=>dz,"DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED",()=>dA,"DAILY_EVENT_MEETING_SESSION_DATA_ERROR",()=>"meeting-session-data-error","DAILY_EVENT_MEETING_SESSION_STATE_UPDATED",()=>de,"DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED",()=>dd,"DAILY_EVENT_NETWORK_CONNECTION",()=>dF,"DAILY_EVENT_NETWORK_QUALITY_CHANGE",()=>dE,"DAILY_EVENT_NONFATAL_ERROR",()=>dR,"DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED",()=>db,"DAILY_EVENT_PARTICIPANT_JOINED",()=>c8,"DAILY_EVENT_PARTICIPANT_LEFT",()=>da,"DAILY_EVENT_PARTICIPANT_UPDATED",()=>c9,"DAILY_EVENT_RECEIVE_SETTINGS_UPDATED",()=>dP,"DAILY_EVENT_RECORDING_DATA",()=>dt,"DAILY_EVENT_RECORDING_ERROR",()=>dr,"DAILY_EVENT_RECORDING_STARTED",()=>dn,"DAILY_EVENT_RECORDING_STATS",()=>dq,"DAILY_EVENT_RECORDING_STOPPED",()=>dp,"DAILY_EVENT_RECORDING_UPLOAD_COMPLETED",()=>ds,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED",()=>dw,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED",()=>dy,"DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED",()=>dx,"DAILY_EVENT_STARTED_CAMERA",()=>c3,"DAILY_EVENT_THEME_UPDATED",()=>c_,"DAILY_EVENT_TRACK_STARTED",()=>di,"DAILY_EVENT_TRACK_STOPPED",()=>dj,"DAILY_EVENT_TRANSCRIPTION_ERROR",()=>dm,"DAILY_EVENT_TRANSCRIPTION_MSG",()=>dv,"DAILY_EVENT_TRANSCRIPTION_STARTED",()=>dk,"DAILY_EVENT_TRANSCRIPTION_STOPPED",()=>dl,"DAILY_EVENT_WAITING_PARTICIPANT_ADDED",()=>df,"DAILY_EVENT_WAITING_PARTICIPANT_REMOVED",()=>dh,"DAILY_EVENT_WAITING_PARTICIPANT_UPDATED",()=>dg,"DAILY_FATAL_ERROR_CONNECTION",()=>cY,"DAILY_FATAL_ERROR_EJECTED",()=>"ejected","DAILY_FATAL_ERROR_EOL",()=>cX,"DAILY_FATAL_ERROR_EXP_ROOM",()=>"exp-room","DAILY_FATAL_ERROR_EXP_TOKEN",()=>"exp-token","DAILY_FATAL_ERROR_MEETING_FULL",()=>"meeting-full","DAILY_FATAL_ERROR_NBF_ROOM",()=>"nbf-room","DAILY_FATAL_ERROR_NBF_TOKEN",()=>"nbf-token","DAILY_FATAL_ERROR_NOT_ALLOWED",()=>"not-allowed","DAILY_FATAL_ERROR_NO_ROOM",()=>cW,"DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY",()=>"*","DAILY_RECEIVE_SETTINGS_BASE_KEY",()=>cV,"DAILY_STATE_ERROR",()=>cR,"DAILY_STATE_JOINED",()=>cP,"DAILY_STATE_JOINING",()=>cO,"DAILY_STATE_LEFT",()=>cQ,"DAILY_STATE_NEW",()=>"new","DAILY_TRACK_STATE_BLOCKED",()=>"blocked","DAILY_TRACK_STATE_INTERRUPTED",()=>"interrupted","DAILY_TRACK_STATE_LOADING",()=>"loading","DAILY_TRACK_STATE_OFF",()=>"off","DAILY_TRACK_STATE_PLAYABLE",()=>cS,"DAILY_TRACK_STATE_SENDABLE",()=>"sendable","default",()=>fk])},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},74998,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.Api=c.HttpClient=c.ContentType=void 0,(e=d||(c.ContentType=d={})).Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain";class f{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...a)=>fetch(...a);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(a={}){Object.assign(this,a)}setSecurityData=a=>{this.securityData=a};encodeQueryParam(a,b){let c=encodeURIComponent(a);return`${c}=${encodeURIComponent("number"==typeof b?b:`${b}`)}`}addQueryParam(a,b){return this.encodeQueryParam(b,a[b])}addArrayQueryParam(a,b){return a[b].map(a=>this.encodeQueryParam(b,a)).join("&")}toQueryString(a){let b=a||{};return Object.keys(b).filter(a=>void 0!==b[a]).map(a=>Array.isArray(b[a])?this.addArrayQueryParam(b,a):this.addQueryParam(b,a)).join("&")}addQueryParams(a){let b=this.toQueryString(a);return b?`?${b}`:""}contentFormatters={[d.Json]:a=>null!==a&&("object"==typeof a||"string"==typeof a)?JSON.stringify(a):a,[d.JsonApi]:a=>null!==a&&("object"==typeof a||"string"==typeof a)?JSON.stringify(a):a,[d.Text]:a=>null!==a&&"string"!=typeof a?JSON.stringify(a):a,[d.FormData]:a=>a instanceof FormData?a:Object.keys(a||{}).reduce((b,c)=>{let d=a[c];return b.append(c,d instanceof Blob?d:"object"==typeof d&&null!==d?JSON.stringify(d):`${d}`),b},new FormData),[d.UrlEncoded]:a=>this.toQueryString(a)};mergeRequestParams(a,b){return{...this.baseApiParams,...a,...b||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...b&&b.headers||{}}}}createAbortSignal=a=>{if(this.abortControllers.has(a)){let b=this.abortControllers.get(a);return b?b.signal:void 0}let b=new AbortController;return this.abortControllers.set(a,b),b.signal};abortRequest=a=>{let b=this.abortControllers.get(a);b&&(b.abort(),this.abortControllers.delete(a))};request=async({body:a,secure:b,path:c,type:e,query:f,format:g,baseUrl:h,cancelToken:i,...j})=>{let k=("boolean"==typeof b?b:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},l=this.mergeRequestParams(j,k),m=f&&this.toQueryString(f),n=this.contentFormatters[e||d.Json],o=g||l.format;return this.customFetch(`${h||this.baseUrl||""}${c}${m?`?${m}`:""}`,{...l,headers:{...l.headers||{},...e&&e!==d.FormData?{"Content-Type":e}:{}},signal:(i?this.createAbortSignal(i):l.signal)||null,body:null==a?null:n(a)}).then(async a=>{a.data=null,a.error=null;let b=o?a.clone():a,c=o?await b[o]().then(b=>(a.ok?a.data=b:a.error=b,a)).catch(b=>(a.error=b,a)):a;if(i&&this.abortControllers.delete(i),!a.ok)throw c;return c})}}c.HttpClient=f,c.Api=class extends f{assistant={assistantControllerCreate:(a,b={})=>this.request({path:"/assistant",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),assistantControllerFindAll:(a,b={})=>this.request({path:"/assistant",method:"GET",query:a,secure:!0,format:"json",...b}),assistantControllerFindOne:(a,b={})=>this.request({path:`/assistant/${a}`,method:"GET",secure:!0,format:"json",...b}),assistantControllerUpdate:(a,b,c={})=>this.request({path:`/assistant/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),assistantControllerReplace:(a,b,c={})=>this.request({path:`/assistant/${a}`,method:"PUT",body:b,secure:!0,type:d.Json,format:"json",...c}),assistantControllerRemove:(a,b={})=>this.request({path:`/assistant/${a}`,method:"DELETE",secure:!0,format:"json",...b}),assistantControllerFindVersions:(a,b,c={})=>this.request({path:`/assistant/${a}/version`,method:"GET",query:b,secure:!0,format:"json",...c})};v2={assistantControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/assistant",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerCallsExport:(a,b={})=>this.request({path:"/v2/call/export",method:"GET",query:a,secure:!0,...b}),callControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/call",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerFindAllMetadataPaginated:(a,b={})=>this.request({path:"/v2/call/metadata",method:"GET",query:a,secure:!0,format:"json",...b}),phoneNumberControllerFindAllPaginated:(a,b={})=>this.request({path:"/v2/phone-number",method:"GET",query:a,secure:!0,format:"json",...b})};squad={squadControllerCreate:(a,b={})=>this.request({path:"/squad",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),squadControllerFindAll:(a,b={})=>this.request({path:"/squad",method:"GET",query:a,secure:!0,format:"json",...b}),squadControllerFindOne:(a,b={})=>this.request({path:`/squad/${a}`,method:"GET",secure:!0,format:"json",...b}),squadControllerUpdate:(a,b,c={})=>this.request({path:`/squad/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),squadControllerRemove:(a,b={})=>this.request({path:`/squad/${a}`,method:"DELETE",secure:!0,format:"json",...b})};workflow={workflowControllerFindAll:(a={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...a}),workflowControllerCreate:(a,b={})=>this.request({path:"/workflow",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),workflowControllerFindOne:(a,b={})=>this.request({path:`/workflow/${a}`,method:"GET",secure:!0,format:"json",...b}),workflowControllerDelete:(a,b={})=>this.request({path:`/workflow/${a}`,method:"DELETE",secure:!0,format:"json",...b}),workflowControllerUpdate:(a,b,c={})=>this.request({path:`/workflow/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c})};call={callControllerCreate:(a,b={})=>this.request({path:"/call",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),callControllerFindAll:(a,b={})=>this.request({path:"/call",method:"GET",query:a,secure:!0,format:"json",...b}),callControllerFindOne:(a,b={})=>this.request({path:`/call/${a}`,method:"GET",secure:!0,format:"json",...b}),callControllerUpdate:(a,b,c={})=>this.request({path:`/call/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),callControllerDeleteCallData:(a,b={})=>this.request({path:`/call/${a}`,method:"DELETE",secure:!0,format:"json",...b}),callControllerCreatePhoneCall:(a,b={})=>this.request({path:"/call/phone",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),callControllerCreateWebCall:(a,b={})=>this.request({path:"/call/web",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})};chat={chatControllerListChats:(a,b={})=>this.request({path:"/chat",method:"GET",query:a,secure:!0,format:"json",...b}),chatControllerCreateChat:(a,b={})=>this.request({path:"/chat",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerGetChat:(a,b={})=>this.request({path:`/chat/${a}`,method:"GET",secure:!0,format:"json",...b}),chatControllerDeleteChat:(a,b={})=>this.request({path:`/chat/${a}`,method:"DELETE",secure:!0,format:"json",...b}),chatControllerCreateOpenAiChat:(a,b={})=>this.request({path:"/chat/responses",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerCreateWebChat:(a,b={})=>this.request({path:"/chat/web",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),chatControllerCreateOpenAiWebChat:(a,b={})=>this.request({path:"/chat/web/responses",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})};campaign={campaignControllerCreate:(a,b={})=>this.request({path:"/campaign",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),campaignControllerFindAll:(a,b={})=>this.request({path:"/campaign",method:"GET",query:a,secure:!0,format:"json",...b}),campaignControllerFindOne:(a,b={})=>this.request({path:`/campaign/${a}`,method:"GET",secure:!0,format:"json",...b}),campaignControllerUpdate:(a,b,c={})=>this.request({path:`/campaign/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),campaignControllerRemove:(a,b={})=>this.request({path:`/campaign/${a}`,method:"DELETE",secure:!0,format:"json",...b})};session={sessionControllerCreate:(a,b={})=>this.request({path:"/session",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),sessionControllerFindAllPaginated:(a,b={})=>this.request({path:"/session",method:"GET",query:a,secure:!0,format:"json",...b}),sessionControllerFindOne:(a,b={})=>this.request({path:`/session/${a}`,method:"GET",secure:!0,format:"json",...b}),sessionControllerUpdate:(a,b,c={})=>this.request({path:`/session/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),sessionControllerRemove:(a,b={})=>this.request({path:`/session/${a}`,method:"DELETE",secure:!0,format:"json",...b})};phoneNumber={phoneNumberControllerImportTwilio:(a,b={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerImportVonage:(a,b={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerCreate:(a,b={})=>this.request({path:"/phone-number",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),phoneNumberControllerFindAll:(a,b={})=>this.request({path:"/phone-number",method:"GET",query:a,secure:!0,format:"json",...b}),phoneNumberControllerFindOne:(a,b={})=>this.request({path:`/phone-number/${a}`,method:"GET",secure:!0,format:"json",...b}),phoneNumberControllerUpdate:(a,b,c={})=>this.request({path:`/phone-number/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),phoneNumberControllerRemove:(a,b={})=>this.request({path:`/phone-number/${a}`,method:"DELETE",secure:!0,format:"json",...b})};tool={toolControllerCreate:(a,b={})=>this.request({path:"/tool",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),toolControllerFindAll:(a,b={})=>this.request({path:"/tool",method:"GET",query:a,secure:!0,format:"json",...b}),toolControllerFindOne:(a,b={})=>this.request({path:`/tool/${a}`,method:"GET",secure:!0,format:"json",...b}),toolControllerUpdate:(a,b,c={})=>this.request({path:`/tool/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),toolControllerRemove:(a,b={})=>this.request({path:`/tool/${a}`,method:"DELETE",secure:!0,format:"json",...b})};file={fileControllerCreateDeprecated:(a,b={})=>this.request({path:"/file/upload",method:"POST",body:a,secure:!0,type:d.FormData,format:"json",...b}),fileControllerCreate:(a,b={})=>this.request({path:"/file",method:"POST",body:a,secure:!0,type:d.FormData,format:"json",...b}),fileControllerFindAll:(a={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...a}),fileControllerFindOne:(a,b={})=>this.request({path:`/file/${a}`,method:"GET",secure:!0,format:"json",...b}),fileControllerUpdate:(a,b,c={})=>this.request({path:`/file/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),fileControllerRemove:(a,b={})=>this.request({path:`/file/${a}`,method:"DELETE",secure:!0,format:"json",...b})};knowledgeBase={knowledgeBaseControllerCreate:(a,b={})=>this.request({path:"/knowledge-base",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),knowledgeBaseControllerFindAll:(a,b={})=>this.request({path:"/knowledge-base",method:"GET",query:a,secure:!0,format:"json",...b}),knowledgeBaseControllerFindOne:(a,b={})=>this.request({path:`/knowledge-base/${a}`,method:"GET",secure:!0,format:"json",...b}),knowledgeBaseControllerUpdate:(a,b,c={})=>this.request({path:`/knowledge-base/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),knowledgeBaseControllerRemove:(a,b={})=>this.request({path:`/knowledge-base/${a}`,method:"DELETE",secure:!0,format:"json",...b})};structuredOutput={structuredOutputControllerFindAll:(a,b={})=>this.request({path:"/structured-output",method:"GET",query:a,secure:!0,format:"json",...b}),structuredOutputControllerCreate:(a,b={})=>this.request({path:"/structured-output",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),structuredOutputControllerFindOne:(a,b={})=>this.request({path:`/structured-output/${a}`,method:"GET",secure:!0,format:"json",...b}),structuredOutputControllerUpdate:(a,b,c,e={})=>this.request({path:`/structured-output/${a}`,method:"PATCH",query:b,body:c,secure:!0,type:d.Json,format:"json",...e}),structuredOutputControllerRemove:(a,b={})=>this.request({path:`/structured-output/${a}`,method:"DELETE",secure:!0,format:"json",...b})};testSuite={testSuiteControllerFindAllPaginated:(a,b={})=>this.request({path:"/test-suite",method:"GET",query:a,secure:!0,format:"json",...b}),testSuiteControllerCreate:(a,b={})=>this.request({path:"/test-suite",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),testSuiteControllerFindOne:(a,b={})=>this.request({path:`/test-suite/${a}`,method:"GET",secure:!0,format:"json",...b}),testSuiteControllerUpdate:(a,b,c={})=>this.request({path:`/test-suite/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteControllerRemove:(a,b={})=>this.request({path:`/test-suite/${a}`,method:"DELETE",secure:!0,format:"json",...b}),testSuiteTestControllerFindAllPaginated:(a,b,c={})=>this.request({path:`/test-suite/${a}/test`,method:"GET",query:b,secure:!0,format:"json",...c}),testSuiteTestControllerCreate:(a,b,c={})=>this.request({path:`/test-suite/${a}/test`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteTestControllerFindOne:(a,b,c={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"GET",secure:!0,format:"json",...c}),testSuiteTestControllerUpdate:(a,b,c,e={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"PATCH",body:c,secure:!0,type:d.Json,format:"json",...e}),testSuiteTestControllerRemove:(a,b,c={})=>this.request({path:`/test-suite/${a}/test/${b}`,method:"DELETE",secure:!0,format:"json",...c}),testSuiteRunControllerFindAllPaginated:(a,b,c={})=>this.request({path:`/test-suite/${a}/run`,method:"GET",query:b,secure:!0,format:"json",...c}),testSuiteRunControllerCreate:(a,b,c={})=>this.request({path:`/test-suite/${a}/run`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),testSuiteRunControllerFindOne:(a,b,c={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"GET",secure:!0,format:"json",...c}),testSuiteRunControllerUpdate:(a,b,c,e={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"PATCH",body:c,secure:!0,type:d.Json,format:"json",...e}),testSuiteRunControllerRemove:(a,b,c={})=>this.request({path:`/test-suite/${a}/run/${b}`,method:"DELETE",secure:!0,format:"json",...c})};eval={evalControllerCreate:(a,b={})=>this.request({path:"/eval",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),evalControllerGetPaginated:(a,b={})=>this.request({path:"/eval",method:"GET",query:a,secure:!0,format:"json",...b}),evalControllerUpdate:(a,b,c={})=>this.request({path:`/eval/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),evalControllerRemove:(a,b={})=>this.request({path:`/eval/${a}`,method:"DELETE",secure:!0,format:"json",...b}),evalControllerGet:(a,b={})=>this.request({path:`/eval/${a}`,method:"GET",secure:!0,format:"json",...b}),evalControllerRemoveRun:(a,b={})=>this.request({path:`/eval/run/${a}`,method:"DELETE",secure:!0,format:"json",...b}),evalControllerGetRun:(a,b={})=>this.request({path:`/eval/run/${a}`,method:"GET",secure:!0,format:"json",...b}),evalControllerRun:(a,b={})=>this.request({path:"/eval/run",method:"POST",body:a,secure:!0,type:d.Json,...b}),evalControllerGetRunsPaginated:(a,b={})=>this.request({path:"/eval/run",method:"GET",query:a,secure:!0,format:"json",...b})};org={orgControllerCreate:(a,b={})=>this.request({path:"/org",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),orgControllerFindAll:(a={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...a}),orgControllerFeatureFlagEnabled:(a,b={})=>this.request({path:"/org/feature-flag",method:"GET",query:a,secure:!0,format:"json",...b}),orgControllerFindOne:(a,b={})=>this.request({path:`/org/${a}`,method:"GET",secure:!0,format:"json",...b}),orgControllerUpdate:(a,b,c={})=>this.request({path:`/org/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),orgControllerDeleteOrg:(a,b={})=>this.request({path:`/org/${a}`,method:"DELETE",secure:!0,...b}),orgControllerFindAllUsers:(a,b={})=>this.request({path:`/org/${a}/user`,method:"GET",secure:!0,format:"json",...b}),orgControllerOrgLeave:(a,b={})=>this.request({path:`/org/${a}/leave`,method:"DELETE",secure:!0,...b}),orgControllerOrgRemoveUser:(a,b,c={})=>this.request({path:`/org/${a}/member/${b}/leave`,method:"DELETE",secure:!0,...c}),orgControllerUsersInvite:(a,b,c={})=>this.request({path:`/org/${a}/invite`,method:"POST",body:b,secure:!0,type:d.Json,...c}),orgControllerUserUpdate:(a,b,c={})=>this.request({path:`/org/${a}/role`,method:"PATCH",body:b,secure:!0,type:d.Json,...c}),orgControllerOrgToken:(a,b={})=>this.request({path:`/org/${a}/auth`,method:"GET",secure:!0,format:"json",...b})};token={tokenControllerCreate:(a,b={})=>this.request({path:"/token",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),tokenControllerFindAll:(a,b={})=>this.request({path:"/token",method:"GET",query:a,secure:!0,format:"json",...b}),tokenControllerFindOne:(a,b={})=>this.request({path:`/token/${a}`,method:"GET",secure:!0,format:"json",...b}),tokenControllerUpdate:(a,b,c={})=>this.request({path:`/token/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),tokenControllerRemove:(a,b={})=>this.request({path:`/token/${a}`,method:"DELETE",secure:!0,format:"json",...b})};credential={credentialControllerCreate:(a,b={})=>this.request({path:"/credential",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),credentialControllerFindAll:(a,b={})=>this.request({path:"/credential",method:"GET",query:a,secure:!0,format:"json",...b}),credentialControllerFindOne:(a,b={})=>this.request({path:`/credential/${a}`,method:"GET",secure:!0,format:"json",...b}),credentialControllerUpdate:(a,b,c={})=>this.request({path:`/credential/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),credentialControllerRemove:(a,b={})=>this.request({path:`/credential/${a}`,method:"DELETE",secure:!0,format:"json",...b}),credentialControllerGenerateSession:(a,b={})=>this.request({path:"/credential/session",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),credentialControllerHandleWebhook:(a,b={})=>this.request({path:"/credential/webhook",method:"POST",body:a,type:d.Json,...b}),credentialControllerTriggerCredentialAction:(a,b={})=>this.request({path:"/credential/trigger",method:"POST",body:a,secure:!0,type:d.Json,...b})};template={templateControllerCreate:(a,b={})=>this.request({path:"/template",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),templateControllerFindAll:(a,b={})=>this.request({path:"/template",method:"GET",query:a,secure:!0,format:"json",...b}),templateControllerFindAllPinned:(a={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...a}),templateControllerFindOne:(a,b={})=>this.request({path:`/template/${a}`,method:"GET",secure:!0,format:"json",...b}),templateControllerUpdate:(a,b,c={})=>this.request({path:`/template/${a}`,method:"PATCH",body:b,secure:!0,type:d.Json,format:"json",...c}),templateControllerRemove:(a,b={})=>this.request({path:`/template/${a}`,method:"DELETE",secure:!0,format:"json",...b})};voiceLibrary={voiceLibraryControllerVoiceGetByProvider:(a,b,c={})=>this.request({path:`/voice-library/${a}`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceLibraryControllerVoiceGetAccentsByProvider:(a,b={})=>this.request({path:`/voice-library/${a}/accents`,method:"GET",secure:!0,format:"json",...b}),voiceLibraryControllerVoiceLibrarySyncByProvider:(a,b={})=>this.request({path:`/voice-library/sync/${a}`,method:"POST",secure:!0,format:"json",...b}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(a,b={})=>this.request({path:"/voice-library/sync",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(a,b={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:a,secure:!0,type:d.Json,...b})};provider={providerResourceControllerCreateProviderResource:(a,b,c={})=>this.request({path:`/provider/${a}/${b}`,method:"POST",secure:!0,format:"json",...c}),providerResourceControllerGetProviderResourcesPaginated:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}`,method:"GET",query:c,secure:!0,format:"json",...d}),providerResourceControllerGetProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"GET",secure:!0,format:"json",...d}),providerResourceControllerDeleteProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"DELETE",secure:!0,format:"json",...d}),providerResourceControllerUpdateProviderResource:(a,b,c,d={})=>this.request({path:`/provider/${a}/${b}/${c}`,method:"PATCH",secure:!0,format:"json",...d}),providerControllerGetWorkflows:(a,b,c={})=>this.request({path:`/${a}/workflows`,method:"GET",query:b,secure:!0,format:"json",...c}),providerControllerGetWorkflowTriggerHook:(a,b,c={})=>this.request({path:`/${a}/workflows/${b}/hooks`,method:"GET",secure:!0,format:"json",...c}),providerControllerGetLocations:(a,b={})=>this.request({path:`/${a}/locations`,method:"GET",secure:!0,format:"json",...b}),voiceProviderControllerSearchVoices:(a,b,c={})=>this.request({path:`/${a}/voices/search`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceProviderControllerSearchVoice:(a,b,c={})=>this.request({path:`/${a}/voice/search`,method:"GET",query:b,secure:!0,format:"json",...c}),voiceProviderControllerAddVoices:(a,b,c={})=>this.request({path:`/${a}/voices/add`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c}),voiceProviderControllerAddVoice:(a,b,c={})=>this.request({path:`/${a}/voice/add`,method:"POST",body:b,secure:!0,type:d.Json,format:"json",...c})};v11Labs={voiceProviderControllerCloneVoices:(a,b={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:a,secure:!0,type:d.FormData,...b})};analytics={analyticsControllerQuery:(a,b={})=>this.request({path:"/analytics",method:"POST",body:a,secure:!0,type:d.Json,format:"json",...b})}}},99451,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.client=void 0,c.client=new(a.r(74998)).Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async a=>{if(a)return{headers:{Authorization:`Bearer ${a}`}}}})},55786,(a,b,c)=>{"use strict";async function d(a,b){if(!a)throw Error("Call object is not available.");if("audioSource"in b&&!1===b.audioSource){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");let{audioSource:c,...d}=b;await a.setInputDevicesAsync(d);return}await a.setInputDevicesAsync(b)}Object.defineProperty(c,"__esModule",{value:!0}),c.createSafeDailyConfig=function(a){if(!a)return{};let{alwaysIncludeMicInPermissionPrompt:b,...c}=a;return!1===b?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),c):a},c.safeSetLocalAudio=function(a,b){if(!a)throw Error("Call object is not available.");a.setLocalAudio(b)},c.safeSetInputDevicesAsync=d,c.createSafeDailyFactoryOptions=function(a){return a?!1===a.audioSource?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...a,audioSource:!0}):a:{}}},96226,(a,b,c)=>{"use strict";var d=a.e&&a.e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});let e=d(a.r(43449)),f=d(a.r(27699)),g=a.r(99451),h=a.r(55786);async function i(a,b){a.muted=!1,a.autoplay=!0,null!=b&&(a.srcObject=new MediaStream([b]),await a.play())}async function j(a,b){let c=document.createElement("audio");return c.dataset.participantId=b,document.body.appendChild(c),await i(c,a),c}function k(a){let b=document.querySelector(`audio[data-participant-id="${a}"]`);b?.remove()}function l(a,b,c,d){a.participant.local||b.updateParticipant(a.participant.session_id,{setSubscribedTracks:{audio:!0,video:c||d}})}class m extends f.default{on(a,b){return super.on(a,b),this}once(a,b){return super.once(a,b),this}emit(a,...b){return super.emit(a,...b)}removeListener(a,b){return super.removeListener(a,b),this}removeAllListeners(a){return super.removeAllListeners(a),this}}c.default=class extends m{started=!1;call=null;speakingTimeout=null;dailyCallConfig={};dailyCallObject={};hasEmittedCallEndedStatus=!1;constructor(a,b,c,d){super(),g.client.baseUrl=b??"https://api.vapi.ai",g.client.setSecurityData(a),this.dailyCallConfig=(0,h.createSafeDailyConfig)(c),this.dailyCallObject=(0,h.createSafeDailyFactoryOptions)(d)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if("undefined"==typeof navigator)return!1;let a=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(a.toLowerCase())}async sleep(a){return new Promise(b=>setTimeout(b,a))}async start(a,b,c,d,f,i){let m=Date.now();if(!a&&!c&&!d){let a=Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:a.message,timestamp:new Date().toISOString()}),a}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});let n=Date.now(),o=(await g.client.call.callControllerCreateWebCall({assistant:"string"==typeof a?void 0:a,assistantId:"string"==typeof a?a:void 0,assistantOverrides:b,squad:"string"==typeof c?void 0:c,squadId:"string"==typeof c?c:void 0,workflow:"string"==typeof d?void 0:d,workflowId:"string"==typeof d?d:void 0,workflowOverrides:f,roomDeleteOnUserLeaveEnabled:i?.roomDeleteOnUserLeaveEnabled})).data,p=Date.now()-n;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:p,timestamp:new Date().toISOString(),metadata:{callId:o?.id||"unknown",videoRecordingEnabled:o?.artifactPlan?.videoRecordingEnabled??!1,voiceProvider:o?.assistant?.voice?.provider||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());let q=o?.artifactPlan?.videoRecordingEnabled??!1,r=o?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??q,isVideoRecordingEnabled:q,isVideoEnabled:r}});let s=Date.now();try{this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??q,dailyConfig:this.dailyCallConfig});let a=Date.now()-s;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-s;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:b,timestamp:new Date().toISOString()}),b}this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),q&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",a=>{this.emit("error",a),q&&this.call?.stopRecording()}),this.call.on("camera-error",a=>{this.emit("camera-error",a)}),this.call.on("network-quality-change",a=>{this.emit("network-quality-change",a)}),this.call.on("network-connection",a=>{this.emit("network-connection",a)}),this.call.on("track-started",async a=>{!a||!a.participant||a.participant?.local||a.participant?.user_name==="Vapi Speaker"&&("video"===a.track.kind&&this.emit("video",a.track),"audio"===a.track.kind&&await j(a.track,a.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",a=>{a&&this.call&&l(a,this.call,q,r)}),this.call.on("participant-updated",a=>{a&&this.emit("daily-participant-updated",a.participant)}),this.call.on("participant-left",a=>{a&&k(a.participant.session_id)});let t=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:t}}),t){let a=Date.now();await this.sleep(1e3);let b=Date.now()-a;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let u=Date.now();try{await this.call.join({url:o.webCallUrl,subscribeToTracksAutomatically:!1});let a=Date.now()-u;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-u;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:b,duration:a,timestamp:new Date().toISOString()}),b}if(q){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let a=new Date().getTime(),b=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let c=Date.now()-b;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:c,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let b=(new Date().getTime()-a)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:b}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:b})})}catch(c){let a=Date.now()-b;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:c?.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:c,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let v=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let a=Date.now()-v;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-v;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:b,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",a=>{a&&this.handleRemoteParticipantsAudioLevel(a)}),this.call.on("app-message",a=>this.onAppMessage(a)),this.call.on("nonfatal-error",a=>{a?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,h.safeSetLocalAudio)(this.call,!0)})}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let w=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let a=Date.now()-w;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-w;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:b,timestamp:new Date().toISOString()})}let x=Date.now()-m;return this.emit("call-start-success",{totalDuration:x,callId:o?.id||"unknown",timestamp:new Date().toISOString()}),o}catch(e){let b=Date.now()-m;return this.emit("call-start-failed",{stage:"unknown",totalDuration:b,error:e?.toString()||"Unknown error occurred",errorStack:e instanceof Error?e.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:e,totalDuration:b,timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!c,hasWorkflow:!!d,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(a){if(a)try{if("listening"===a.data)return this.emit("call-start");try{let b=JSON.parse(a.data);this.emit("message",b),b&&"type"in b&&"status"in b&&"status-update"===b.type&&"ended"===b.status&&(this.hasEmittedCallEndedStatus=!0)}catch(a){console.log("Error parsing message data: ",a)}}catch(a){console.error(a)}}handleRemoteParticipantsAudioLevel(a){let b=Object.values(a.participantsAudioLevel).reduce((a,b)=>a+b,0);this.emit("volume-level",Math.min(1,b/.15)),b>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(a){this.call?.sendAppMessage(JSON.stringify(a))}setMuted(a){(0,h.safeSetLocalAudio)(this.call,!a)}isMuted(){return!!this.call&&!1===this.call.localAudio()}say(a,b,c,d){this.send({type:"say",message:a,endCallAfterSpoken:b,interruptionsEnabled:c??!1,interruptAssistantEnabled:d??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(a){return(0,h.safeSetInputDevicesAsync)(this.call,a)}async increaseMicLevel(a){if(!this.call)throw Error("Call object is not available.");try{let b=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new AudioContext,d=c.createMediaStreamSource(b),e=c.createGain();e.gain.value=a,d.connect(e);let f=c.createMediaStreamDestination();e.connect(f);let[g]=f.stream.getAudioTracks();await (0,h.safeSetInputDevicesAsync)(this.call,{audioSource:g})}catch(a){console.error("Error adjusting microphone level:",a)}}setOutputDeviceAsync(a){this.call?.setOutputDeviceAsync(a)}getDailyCallObject(){return this.call}startScreenSharing(a,b){this.call?.startScreenShare({displayMediaOptions:a,screenVideoSendSettings:b})}stopScreenSharing(){this.call?.stopScreenShare()}async reconnect(a){let b=Date.now();if(this.started)throw Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!a.webCallUrl)throw Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:a.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));let c=a?.artifactPlan?.videoRecordingEnabled??!1,d=a?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??c,isVideoRecordingEnabled:c,isVideoEnabled:d}});let f=Date.now();this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??c,dailyConfig:this.dailyCallConfig});let g=Date.now()-f;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:g,timestamp:new Date().toISOString()}),this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),c&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",a=>{this.emit("error",a),c&&this.call?.stopRecording()}),this.call.on("camera-error",a=>{this.emit("camera-error",a)}),this.call.on("network-quality-change",a=>{this.emit("network-quality-change",a)}),this.call.on("network-connection",a=>{this.emit("network-connection",a)}),this.call.on("track-started",async a=>{!a||!a.participant||a.participant?.local||a.participant?.user_name==="Vapi Speaker"&&("video"===a.track.kind&&this.emit("video",a.track),"audio"===a.track.kind&&await j(a.track,a.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",a=>{a&&this.call&&l(a,this.call,c,d)}),this.call.on("participant-updated",a=>{a&&this.emit("daily-participant-updated",a.participant)}),this.call.on("participant-left",a=>{a&&k(a.participant.session_id)}),this.call.on("remote-participants-audio-level",a=>{a&&this.handleRemoteParticipantsAudioLevel(a)}),this.call.on("app-message",a=>this.onAppMessage(a)),this.call.on("nonfatal-error",a=>{a?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,h.safeSetLocalAudio)(this.call,!0)})});let i=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:i}}),i){let a=Date.now();await this.sleep(1e3);let b=Date.now()-a;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let m=Date.now();await this.call.join({url:a.webCallUrl,subscribeToTracksAutomatically:!1});let n=Date.now()-m;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:n,timestamp:new Date().toISOString()}),c){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let a=Date.now(),b=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let c=Date.now()-a;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:c,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let a=(new Date().getTime()-b)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:a}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:a})})}catch(c){let b=Date.now()-a;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:b,timestamp:new Date().toISOString(),metadata:{error:c?.toString()}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let o=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let a=Date.now()-o;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-o;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let p=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let a=Date.now()-p;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(b){let a=Date.now()-p;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:a,timestamp:new Date().toISOString(),metadata:{error:b?.toString()}})}let q=Date.now()-b;this.emit("call-start-success",{totalDuration:q,callId:a?.id||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(d){let c=Date.now()-b;throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:c,error:d?.toString()||"Unknown error occurred",errorStack:d instanceof Error?d.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:a?.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:d,totalDuration:c,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:a?.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),d}}}},7853,a=>{"use strict";var b=a.i(87924),c=a.i(70106);let d=(0,c.default)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),e=(0,c.default)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),f=(0,c.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),g=(0,c.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),h=(0,c.default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),i=(0,c.default)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),j=(0,c.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),k=(0,c.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),l=(0,c.default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var m=a.i(87584),n=a.i(72131),o=a.i(7554),p=a.i(70121),q=a.i(50104),r=a.i(92843),s=a.i(25152),t=a.i(96743),u=a.i(22297),v=a.i(92616),w=a.i(77192),x=a.i(30553),y=a.i(86228),z=a.i(52081),A=a.i(41852),B=a.i(11011),C="Dialog",[D,E]=(0,q.createContextScope)(C),[F,G]=D(C),H=a=>{let{__scopeDialog:c,children:d,open:e,defaultOpen:f,onOpenChange:g,modal:h=!0}=a,i=n.useRef(null),j=n.useRef(null),[k,l]=(0,s.useControllableState)({prop:e,defaultProp:f??!1,onChange:g,caller:C});return(0,b.jsx)(F,{scope:c,triggerRef:i,contentRef:j,contentId:(0,r.useId)(),titleId:(0,r.useId)(),descriptionId:(0,r.useId)(),open:k,onOpenChange:l,onOpenToggle:n.useCallback(()=>l(a=>!a),[l]),modal:h,children:d})};H.displayName=C;var I="DialogTrigger";n.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(I,d),g=(0,p.useComposedRefs)(c,f.triggerRef);return(0,b.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":aa(f.open),...e,ref:g,onClick:(0,o.composeEventHandlers)(a.onClick,f.onOpenToggle)})}).displayName=I;var J="DialogPortal",[K,L]=D(J,{forceMount:void 0}),M=a=>{let{__scopeDialog:c,forceMount:d,children:e,container:f}=a,g=G(J,c);return(0,b.jsx)(K,{scope:c,forceMount:d,children:n.Children.map(e,a=>(0,b.jsx)(w.Presence,{present:d||g.open,children:(0,b.jsx)(v.Portal,{asChild:!0,container:f,children:a})}))})};M.displayName=J;var N="DialogOverlay",O=n.forwardRef((a,c)=>{let d=L(N,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=G(N,a.__scopeDialog);return g.modal?(0,b.jsx)(w.Presence,{present:e||g.open,children:(0,b.jsx)(Q,{...f,ref:c})}):null});O.displayName=N;var P=(0,B.createSlot)("DialogOverlay.RemoveScroll"),Q=n.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(N,d);return(0,b.jsx)(z.RemoveScroll,{as:P,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(x.Primitive.div,{"data-state":aa(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),R="DialogContent",S=n.forwardRef((a,c)=>{let d=L(R,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=G(R,a.__scopeDialog);return(0,b.jsx)(w.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(T,{...f,ref:c}):(0,b.jsx)(U,{...f,ref:c})})});S.displayName=R;var T=n.forwardRef((a,c)=>{let d=G(R,a.__scopeDialog),e=n.useRef(null),f=(0,p.useComposedRefs)(c,d.contentRef,e);return n.useEffect(()=>{let a=e.current;if(a)return(0,A.hideOthers)(a)},[]),(0,b.jsx)(V,{...a,ref:f,trapFocus:d.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),d.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,o.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),U=n.forwardRef((a,c)=>{let d=G(R,a.__scopeDialog),e=n.useRef(!1),f=n.useRef(!1);return(0,b.jsx)(V,{...a,ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(e.current||d.triggerRef.current?.focus(),b.preventDefault()),e.current=!1,f.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(e.current=!0,"pointerdown"===b.detail.originalEvent.type&&(f.current=!0));let c=b.target;d.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&f.current&&b.preventDefault()}})}),V=n.forwardRef((a,c)=>{let{__scopeDialog:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,...h}=a,i=G(R,d),j=n.useRef(null),k=(0,p.useComposedRefs)(c,j);return(0,y.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(t.DismissableLayer,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":aa(i.open),...h,ref:k,onDismiss:()=>i.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ae,{titleId:i.titleId}),(0,b.jsx)(af,{contentRef:j,descriptionId:i.descriptionId})]})]})}),W="DialogTitle",X=n.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(W,d);return(0,b.jsx)(x.Primitive.h2,{id:f.titleId,...e,ref:c})});X.displayName=W;var Y="DialogDescription",Z=n.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G(Y,d);return(0,b.jsx)(x.Primitive.p,{id:f.descriptionId,...e,ref:c})});Z.displayName=Y;var $="DialogClose",_=n.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=G($,d);return(0,b.jsx)(x.Primitive.button,{type:"button",...e,ref:c,onClick:(0,o.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function aa(a){return a?"open":"closed"}_.displayName=$;var ab="DialogTitleWarning",[ac,ad]=(0,q.createContext)(ab,{contentName:R,titleName:W,docsSlug:"dialog"}),ae=({titleId:a})=>{let b=ad(ab),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return n.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},af=({contentRef:a,descriptionId:b})=>{let c=ad("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return n.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null},ag=a.i(33508),ah=a.i(68114);let ai=n.forwardRef(({className:a,...c},d)=>(0,b.jsx)(O,{ref:d,className:(0,ah.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));ai.displayName=O.displayName;let aj=n.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsxs)(M,{children:[(0,b.jsx)(ai,{}),(0,b.jsxs)(S,{ref:e,className:(0,ah.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[c,(0,b.jsxs)(_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,b.jsx)(ag.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));aj.displayName=S.displayName;let ak=({className:a,...c})=>(0,b.jsx)("div",{className:(0,ah.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});ak.displayName="DialogHeader";let al=n.forwardRef(({className:a,...c},d)=>(0,b.jsx)(X,{ref:d,className:(0,ah.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));al.displayName=X.displayName;let am=n.forwardRef(({className:a,...c},d)=>(0,b.jsx)(Z,{ref:d,className:(0,ah.cn)("text-sm text-muted-foreground",a),...c}));am.displayName=Z.displayName;var an=a.i(63519);let ao=(0,c.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var ap=a.i(41710);let aq=(0,c.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var ar=a.i(96226);let as=({isOpen:a,onClose:c,template:d})=>{let e=d?.title==="Restaurant Reservation Bot"||d?.title==="Professional Services Bot";return((0,n.useEffect)(()=>{if(a&&e){let a="vapi-widget-script",b=document.getElementById(a);b||((b=document.createElement("script")).id=a,b.src="https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js",b.async=!0,document.body.appendChild(b));let c=()=>{new ar.default("992bd5fb-c74c-4955-9371-4ae0b3aec062").start("c72f770b-2c30-4021-a81e-6a4f85f176e9")};return b.dataset.loaded?c():b.onload=()=>{b.dataset.loaded="true",c()},()=>{new ar.default("992bd5fb-c74c-4955-9371-4ae0b3aec062").stop();let b=document.getElementById(a);b&&document.body.removeChild(b)}}},[a,e]),d)?(0,b.jsx)(H,{open:a,onOpenChange:c,children:(0,b.jsxs)(aj,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(ak,{children:[(0,b.jsx)(al,{className:"text-2xl font-bold",children:d.title}),(0,b.jsx)(am,{className:"text-base",children:d.description})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-6 border border-primary/20",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)(aq,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Try the Live Demo"}),e?(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["This bot supports both ",(0,b.jsx)("strong",{children:"voice"})," and ",(0,b.jsx)("strong",{children:"text"}),". Click the phone button to start a voice call, or use the chat window to type your questions."]}):(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["This is a ",(0,b.jsx)("strong",{children:"text-only"})," bot. Use the chat window below to interact with the AI and see it in action."]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[(0,b.jsxs)("div",{className:`flex items-start gap-3 bg-background/50 rounded-lg p-3 ${e?"":"opacity-50"}`,children:[(0,b.jsx)(an.Phone,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:"Voice Enabled"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Talk naturally with AI"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[(0,b.jsx)(ao,{className:"w-5 h-5 text-secondary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:"Smart Responses"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Context-aware answers"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[(0,b.jsx)(ap.Clock,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:"24/7 Available"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Always ready to help"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"What This Template Includes:"}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:d.features.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-border",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-2"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Try asking:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[d.title.includes("Salon")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"I\'d like to book a haircut appointment for next Tuesday"'}),(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"What services do you offer and what are your prices?"'})]}),d.title.includes("Retail")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"Do you have this product in stock?"'}),(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"What\'s your return policy?"'})]}),d.title.includes("Real Estate")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"I\'m looking for a 3-bedroom house in downtown"'}),(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"Can I schedule a property viewing?"'})]}),d.title.includes("Professional Services")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"I need to schedule a consultation with a lawyer."'}),(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"What are your billing rates for design services?"'})]}),!d.title.includes("Salon")&&!d.title.includes("Retail")&&!d.title.includes("Real Estate")&&!d.title.includes("Professional Services")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"Tell me more about your services"'}),(0,b.jsx)("div",{className:"text-sm p-3 bg-muted/50 rounded-lg border border-border",children:'"How can you help my business?"'})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:e?"Live Voice & Chat Demo":"Live Chat Demo"}),e?(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("vapi-widget",{"assistant-id":"c72f770b-2c30-4021-a81e-6a4f85f176e9","public-key":"992bd5fb-c74c-4955-9371-4ae0b3aec062"})}):(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"w-[400px] h-[600px] bg-muted/50 border border-border rounded-lg shadow-lg flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Text-only chat widget coming soon."})})})]})]})]})}):null};var at=a.i(99570),au=a.i(50944);a.s(["default",0,()=>{let a=[{icon:i,title:"Restaurant Reservation Bot",category:"booking",description:"Take reservations, answer menu questions, handle special requests, and manage waitlists.",features:["Table management","Menu inquiries","Special requests","Waitlist"]},{icon:j,title:"Professional Services Bot",category:"support",description:"Qualify clients, schedule consultations, explain services, and collect project requirements.",features:["Client intake","Consultation booking","Service catalog","Proposal requests"]},{icon:d,title:"Retail & E-commerce Bot",category:"sales",description:"Handle product inquiries, track orders, process returns, and capture leads 24/7.",features:["Product catalog integration","Order tracking","Returns processing","Upsell recommendations"]},{icon:e,title:"Salon & Spa Booking Bot",category:"booking",description:"Book appointments, send reminders, manage staff schedules, and handle client preferences.",features:["Online booking","SMS reminders","Staff management","Client profiles"]},{icon:f,title:"Medical & Clinic Assistant",category:"booking",description:"Schedule patient appointments, answer common health questions, and send appointment reminders.",features:["HIPAA compliant","Patient scheduling","Prescription reminders","Symptom checker"]},{icon:g,title:"Real Estate Agent Bot",category:"sales",description:"Qualify leads, schedule property viewings, provide listing information, and follow up automatically.",features:["Lead qualification","Viewing scheduler","Property details","Market updates"]},{icon:h,title:"SaaS Support Bot",category:"support",description:"Support customers, demo features, collect feedback, and route complex issues to your team.",features:["Product demos","Ticket creation","Feature requests","Knowledge base"]},{icon:k,title:"Education & Training Bot",category:"support",description:"Answer course questions, manage enrollments, provide student support, and collect feedback.",features:["Course information","Enrollment","Student support","Resource library"]},{icon:l,title:"Retail Store Assistant",category:"sales",description:"Help customers find products, check inventory, provide store hours, and capture feedback.",features:["Product finder","Inventory check","Store information","Customer feedback"]}],c=(0,au.useSearchParams)(),o=c.get("category"),p=c.get("template"),[q,r]=(0,n.useState)(o||"all"),[s,t]=(0,n.useState)(null),[u,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o&&r(o)},[o]),(0,n.useEffect)(()=>{if(p){let b=a.find(a=>a.title.toLowerCase().replace(/ /g,"-")===p);b&&w(b)}},[p]);let w=a=>{console.log("Opening preview for:",a.title),t(a),v(!0)},x="all"===q?a:a.filter(a=>a.category===q);return(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)("section",{className:"pt-32 pb-20 gradient-primary",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 text-center text-white",children:[(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6 animate-fade-in",children:"Ready-to-Deploy AI Templates"}),(0,b.jsx)("p",{className:"text-lg md:text-xl max-w-3xl mx-auto mb-10 text-white/90 animate-fade-in",children:"Get started fast with industry-specific AI solutions built for your business"})]})}),(0,b.jsx)("section",{className:"py-12 bg-muted/30 border-b border-border",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:[{id:"all",label:"All Templates"},{id:"sales",label:"Sales & Lead Gen"},{id:"support",label:"Customer Support"},{id:"booking",label:"Booking & Scheduling"}].map(a=>(0,b.jsx)(at.Button,{variant:q===a.id?"hero":"outline",size:"lg",onClick:()=>r(a.id),children:a.label},a.id))})})}),(0,b.jsx)("section",{className:"py-20 bg-background",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((a,c)=>(0,b.jsxs)("div",{className:"bg-card border border-border rounded-2xl p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 animate-fade-in",children:[(0,b.jsx)("div",{className:"w-16 h-16 gradient-primary rounded-xl flex items-center justify-center mb-6",children:(0,b.jsx)(a.icon,{className:"text-white",size:32})}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-3",children:a.title}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:a.description}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsx)("div",{className:"text-sm font-semibold",children:"Key Features:"}),a.features.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),a]},c))]}),(0,b.jsx)(at.Button,{variant:"hero",className:"w-full",onClick:()=>w(a),children:"Preview Template"})]},c))})})}),(0,b.jsx)("section",{className:"py-20 bg-muted/30",children:(0,b.jsx)("div",{className:"container mx-auto px-4 text-center",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Need something custom?"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Don't see a template that fits your needs? We can build a custom AI agent tailored specifically for your business."}),(0,b.jsx)(at.Button,{variant:"hero",size:"xl",children:"Request Custom Solution"})]})})}),(0,b.jsx)(m.default,{title:"Ready to launch your AI agent?",subtitle:"Choose a template and go live in days, not months"}),(0,b.jsx)(as,{isOpen:u,onClose:()=>v(!1),template:s})]})}],7853)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__30ff1bc5._.js.map